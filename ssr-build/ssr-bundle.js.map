{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"preact\"","webpack:///./style/index.css?3992","webpack:///./routes/home/style.css?b889","webpack:///../node_modules/preact/hooks/src/index.js","webpack:///./components/code-editor/style.css?f0fe","webpack:///../node_modules/@codemirror/state/dist/index.js","webpack:///../node_modules/style-mod/src/style-mod.js","webpack:///../node_modules/w3c-keyname/index.es.js","webpack:///../node_modules/@codemirror/view/dist/index.js","webpack:///../node_modules/@lezer/common/dist/index.js","webpack:///../node_modules/@lezer/highlight/dist/index.js","webpack:///../node_modules/@codemirror/language/dist/index.js","webpack:///../node_modules/@codemirror/commands/dist/index.js","webpack:///../node_modules/crelt/index.es.js","webpack:///../node_modules/@codemirror/search/dist/index.js","webpack:///../node_modules/@codemirror/autocomplete/dist/index.js","webpack:///../node_modules/@codemirror/lint/dist/index.js","webpack:///../node_modules/codemirror/dist/index.js","webpack:///../node_modules/@codemirror/legacy-modes/mode/haskell.js","webpack:///../node_modules/@codemirror/theme-one-dark/dist/index.js","webpack:///../node_modules/@replit/codemirror-vim/dist/index.js","webpack:///../node_modules/@replit/codemirror-emacs/dist/index.js","webpack:///../node_modules/@preact/signals-core/src/index.ts","webpack:///../node_modules/@preact/signals/src/index.ts","webpack:///./components/code-editor/index.tsx","webpack:///./components/config-select/style.css?3371","webpack:///./components/config-select/index.tsx","webpack:///./routes/home/index.tsx","webpack:///./components/app.tsx","webpack:///./index.ts"],"names":["currentIndex","currentComponent","previousComponent","prevRaf","currentHook","afterPaintEffects","EMPTY","oldBeforeDiff","options","oldBeforeRender","oldAfterDiff","diffed","oldCommit","__c","oldBeforeUnmount","unmount","getHookState","index","type","__h","hooks","__H","__","length","push","__V","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_reducer","undefined","currentValue","__N","nextValue","action","setState","_hasScuFromHooks","prevScu","shouldComponentUpdate","p","s","c","stateHooks","filter","x","every","call","this","shouldUpdate","forEach","hookItem","props","useEffect","callback","args","state","__s","argsChanged","_pendingArgs","useLayoutEffect","useRef","initialValue","useMemo","current","useImperativeHandle","ref","createHandle","concat","factory","useCallback","useContext","context","provider","sub","value","useDebugValue","formatter","useErrorBoundary","cb","errState","componentDidCatch","err","errorInfo","useId","root","__v","__m","mask","flushAfterPaintEffects","component","shift","invokeCleanup","invokeEffect","e","__e","vnode","requestAnimationFrame","afterNextFrame","commitQueue","some","hasErrored","HAS_RAF","raf","done","clearTimeout","timeout","cancelAnimationFrame","setTimeout","hook","comp","cleanup","oldArgs","newArgs","arg","f","Text","pos","RangeError","lineInner","n","lines","from","to","text","parts","decompose","TextNode","other","replace","start","scanIdentical","end","a","RawTextCursor","b","skip","next","lineBreak","dir","PartialTextCursor","inner","iter","line","iterRange","Math","max","LineCursor","sliceString","flatten","empty","TextLeaf","split","textLength","target","isLine","offset","i","string","Line","open","sliceText","min","prev","pop","joined","appendText","slice","mid","newLen","lineSep","result","part","len","children","child","endLine","childOpen","updated","totalLines","copy","iA","iB","eA","eB","chA","chB","reduce","l","ch","flat","chunk","maxChunk","minChunk","chunked","currentLines","currentLen","currentChunk","add","last","node","flush","first","nodes","offsets","top","offsetValue","size","nextInner","cursor","limit","afterBreak","Symbol","prototype","iterator","number","extend","map","parseInt","isExtendingChar","code","isRegionalIndicator","ZWJ","findClusterBreak","str","forward","includeExtending","nextClusterBreak","prevClusterBreak","surrogateLow","charCodeAt","surrogateHigh","codePointAt","codePointSize","countBefore","found","code0","code1","fromCodePoint","String","fromCharCode","DefaultSplit","MapMode","ChangeDesc","sections","ins","posA","posB","individual","iterChanges","composeSets","before","mapSet","assoc","mode","Simple","endA","TrackDel","TrackBefore","TrackAfter","json","Array","isArray","ChangeSet","inserted","doc","fromA","toA","fromB","_toB","create","ranges","resultSections","resultInserted","filteredSections","SectionIter","addSection","off","addInsert","changes","filtered","toJSON","total","force","set","compose","process","spec","insert","insText","of","insLen","forceJoin","values","append","desc","endB","setA","setB","mkSet","piece","left","createSet","Error","len2","sectionLen","insB","textBit","forward2","SelectionRange","flags","level","change","mapPos","anchor","EditorSelection","range","head","abs","mainIndex","r","eq","main","which","fromJSON","normalized","bidiLevel","goalColumn","sort","indexOf","splice","checkSelection","selection","docLength","nextID","Facet","combine","compareInput","compare","isStatic","enables","id","default","extensions","FacetProvider","deps","get","field","compute","config","sameArray","static","dependencies","facet","addresses","_a","getter","idx","multi","depDoc","depSel","depAddrs","dep","update","tr","docChanged","ensureAll","newVal","compareArray","reconfigure","oldState","oldAddr","address","oldVal","getAddr","StateField","addrs","changed","addr","ensureAddr","dynamicFacetSlot","providers","providerAddrs","providerTypes","dynamic","val","depChanged","oldProviders","facets","oldValue","initField","define","createF","updateF","compareF","provides","find","provide","Prec_","lowest","low","high","highest","prec","ext","PrecExtension","Prec","Compartment","CompartmentInstance","content","compartment","extension","compartments","Configuration","base","dynamicSlots","staticValues","statusTemplate","fields","Object","newCompartments","Map","slot","oldFacets","dynamicSlot","seen","known","delete","has","status","computeSlot","languageData","allowMultipleSelections","v","lineSeparator","changeFilter","transactionFilter","transactionExtender","readOnly","Annotation","AnnotationType","StateEffectType","StateEffect","mapping","mapped","effects","effect","appendConfig","Transaction","startState","annotations","scrollIntoView","_doc","_state","newLength","time","Date","now","apply","applyTransaction","ann","event","annotation","userEvent","addToHistory","remote","joinRanges","mergeTransaction","sequential","mapForA","mapForB","mapDesc","mapEffects","resolveTransactionInner","docSize","sel","asArray","single","resolveTransaction","specs","seq","extendTransaction","filterTransaction","back","invertedDesc","filters","extenders","keys","none","CharCategory","nonASCIISingleCaseWordChar","wordChar","RegExp","_","hasWordChar","test","toUpperCase","toLowerCase","makeCategorizer","wordChars","char","Space","Word","Other","EditorState","require","conf","is","key","startValues","resolve","intermediateState","newDoc","newSelection","toText","changeByRange","result1","newChanges","newMapped","j","mapBy","sliceDoc","prop","tabSize","phrase","phrases","hasOwnProperty","m","name","side","at","languageDataAt","join","lineAt","cat","charCategorizer","fieldInit","configuration","staticFacet","asSingle","kA","kB","k","combineConfig","configs","defaults","RangeValue","Range","startSide","endSide","point","mapMode","cmpRange","Chunk","maxPoint","startAt","arr","lo","hi","diff","findIndex","newPos","curFrom","curTo","newFrom","newTo","RangeSet","chunkPos","nextLayer","chunkEnd","isEmpty","updateSpec","filterFrom","filterTo","cur","LayerCursor","goto","spill","builder","RangeSetBuilder","addInner","rangeIndex","chunkIndex","addChunk","nextChunk","finishInner","chunks","touch","touchesRange","between","HeapCursor","sets","oldSets","newSets","textDiff","comparator","minPointSize","sharedChunks","findSharedChunks","sideA","SpanCursor","sideB","iterGaps","sameValues","active","openRanges","openStart","activeForPoint","openCount","pointFrom","pointRank","openEnd","span","build","lazySort","finish","chunkStart","lastFrom","lastTo","setMaxPoint","newArrays","finishChunk","inA","shared","Set","layer","minPoint","rank","gotoInner","setRangeIndex","heap","heapBubble","childIndex","activeTo","activeRank","minActive","removeActive","remove","findMinIndex","trackOpen","wasPoint","nextVal","addActive","reverse","startA","startB","dPos","clipEnd","comparePoint","compareRange","array","foundPos","countColumn","findColumn","col","strict","C","COUNT","for","SET","floor","random","globalThis","window","StyleModule","rules","splitSelector","selector","render","selectors","isKeyframes","local","isAt","exec","keyframes","toString","modules","StyleSet","mount","adoptedSet","adoptedStyleSheets","CSSStyleSheet","sheet","styleTag","ownerDocument","createElement","insertBefore","firstChild","mod","insertRule","getRules","textContent","chrome","navigator","userAgent","gecko","mac","platform","ie","brokenModifierNames","keyName","ignoreKey","ctrlKey","altKey","metaKey","shiftKey","keyCode","getSelection","nodeType","contains","dom","parentNode","deepActiveElement","elt","activeElement","shadowRoot","hasSelection","anchorNode","clientRectsFor","textRange","nodeValue","getClientRects","isEquivalentPosition","targetNode","targetOff","scanFor","domIndex","previousSibling","maxOffset","nodeName","parent","childNodes","contentEditable","Rect0","right","bottom","flattenRect","rect","windowRect","win","innerWidth","innerHeight","scrollRectIntoView","y","xMargin","yMargin","ltr","defaultView","bounding","body","scrollHeight","clientHeight","scrollWidth","clientWidth","assignedSlot","getBoundingClientRect","moveX","moveY","rectHeight","boundingHeight","targetTop","targetLeft","scrollBy","movedX","movedY","scrollTop","scrollLeft","host","scrollableParent","DOMSelectionState","anchorOffset","focusNode","focusOffset","domSel","preventScrollSupported","focusPreventScroll","setActive","focus","stack","preventScroll","scratchRange","document","createRange","setEnd","setStart","dispatchKey","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","getRoot","clearAttributes","attributes","removeAttributeNode","atElementStart","DOMPos","precise","noChildren","ContentView","dirty","editorView","posBefore","posAtStart","view","breakAfter","_pos","_side","track","nextSibling","contentView","canReuseDOM","reuseDOM","sync","written","rm$1","_dom","after","bias","lastChild","fromI","fromStart","toI","toEnd","prevEnd","domBoundsAround","startDOM","endDOM","andParent","markParentsDirty","childList","cmView","markDirty","destroy","setParent","_rec","_event","ChildCursor","childCursor","findPos","constructor","source","hasStart","removeChild","replaceRange","fromOff","toOff","breakAtStart","breakAtEnd","merge","become","replaceChildren","mergeChildrenInto","dLen","nav","vendor","documentElement","style","ie_edge","ie_upto10","ie_11up","webkit","safari","ios","maxTouchPoints","browser","windows","linux","ie_version","documentMode","gecko_version","chrome_version","android","webkit_version","MaxJoinLen","TextView","textDOM","setDOM","createTextNode","createDOM","_from","_to","textCoords","MarkView","mark","class","className","attrs","setAttribute","tagName","setAttrs","_hasStart","detachFrom","inlineDOMAtPos","coordsInChildren","rects","width","WidgetView","widget","prevWidget","updateDOM","toDOM","ignoreEvent","customView","CompositionView","topView","scanCompositionTree","domAtPos","posFromDOMInCompositionTree","coordsAt","enterView","fromText","hasComp","getSide","localPosFromDOM","WidgetBufferView","imgRect","siblingRect","inlineSiblingRect","nextRect","joinInlineInto","beforePos","afterPos","scan","fallbackRect","combineAttrs","attrsEq","keysA","keysB","updateAttrs","removeAttribute","WidgetType","BlockType","Decoration","estimatedHeight","MarkDecoration","block","PointDecoration","isBlockGap","getInclusive","LineDecoration","isReplace","WidgetRange","WidgetBefore","WidgetAfter","widgetsEq","inclusiveStart","inclusiveEnd","inclusive","addRange","margin","LineView","arguments","prevAttrs","transferDOM","setDeco","childPos","deco","cls","classList","isEditable","hack","cmIgnore","appendChild","totalWidth","lineHeight","height","charWidth","_other","docView","BlockWidgetView","_takeDeco","posAtEnd","ContentBuilder","disallowBlockEffectsFor","curLine","pendingBuffer","bufferMarks","atCursorPos","textOff","wrapMarks","flushBuffer","posCovered","getLine","take","buildText","addBlockWidget","NullWidget","cursorBefore","cursorAfter","addLineDeco","decorations","dynamicDecorationMap","spans","tag","clickAddsSelectionRange","dragMovesSelection$1","mouseSelectionStyle","exceptionSink","updateListener","inputHandler","perLineTextDirection","nativeSelectionHidden","ScrollTarget","t","logException","exception","handler","onerror","console","error","editable","nextPluginID","viewPlugin","ViewPlugin","domEventHandlers","buildExtensions","eventHandlers","plugin","pluginInst","PluginInstance","mustUpdate","deactivate","editorAttributes","contentAttributes","atomicRanges","scrollMargins","styleModule","ChangedRange","toB","me","dI","rI","addToSet","ViewUpdate","transactions","changedRanges","iterChangedRanges","hasFocus","inputState","notifiedFocused","Direction","LTR","RTL","dec","LowTypes","ArabicTypes","Brackets","BracketStack","charType","BidiRE","BidiSpan","order","maybe","types","computeOrder","direction","outerType","oppositeType","trivialOrder","prevStrong","sI","br","sJ","embed","beforeL","afterL","rtl","movedOver","moveVisually","startIndex","spanI","indexForward","nextIndex","nextSpan","LineBreakPlaceholder","DOMReader","points","findPointBefore","readNode","nextView","isBlockElement","re","nextBreak","breakSize","fromView","overrideDOMText","findPointInside","readTextNode","readRange","maxLen","DOMPoint","DocView","compositionDeco","minWidth","minWidthFrom","minWidthTo","impreciseAnchor","impreciseHead","forceSelection","lastUpdate","contentDOM","updateDeco","updateInner","composing","computeCompositionDeco","prevDeco","decoDiff","findChangedDeco","extendWithRanges","oldLength","viewState","mustMeasureContent","updateChildren","observer","ignore","contentHeight","flexBasis","selectionRange","gaps","viewport","BlockGapWidget","updateGaps","mustRead","fromPointer","readSelectionRange","mayControlSelection","betweenUneditable","dummy","inUneditable","blur","rawSel","nextTo","nextToUneditable","nearbyTextNode","collapse","cursorBidiLevel","removeAllRanges","setSelectionRange","modify","lineStart","newRange","posFromDOM","domView","rootView","nearest","contentWidth","isWider","scrollDOM","widest","textDirection","childRect","getComputedStyle","measure","measureTextSize","vs","viewports","lineBlockAt","allDeco","d","computeBlockGapDeco","lineGapDeco","mLeft","mRight","mTop","mBottom","margins","targetRect","compositionSurroundingNode","textNode","cView","topNode","surrounding","CompositionWidget","DecorationComparator$1","inside","groupAt","categorize","linePos","getdx","getdy","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestX","closestY","closestOverlap","above","below","aboveRect","belowRect","dx","dy","domPosInText","clipX","closestOffset","closestDY","generalSide","rectBefore","posAtCoords","docTop","paddingTop","docHeight","yOffset","halfLine","defaultLineHeight","bounced","elementAtHeight","posAtCoordsImprecise","elementFromPoint","element","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","startOffset","isSuspiciousSafariCaretResult","isSuspiciousChromeCaretResult","contentRect","into","round","defaultCharacterWidth","lineWrapping","heightOracle","lineLength","moveToLineBoundary","includeWrap","coords","coordsAtPos","editorRect","textDirectionAt","lineView","moveByChar","by","bidiSpans","check","byGroup","nextCat","moveVertically","distance","startPos","goal","startY","startCoords","documentTop","resolvedGoal","dist","extra","curY","skipAtoms","oldPos","atoms","moved","InputState","lastKeyCode","lastKeyTime","lastTouchTime","lastFocusTime","lastScrollTop","lastScrollLeft","chromeScrollHack","pendingIOSKey","lastSelectionOrigin","lastSelectionTime","lastEscPress","lastContextMenu","scrollHandlers","registeredEvents","customHandlers","compositionFirstChange","compositionEndedAt","mouseSelection","handleEvent","ignoreDuringComposition","keydown","mustFlushObserver","forceFlush","runCustomHandlers","preventDefault","handlers","addEventListener","eventBelongsToEditor","handlerOptions","mousedown","pointerEvents","passive","origin","plugins","scroll","delayAndroidKey","pending","PendingKeys","EmacsyPendingKeys","flushIOSKey","inputType","modifierCodes","dragScrollSpeed","MouseSelection","startEvent","mustSelect","scrollSpeed","scrolling","lastEvent","scrollParent","move","bind","multiple","addsSelectionRange","dragMove","dragMovesSelection","dragging","isInPrimarySelection","getClickType","select","buttons","sx","sy","clientX","clientY","setScrollSpeed","removeEventListener","setInterval","clearInterval","dispatch","rangeCount","getRangeAt","bubbles","brokenClipboardAPI","capturePaste","cssText","doPaste","input","byLine","linewise","lastLinewiseCopy","lastLine","replaceSelection","setSelectionOrigin","touchstart","touchmove","makeStyle","button","basicMouseSelection","mustFocus","startMouseSelection","rangeForClick","visual","insideY","findPositionSide","queryPos","BadMouseDetail","lastMouseDown","lastMouseDownCount","lastMouseDownTime","detail","lastTime","startSel","startRange","removeRange","dragstart","dataTransfer","setData","effectAllowed","dropText","direct","dropPos","del","drop","files","read","finishFile","reader","FileReader","onload","readAsText","getData","paste","data","clipboardData","captureCopy","selectionEnd","selectionStart","copiedRange","upto","cut","clearData","updateForFocusChange","clearSelectionRange","compositionstart","compositionupdate","compositionend","flushSoon","contextmenu","beforeinput","startViewHeight","visualViewport","wrappingWhiteSpace","HeightOracle","heightSamples","heightChanged","ceil","whiteSpace","lineHeights","newHeight","h","knownHeights","MeasuredHeights","heights","BlockInfo","QueryType","Epsilon","HeightMap","oracle","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","break","brk","HeightMapBranch","HeightMapBlock","_height","_value","_type","blockAt","_force","measured","more","setHeight","outdated","collapsed","widgetHeight","HeightMapGap","heightForLine","firstLine","ByHeight","unshift","singleHeight","wasChanged","heightForGap","rightTop","rightOffset","subQuery","ByPos","forEachLine","rightStart","balanced","decomposeLeft","mergeGaps","decomposeRight","rebalance","around","relevantWidgetHeight","lineEnd","covering","writtenTo","isCovered","heightRelevant","addBlock","blankContent","gap","enterLine","ensureLine","heightRelevantDecoChanges","DecorationComparator","visiblePixelRange","overflow","parentRect","position","offsetParent","fullPixelRange","LineGap","wrapping","LineGapWidget","gA","gB","vertical","display","ViewState","pixelViewport","inView","paddingBottom","contentDOMWidth","contentDOMHeight","editorHeight","editorWidth","scaler","IdScaler","scrollTarget","printing","defaultTextDirection","visibleRanges","mustEnforceCursorAssoc","guessWrapping","stateDeco","heightMap","applyChanges","setDoc","getViewport","updateViewportLines","updateForViewport","lineGaps","ensureLineGaps","draw","computeVisibleRanges","Viewport","BigScaler","viewportLines","scale","scaleBlock","contentChanges","heightChanges","prevHeight","mapViewport","viewportIsAppropriate","updateLines","updateLineGaps","mapLineGaps","selectionSet","refresh","mustRefreshForWrapping","measureContent","dTop","dBottom","measureVisibleLineHeights","mustRefreshForHeights","vp","viewportChange","enforceCursorAssoc","fromDOM","marginTop","visibleTop","visibleBottom","viewHeight","topPos","mayMeasure","halfMargin","doubleMargin","addGap","structure","avoid","gapSize","lineStructure","viewFrom","viewTo","marginHeight","bot","targetFrac","findFraction","spaceFrac","findPosition","marginWidth","fraction","same","ratio","counted","vpHeight","domBase","domTop","domBottom","obj","bTop","bBottom","theme","strs","darkTheme","baseThemeID","newName","baseLightID","baseDarkID","lightDarkIDs","buildTheme","scopes","baseTheme$1","boxSizing","outline","flexDirection","alignItems","fontFamily","overflowX","zIndex","flexGrow","flexShrink","wordWrap","padding","WebkitUserModify","whiteSpace_fallback","wordBreak","overflowWrap","caretColor","contain","background","animation","opacity","borderLeft","marginLeft","borderLeftColor","backgroundColor","color","borderRight","minHeight","textAlign","borderBottom","borderTop","verticalAlign","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","fontSize","borderRadius","border","DOMChange","typeOver","bounds","iHead","iAnchor","newSel","selPoints","selectionPoints","selectionFromPoints","applyDOMChange","domChange","preferredPos","preferredSide","findDiff","mainSel","replaced","compositionRange","rangeChanges","selOff","minLen","adjust","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","selectionChanged","delayedFlush","resizeTimeout","queue","delayedAndroidKey","flushingAndroidKey","lastChange","scrollTargets","intersection","resizeScroll","resizeContent","intersecting","gapIntersection","parentCheck","MutationObserver","mutations","mut","removedNodes","onCharData","prevValue","onSelectionChange","onResize","onPrint","onScroll","ResizeObserver","observe","requestMeasure","addWindowListeners","IntersectionObserver","entries","listenForScroll","intersectionRatio","onScrollChanged","createEvent","runScrollHandlers","g","disconnect","safariSelectionRangeHack","updateSelection","setRange","stop","clear","processRecords","clearDelayedAndroidKey","records","takeRecords","record","readMutation","readSelection","readChange","handled","rec","ignoreMutation","childBefore","findChild","childAfter","posAfter","removeWindowListeners","_b","_c","_d","curView","stopImmediatePropagation","getTargetRanges","execCommand","endContainer","endOffset","curAnchor","EditorView","pluginMap","editorAttrs","contentAttrs","bidiCache","destroyed","updateState","measureScheduled","measureRequests","tabIndex","announceDOM","_dispatch","_root","ensureHandlers","mountStyles","redrawn","attrsChanged","pendingKey","CachedOrder","updatePlugins","styleModules","showAnnouncements","isUserEvent","listener","newState","hadFocus","prevSpecs","newPlugins","refHeight","oldViewport","refBlock","lineBlockAtHeight","warn","measuring","BadMeasure","scrolled","write","attrsFromFacet","themeClasses","spellcheck","autocorrect","autocapitalize","translate","contenteditable","role","changedContent","changedEditor","trs","announce","div","request","readMeasured","initial","perLine","MaxBidiLine","entry","setWindow","prefix","dark","querySelector","cache","lastDir","sources","currentPlatform","normalizeKeyName","alt","ctrl","meta","modifiers","handleKeyEvents","runHandlers","getKeymap","keymap","Keymaps","WeakMap","bindings","buildKeymap","runScopeHandlers","scope","storedPrefix","PrefixTimeout","bound","isPrefix","checkPrefix","command","scopeObj","run","ourObj","full","binding","_any","any","charCode","isChar","fallthrough","ran","runFor","cmd","baseName","shiftName","RectangleMarker","getBase","rectanglesForRange","wrappedLine","lineStyle","leftSide","paddingLeft","textIndent","rightSide","paddingRight","startBlock","endBlock","visualStart","visualEnd","pieces","drawForLine","drawForWidget","horizontal","addSpan","fromOpen","toOpen","fromCoords","toCoords","endPos","docLine","spanFrom","spanTo","sameMarker","LayerView","drawn","measureReq","setOrder","layerOrder","geometryChanged","markers","old","oldI","marker","CanHidePrimary","selectionConfig","cursorBlinkRate","drawRangeCursor","drawSelection","cursorLayer","selectionLayer","hideNativeSelection","configChanged","cursors","prim","forRange","animationName","confChange","setBlinkRate","animationDuration","viewportChanged","themeSpec","setDropCursorPos","dropCursorPos","drawDropCursor","fromClass","readPos","drawCursor","cursorPos","outer","dragover","setDropPos","dragleave","relatedTarget","dragend","dropCursor","iterMatches","lastIndex","matchRanges","maxLength","visible","MatchDecorator","regexp","decoration","decorate","boundary","global","addMatch","match","_view","changeFrom","changeTo","_f","_t","createDeco","updateRange","updateFrom","updateTo","fromLine","toLine","UnicodeRegexpSupport","unicode","Specials","Names","_supportsTabSize","supportsTabSize","styles","MozTabSize","specialCharConfig","specialChars","addSpecialChars","replaceTabs","highlightSpecialChars","specialCharPlugin","_plugin","decorationCache","decorator","makeDecorator","TabWidget","SpecialCharWidget","DefaultPlaceholder","placeholder$1","ph","custom","title","documentPadding","scrollPastEnd","highlightActiveLine","activeLineHighlighter","lineDeco","getDeco","lastLineStart","Placeholder","wrap","placeholder","MaxOff","rectangleFor","startLine","startOff","endOff","startCol","endCol","absoluteColumn","getPos","rectangleSelectionStyle","newStart","newLine","_extend","rectangularSelection","eventFilter","Alt","Control","Shift","Meta","showCrosshair","crosshairCursor","isDown","keyup","mousemove","Outside","TooltipViewManager","createTooltipView","tooltips","tooltipViews","tip","tooltipView","tooltipConfig","windowSpace","tooltipSpace","tooltipPlugin","lastTransaction","measureTimeout","classes","createContainer","readMeasure","writeMeasure","manager","showTooltip","createTooltip","intersectionObserver","measureSoon","threshold","observeIntersection","maybeMeasure","container","tooltip","shouldMeasure","newConfig","arrow","editor","tv","getCoords","space","others","tView","arrowHeight","noOffset","strictSide","spaceVert","resize","overlap","toggle","positioned","baseTheme","borderTopColor","borderBottomColor","showHoverTooltip","HoverTooltipHost","mounted","createHostedView","hostedView","showHoverTooltipHost","HoverPlugin","setHover","hoverTime","hoverTimeout","restartTimeout","lastMove","checkHover","mouseleave","startHover","hovered","posCoords","bidi","then","isInTooltip","isOverRange","detach","hoverTooltip","hoverState","hideOnChange","hideOn","closeHoverTooltipEffect","getTooltip","hasHoverTooltips","closeHoverTooltips","repositionTooltips","panelConfig","topContainer","bottomContainer","panels","getPanel","panel","panelPlugin","showPanel","PanelGroup","syncClasses","scrollMargin","syncDOM","curDOM","rm","GutterMarker","elementClass","gutterLineClass","renderEmptyElements","elementStyle","lineMarker","lineMarkerChange","initialSpacer","updateSpacer","activeGutters","gutter","gutters","unfixGutters","gutterView","fixed","prevViewport","SingleGutterView","syncGutters","updateGutters","vpA","vpB","vpOverlap","lineClasses","classSet","contexts","UpdateContext","viewportLineBlocks","advanceCursor","cx","offsetWidth","collect","extraMarkers","localMarkers","forLine","elements","newElt","GutterElement","spacer","prevMarkers","sameMarkers","setMarkers","domPos","iNew","iOld","skipTo","matched","lineNumberMarkers","lineNumberConfig","formatNumber","exists","NumberMarker","lineNumberGutter","maxLineNumber","lineNumbers","activeLineGutterMarker","activeLineGutterHighlighter","marks","highlightActiveLineGutter","WhitespaceDeco","getWhitespaceDeco","matcher","u","whitespaceHighlighter","highlightWhitespace","trailingHighlighter","highlightTrailingWhitespace","__test","DefaultBufferLength","nextPropID","NodeProp","perNode","deserialize","NodeType","closedBy","openedBy","group","contextHash","lookAhead","MountedTree","tree","overlay","parser","noProps","skipped","src","groups","NodeSet","newTypes","newProps","CachedNode","CachedInnerNode","IterMode","Tree","positions","isError","JSON","stringify","TreeCursor","moveTo","_tree","TreeNode","resolveNode","enter","leave","IncludeAnonymous","entered","isAnonymous","balanceRange","propValues","makeTree","buildTree","FlatBufferCursor","buffer","TreeBuffer","childString","endIndex","pick","checkSide","startI","endI","Uint16Array","enterUnfinishedNodesBefore","prevSibling","overlays","IgnoreOverlays","_parent","ExcludeBuffers","BufferNode","BufferContext","hasChild","IgnoreMounts","nextChild","rPos","nextSignificantParent","getChildren","matchNodeContext","externalSibling","parentStart","bufferNode","yieldNode","yieldBuf","yield","enterChild","sibling","atLastNode","depth","mustLeave","nodeSet","maxBufferLength","reused","minRepeatType","takeNode","minPos","inRepeat","lookAheadAtStart","findBufferSize","copyToBuffer","localChildren","localPositions","localInRepeat","lastGroup","lastEnd","makeRepeatLeaf","make","makeBalanced","lastI","lookAheadProp","pair","maxSize","fork","minStart","nodeSize","localSkipped","nodeStart","bufferStart","topID","nodeSizeCache","balanceType","mkTop","mkTree","maxChild","divide","groupFrom","groupStart","groupSize","nextSize","only","NodeWeakMap","setBuffer","getBuffer","TreeFragment","fragments","partial","minGap","fI","nextF","cI","nextC","nextPos","fFrom","fTo","Parser","StringInput","createParse","parse","startParse","advance","parseMixed","nest","MixedParse","InnerParse","ActiveOverlay","predicate","mounts","stoppedInner","innerDone","baseTree","stoppedAt","baseParse","startInner","stopAt","parsedPos","fragmentCursor","FragmentCursor","covered","hasNode","frag","checkCover","materialize","oldMounts","findMounts","punchRanges","enterFragments","sliceBuf","buf","innerOffset","isTarget","toTree","StructureCursor","fragI","curFrag","nextFrag","gapFrom","gapTo","findCoverChanges","inB","nextA","nextB","nextTagID","Tag","modified","Modifier","nextModifierID","instances","mods","powerSet","styleTags","byName","tags","rest","rule","Rule","ruleNodeProp","tagHighlighter","all","tagClass","highlightTags","highlighters","highlighter","highlightTree","putStyle","HighlightBuilder","highlightRange","inheritedClass","isTop","getStyleTags","tagCls","startSpan","opaque","innerHighlighters","rangeFrom","rangeTo","matchContext","comment","typeName","propertyName","literal","heading","keyword","operator","punctuation","bracket","lineComment","blockComment","docComment","variableName","attributeName","labelName","namespace","macroName","docString","character","attributeValue","integer","float","bool","escape","url","self","null","atom","unit","modifier","operatorKeyword","controlKeyword","definitionKeyword","moduleKeyword","derefOperator","arithmeticOperator","logicOperator","bitwiseOperator","compareOperator","updateOperator","definitionOperator","typeOperator","controlOperator","separator","angleBracket","squareBracket","paren","brace","heading1","heading2","heading3","heading4","heading5","heading6","contentSeparator","list","quote","emphasis","strong","link","monospace","strikethrough","deleted","invalid","documentMeta","processingInstruction","definition","defineModifier","constant","function","standard","special","classHighlighter","languageDataProp","defineLanguageFacet","baseData","Language","extraExtensions","defineProperty","syntaxTree","language","languageDataFacetAt","lang","allowsNesting","explore","topLang","LRLanguage","configure","hasWrappers","ensureSyntaxTree","oldVieport","updateViewport","isDone","work","syntaxTreeAvailable","forceParsing","success","syntaxParserRunning","parseWorker","isWorking","DocInput","syncTo","stringStart","currentContext","ParseContext","treeLen","scheduleOn","tempSkipped","until","takeTree","withContext","endTime","withoutTempSkipped","addTree","cutFragments","startLen","reset","frags","Promise","LanguageState","newCx","vpTo","parseState","requestIdle","requestIdleCallback","idle","cancelIdleCallback","isInputPending","scheduling","working","workScheduled","chunkBudget","scheduleWork","checkAsyncSchedule","deadline","timeRemaining","viewportFirst","catch","languages","LanguageSupport","support","LanguageDescription","alias","filename","loadFunc","loading","load","descs","fuzzy","indentService","indentUnit","getIndentUnit","indentString","cols","ts","getIndentation","IndentContext","service","syntaxIndentation","indentRange","overrideIndentation","indent","norm","simulateBreak","simulateDoubleBreak","override","search","overriden","indentNodeProp","ast","indentFrom","resolveInner","ignoreClosed","indentStrategy","strategy","close","closed","delimitedStrategy","topIndent","TreeIndentContext","textAfterPos","atBreak","isParent","lineIndent","bracketedAligned","openToken","sim","openLine","isSkipped","delimitedIndent","closing","align","units","closedAt","textAfter","aligned","column","baseIndent","flatIndent","continuedIndent","except","matchExcept","DontIndentBeyond","indentOnInput","foldService","foldNodeProp","foldInside","syntaxFolding","isUnfinished","foldable","mapRange","foldEffect","unfoldEffect","selectedLines","foldState","folded","foldExists","foldWidget","onSelection","foldedRanges","findFold","maybeEnable","codeFolding","foldCode","announceFold","unfoldCode","fold","lineFrom","lineTo","foldAll","unfoldAll","foldKeymap","defaultConfig","placeholderDOM","placeholderText","foldConfig","onclick","posAtDOM","foldGutterDefaults","openText","closedText","markerDOM","foldingChanged","FoldMarker","foldGutter","fullConfig","canFold","canUnfold","buildMarkers","click","HighlightStyle","modSpec","def","scopeOpt","module","themeType","highlighterFacet","fallbackHighlighter","getHighlighters","syntaxHighlighting","treeHighlighter","fallback","computeN","highlightingFor","TreeHighlighter","markCache","buildDeco","styleChange","defaultHighlightStyle","textDecoration","fontWeight","fontStyle","DefaultScanDist","DefaultBrackets","bracketMatchingConfig","afterCursor","brackets","maxScanDistance","renderMatch","defaultRenderMatch","matchingMark","nonmatchingMark","bracketMatchingState","matchBrackets","bracketMatchingUnique","bracketMatching","matchingNodes","byProp","matches","matchMarkedBrackets","matchPlainBrackets","token","matching","firstToken","tokenType","startCh","startToken","basePos","countCol","startValue","StringStream","lastColumnPos","lastColumnValue","charAt","ok","eat","pattern","consume","caseInsensitive","cased","substr","fullParser","blankLine","copyState","defaultCopyState","tokenTable","noTokens","StreamLanguage","impl","Parse","getIndent","docID","streamParser","stateAfter","TokenTable","defaultTokenTable","findState","statePos","stream","readToken","cutTree","findStartInFragments","editorState","chunkReused","skipUntilInView","moveRangeIndex","parseEnd","parseLine","lineChunks","eol","lineAfter","rangeEnd","rangeStart","offPos","skipGapsTo","len0","nextLine","emitToken","balance","typeArray","warned","defaultTable","legacyName","createTokenType","table","warnForPart","msg","tagStr","toggleComment","getConfig","toggleLineComment","toggleBlockCommentByLine","option","changeLineComment","lineUncomment","toggleBlockComment","changeBlockComment","blockUncomment","o","selectedLineRanges","SearchMargin","findBlockComment","textBefore","spaceBefore","spaceAfter","beforeOff","startText","endText","startSpace","endSpace","tokens","comments","prevLine","minIndent","changeSet","fromHistory","isolateHistory","invertedEffects","historyConfig","minDepth","newGroupDelay","changeEnd","historyField_","HistoryState","fromHist","item","HistEvent","fromTransaction","undone","updateBranch","addSelection","isolate","addMapping","addChanges","history","undo","redo","historyField","historyState","undoSelection","redoSelection","histState","branch","undoDepth","redoDepth","startSelection","selectionsAfter","invert","selections","newEvent","newBranch","isAdjacent","eqSelectionShape","conc","MaxSelectionsPerEvent","sels","setSelAfter","popSelection","addMappingToBranch","mapEvent","extraSelections","mappedChanges","fullMapping","composeDesc","joinableUserEvent","prevTime","prevUserEvent","historyKeymap","updateSel","setSel","moveSel","how","cursorByChar","ltrAtCursor","cursorCharLeft","cursorCharRight","cursorCharForward","cursorCharBackward","cursorByGroup","moveByGroup","cursorGroupLeft","cursorGroupRight","cursorGroupForward","cursorGroupBackward","moveBySubword","sawUpper","sawLower","step","ahead","cursorBySubword","cursorSubwordForward","cursorSubwordBackward","interestingNode","bracketProp","moveBySyntax","cursorSyntaxLeft","cursorSyntaxRight","cursorByLine","cursorLineUp","cursorLineDown","pageHeight","cursorByPage","scrollRect","cursorPageUp","cursorPageDown","moveByLineBoundary","cursorLineBoundaryForward","cursorLineBoundaryBackward","cursorLineBoundaryLeft","cursorLineBoundaryRight","cursorLineStart","cursorLineEnd","toMatchingBracket","cursorMatchingBracket","selectMatchingBracket","extendSel","selectByChar","selectCharLeft","selectCharRight","selectCharForward","selectCharBackward","selectByGroup","selectGroupLeft","selectGroupRight","selectGroupForward","selectGroupBackward","selectBySubword","selectSubwordForward","selectSubwordBackward","selectSyntaxLeft","selectSyntaxRight","selectByLine","selectLineUp","selectLineDown","selectByPage","selectPageUp","selectPageDown","selectLineBoundaryForward","selectLineBoundaryBackward","selectLineBoundaryLeft","selectLineBoundaryRight","selectLineStart","selectLineEnd","cursorDocStart","cursorDocEnd","selectDocStart","selectDocEnd","selectAll","selectLine","selectedLineBlocks","selectParentSyntax","simplifySelection","deleteBy","towards","skipAtomic","deleteByChar","targetPos","deleteCharBackward","deleteCharForward","deleteByGroup","nextChar","deleteGroupBackward","deleteGroupForward","deleteToLineEnd","deleteToLineStart","deleteTrailingWhitespace","trailing","splitLine","transposeChars","blocks","moveLine","moveLineUp","moveLineDown","copyLine","copyLineUp","copyLineDown","deleteLine","insertNewline","isBetweenBrackets","insertNewlineAndIndent","newlineAndIndent","insertBlankLine","atEof","explode","changeBySelectedLine","atLine","indentSelection","indentMore","indentLess","keep","insertTab","emacsStyleKeymap","standardKeymap","defaultKeymap","indentWithTab","crelt","basicNormalize","normalize","SearchCursor","query","bufferPos","nextOverlapping","peek","baseFlags","RegExpCursor","MultilineRegExpCursor","ignoreCase","curLineStart","matchPos","toCharEnd","flattened","FlattenedDoc","cached","cachedFrom","validRegExp","createLineDialog","onkeydown","dialogEffect","go","onsubmit","sign","ln","cl","percent","pc","dialogField","gotoLine","defaultHighlightOptions","highlightWordAroundCursor","minSelectionLength","maxMatches","wholeWords","highlightConfig","highlightSelectionMatches","defaultTheme","matchHighlighter","matchDeco","mainMatchDeco","insideWordBoundaries","insideWord","word","wordAt","trim","selectWord","findNextOccurrence","fullWord","cycled","selectNextOccurrence","searchedText","searchConfigFacet","caseSensitive","wholeWord","createPanel","SearchPanel","searchExtensions","SearchQuery","valid","unquoted","unquote","RegExpQuery","StringQuery","st","regexpCursor","stringCursor","stringWordTest","categorizer","bufPos","charBefore","charAfter","prevMatchInRange","_result","regexpWordTest","setSearchQuery","togglePanel","searchState","SearchState","defaultQuery","createSearchPanel","getSearchQuery","curState","searchPanelOpen","matchMark","selectedMatchMark","searchHighlighter","highlight","selected","searchCommand","openSearchPanel","findNext","nextMatch","announceMatch","findPrevious","prevMatch","selectMatches","matchAll","selectSelectionMatches","replaceNext","replacement","getReplacement","replaceAll","announceText","selText","searchInput","closeSearchPanel","searchKeymap","commit","searchField","form","onchange","onkeyup","replaceField","caseField","checked","reField","wordField","setQuery","AnnounceMargin","Break","font","marginRight","CompletionContext","explicit","abortListeners","expr","ensureAnchor","toSet","chars","words","prefixMatch","label","completeFromList","validFor","matchBefore","ifIn","ifNotIn","Option","completion","addStart","addEnd","pickedCompletion","insertCompletionText","applyCompletion","SourceCache","asSource","FuzzyMatcher","byWord","upper","astral","anyTo","preciseTo","byWordTo","byWordFolded","adjacentTo","adjacentStart","adjacentEnd","hasLower","wordAdjacent","prevType","score","completionConfig","activateOnTyping","selectOnOpen","closeOnBlur","maxRenderedOptions","tooltipClass","optionClass","aboveCursor","icons","addToOptions","compareCompletions","localeCompare","interactionDelay","joinClass","optionContent","icon","_s","labelElt","detailElt","rangeAroundSelected","CompletionTooltip","stateField","info","placeInfo","measureInfo","positionInfo","currentClass","cState","updateTooltipClass","createListBox","prevState","disabled","updateSelectedOption","infoResult","addInfoPane","opt","hasAttribute","listRect","infoRect","selRect","narrow","maxWidth","spaceLeft","spaceRight","spaceBelow","ul","li","completionTooltip","boost","sortOptions","hasResult","getMatch","CompletionDialog","timestamp","makeAttrs","selectedValue","completionState","CompletionState","ActiveSource","sameResults","setSelectedEffect","setSelected","baseAttrs","getUserEvent","explicitPos","handleUserEvent","handleChange","startCompletionEffect","closeCompletionEffect","setActiveEffect","ActiveResult","checkValid","moveCompletionSelection","offsetHeight","acceptCompletion","startCompletion","closeCompletion","RunningQuery","updates","DebounceTime","MaxUpdateCount","MinAbortTime","completionPlugin","debounceUpdate","running","debounceAccept","startQuery","doesReset","q","startUpdate","aborted","scheduleAccept","accept","maxWidth_fallback","maxHeight","listStyle","textOverflow","FieldPos","FieldRange","Snippet","fieldPositions","lineObj","tabs","template","esc","fieldMarker","fieldRange","ActiveSnippet","moveToField","snippetState","selectionInsideField","fieldSelection","snippet","_completion","instantiate","addSnippetKeymap","snippetPointerHandler","moveField","clearSnippet","nextSnippetField","prevSnippetField","defaultSnippetKeymap","snippetKeymap","maps","snippetCompletion","wordRE","escaped","mapRE","wordCaches","wordCache","storeWords","ignoreAt","iterLines","collectWords","big","completeAnyWord","stringPrefixes","closeBracketEffect","skipBracketEffect","closedBracket","bracketState","prevLineStart","closeBrackets","definedClosing","compositionStarted","insertBracket","deleteBracketPair","dont","prevChar","closeBracketsKeymap","tok","handleSame","handleOpen","closedBracketAt","handleClose","closeBefore","_open","allowTriple","isTriple","canStartStringAt","probablyInString","quoteToken","prefixes","maxPrefix","quotePos","charCat","autocompletion","completionKeymapExt","completionKeymap","completionStatus","completionArrayCache","currentCompletions","completions","selectedCompletion","selectedCompletionIndex","setSelectedCompletion","SelectedDiagnostic","diagnostic","LintState","diagnostics","markedDiagnostics","diagnosticFilter","lintConfig","markerFilter","DiagnosticWidget","severity","findDiagnostic","hideTooltip","setDiagnosticsEffect","maybeEnableLint","lintState","activeMark","lintTooltip","setDiagnostics","movePanelSelection","selPos","LintPanel","diagnosticCount","lint","stackStart","stackEnd","tooltipFilter","diagnosticsTooltip","renderDiagnostic","openLintPanel","closeLintPanel","nextDiagnostic","lintKeymap","lintPlugin","delay","lintTime","linter","forceLinting","assignKeys","actions","assigned","inPanel","renderMessage","message","keyIndex","nameElt","onmousedown","PanelItem","items","moveSelection","selectedIndex","needsSync","newSelectedItem","_start","_end","svg","encodeURIComponent","underline","overflowY","background_fallback","color_fallback","LintGutterMarker","diagnosticsFilter","lintGutterConfig","onmouseover","gutterMarkerMouseOver","trackHoverOn","lintGutterTooltip","setLintGutterTooltip","onmouseout","onmousemove","markersForDiagnostics","lintGutterExtension","lintGutterMarkers","lintGutterTheme","lintGutter","forEachDiagnostic","lState","basicSetup","minimalSetup","switchState","smallRE","largeRE","digitRE","hexitRE","octitRE","idRE","symbolRE","specialRE","whiteCharRE","normal","eatWhile","ncomment","stringLiteral","skipToEnd","currNest","stringGap","wellKnownWords","wkw","setType","haskell","w","commentTokens","chalky","coral","cyan","ivory","stone","malibu","sage","whiskey","violet","darkBackground","highlightBackground","tooltipBackground","oneDarkTheme","oneDarkHighlightStyle","oneDark","initVim","CodeMirror","Pos","transformCursor","cm","vim","insertMode","visualBlock","updateSelectionForSurrogateCharacters","curStart","curEnd","toKeys","motion","motionArgs","toJumplist","wordEnd","bigWord","explicitRepeat","toFirstChar","repeatOffset","isEdit","actionArgs","matchIndent","sameLine","operatorArgs","indentRight","toLower","operatorMotionArgs","visualLine","shouldMoveCursor","insertAt","interlaceInsertRepeat","blockwise","keepSpaces","fullLine","exitVisualBlock","increase","backtrack","textObjectInner","searchArgs","querySrc","wholeWordOnly","defaultKeymapLength","defaultExCommandMap","shortName","possiblyAsync","excludeFromCommandHistory","enterVimMode","setOption","signal","on","onCursorActivity","maybeInitVimState","getInputField","getOnPasteFn","leaveVimMode","highlightTimeout","detachVimMap","keyMap","$customCursor","rmClass","getWrapperElement","attach","attachVimMap","curOp","addClass","defineOption","getOption","Init","cmKey","vimKey","cmKeyToVimKey","vimApi","findKey","Ctrl","Cmd","Mod","CapsLock","specialKeys","Enter","Backspace","Delete","Insert","lastPiece","hasCharacter","isUpperCase","onPasteFn","setCursor","offsetCursor","getCursor","enterInsertMode","numberRegex","wordCharTest","isWordChar","bigWordCharTest","makeKeyRange","upperCaseAlphabet","lowerCaseAlphabet","numbers","validMarks","validRegisters","upperCaseChars","isLowerCase","isMatchableSymbol","isNumber","isWhiteSpaceString","isEndOfSentenceSymbol","inArray","defaultValue","aliases","cfg","createCircularJumpList","pointer","tail","oldCur","newCur","curMark","useNextSlot","trashMark","setBookmark","markPos","cursorEqual","inc","oldPointer","cachedCursor","createInsertModeChanges","expectCursorActivityForChange","MacroModeState","latestRegister","isPlaying","isRecording","replaySearchQueries","onRecordingDone","lastInsertModeChanges","exitMacroRecordMode","macroModeState","vimGlobalState","enterMacroRecordMode","registerName","register","registerController","getRegister","openDialog","lastEditInputState","lastEditActionCommand","lastHPos","lastHSPos","lastMotion","insertModeRepeat","visualMode","lastSelection","lastPastedText","resetVimGlobalState","searchQuery","searchIsReversed","lastSubstituteReplacePart","jumpList","lastCharacterSearch","increment","selectedCharacter","RegisterController","searchHistoryController","HistoryController","exCommandHistoryController","optionName","lastInsertModeKeyTimer","buildKeyMap","getRegisterController","resetVimGlobalState_","getVimGlobalState_","maybeInitVimState_","suppressErrorLogging","InsertModeKey","lhs","rhs","ctx","exCommandDispatcher","unmap","noremap","toCtxArray","ctxsToMap","actualLength","origLength","newMapping","_mapCommand","mappedCtxs","el","mapclear","userKeymap","defineEx","func","exCommands","commandMap_","handleKey","multiSelectHandleKey","handleMacroRecording","clearInputState","logKey","handleEsc","exitVisualMode","exitInsertMode","doKeyToKey","substring","handleKeyInsertMode","keyBuffer","keysAreChars","commandDispatcher","matchCommand","changeQueue","listSelections","removed","ChangeQueue","cursorMin","cursorMax","getRange","overwrite","here","handleKeyNonInsertMode","keysMatcher","mainKey","operatorShortcut","pushRepeatDigit","operation","isVimOp","processCommand","handleEx","defineMotion","defineAction","defineOperator","mapCommand","defineRegister","prefixRepeat","motionRepeat","getRepeat","repeat","reason","Register","insertModeChanges","searchQueries","setText","pushText","pushInsertModeChanges","pushSearchQuery","registers","unnamedRegister","isValidRegister","shiftNumericRegisters_","clipboard","writeText","historyBuffer","initialPrefix","pushInput","commandMatches","bestMatch","lastChar","repeatOverride","processMotion","processOperator","processOperatorMotion","processAction","processSearch","processEx","copyArgs","evalInput","updateCmSelection","repeatIsExplicit","recordLastEdit","getSearchCursor","getSearchState","setReversed","promptPrefix","originalQuery","getQuery","originalScrollPos","getScrollInfo","handleQuery","smartCase","updateSearchQuery","showConfirm","onPromptClose","scrollTo","logSearchQuery","onPromptKeyUp","parsedQuery","clearSearchHighlight","onPromptKeyDown","e_stop","showPrompt","onClose","onKeyUp","onKeyDown","expandWordUnderCursor","isKeyword","escapeRegex","exArgs","selectValueOnOpen","origHead","copyCursor","clipCursorToContent","origAnchor","oldHead","oldAnchor","newHead","newAnchor","noRepeat","motionResult","motions","recordJumpPosition","Infinity","updateMark","cursorIsBefore","lastSel","lineOffset","chOffset","cmSel","newPositions","makeCmSelection","tmp","expandSelectionToLine","clipToLine","exclusive","setSelections","primary","operatorMoveTo","operators","actionCommand","moveToTopLine","_head","getUserVisibleLines","findFirstNonWhiteSpaceCharacter","moveToMiddleLine","moveToBottomLine","expandToLine","_cm","isReversed","highlightSearchMatches","findAndSelectNextInclusive","prevInputState","findNextFromAndToInclusive","subMode","goToMark","getMarkPos","moveToOtherHighlightedEnd","jumpToMark","best","isWrongDirection","equal","cursorIsBetween","moveByCharacters","moveByLines","endCh","moveByDisplayLines","moveByScroll","moveToColumn","moveToEol","posV","findPosV","hasMarkedText","moveToStartOfLine","charCoords","res","hitSide","lastCharCoords","goalCoords","coordsChar","resCoords","moveByPage","moveByParagraph","findParagraph","moveBySentence","findSentence","scrollbox","defaultTextHeight","orig","dest","moveByWords","moveToWord","moveTillCharacter","moveToCharacter","recordLastCharacterSearch","moveToSymbol","findSymbol","moveToFirstNonWhiteSpaceCharacter","moveToMatchedSymbol","lineText","symbol","getTokenTypeAt","findMatchingBracket","bracketRegex","moveToLineOrEdgeOfDocument","lineNum","moveToStartOfDisplayLine","moveToEndOfDisplayLine","sticky","textObjectManipulation","mirroredPairs","selfPaired","selectCompanionObject","findBeginningAndEnd","expandTagUnderCursor","getSentence","expandSelection","repeatLastCharacterSearch","lastSearch","moveH","fn","fillArray","times","finalHead","lastState","prevLineEnd","Number","MAX_VALUE","wasLastLine","commands","setSelection","replaceSelections","indentLine","indentAuto","_args","changeCase","getSelections","swapped","toSwap","yank","jumpListWalk","delta","cursorCoords","newBottom","scrollToCursor","lineLastCharPos","lineLastCharCoords","replayMacro","executeMacroRegister","toggleOverwrite","newPosition","getLastEditPos","onChange","onKeyEventTargetKeyDown","selectForInsert","toggleVisualMode","reselectLastSelection","_actionArgs","updateLastSelection","anchorMark","headMark","joinLines","finalCh","nextStartCh","curFinalPos","newLineAndEnterInsertMode","newlineFn","newlineAndIndentContinueComment","readText","continuePaste","whitespaceLength","spaces","currentLine","chompedText","wasChomped","firstIndent","wspace","newIndent","quotient","curPosFinal","lastSelectionCurEnd","selectedArea","getSelectedAreaRange","selectedText","emptyStrings","selectBlock","posFromIndex","indexFromPos","lastCh","extendLineToColumn","repeatFn","setRegister","insertRegister","setMark","markName","replaceWith","replaceTo","replaceWithStr","incrementNumberToken","lineStr","numberStr","baseStr","digits","zeroPadding","repeatLastEdit","includeLineBreak","maxCh","ret","offsetLine","offsetCh","commandMatch","pressed","prefixLen","pressedPrefix","mappedPrefix","cur1","cur2","cur3","cur1before2","cur2before3","clipPos","isClipped","curHead","primIndex","getIndex","wasClipped","baseCh","headCh","newDir","lineHead","atAnchor","atHead","getCurrentSelectedAreaRange","getLastSelectedAreaRange","headOffset","fromCh","toCh","getHead","moveHead","firstNonWS","_forward","noSymbol","wordStart","findMatchingTag","findEnclosingTag","symbolToMode","findSymbolModes","isComplete","nextCh","symb","reverseSymb","section","curMoveThrough","method","preprocess","lineCount","curCh","lineLen","findWord","emptyLineIsWord","charTests","foundWord","eodCh","shortCircuit","firstWord","lastWord","keepHPos","retval","charIdxInLine","includeChar","lastIndexOf","isBoundary","curr","lastSentencePos","curr_index","last_valid","skip_empty_lines","bracketRegexp","openSym","curChar","scanForBracket","firstIndex","getOverlay","searchOverlay","setOverlay","reversed","getScrollbarAnnotate","annotate","setScrollbarAnnotate","searchState_","splitBySlash","argString","splitBySeparator","findUnescapedSlashes","findUnescapedSeparators","slashes","escapeNextChar","translateRegex","specials","unescape","out","specialComesNext","charUnescapes","translateRegexReplace","unescapes","unescapeRegexReplace","output","parseQuery","lastSearchRegister","regexPart","forceIgnoreCase","flagsPart","pre","$color","$whiteSpace","openNotification","duration","alert","innerText","makePrompt","createDocumentFragment","$fontFamily","shortText","prompt","regexEqual","r1","r2","rawQuery","matchSol","sol","backUp","removeOverlay","addOverlay","showMatchesOnScrollbar","lastEndPos","isInRange","scrollInfo","occludeToleranceTop","occludeToleranceBottom","bottomY","ExCommandDispatcher","buildCommandMap_","opt_params","that","_processCommand","commandHistoryRegister","previousCommand","inputStream","params","parseInput_","commandName","matchCommand_","parseCommandArgs_","toInput","parseLineSpec_","numberMatch","parseLineSpecOffset_","offsetMatch","delim","argDelimiter","user","colorscheme","mapArgs","imap","nmap","vmap","setArgs","setCfg","forceGet","optionIsBoolean","setOptionReturn","setlocal","setglobal","regArgs","regInfo","unique","parseArgs","eatSpace","opts","decimal","hex","octal","radix","numPart","textPart","matchPart","compareFn","anum","bnum","comparePatternFn","textOld","vglobal","inverted","matchedLines","getLineHandle","nextCommand","getLineNumber","substitute","replacePart","count","confirm","doReplace","save","nohlsearch","delmarks","sym","startMark","finishMark","searchCursor","exMode","lastPos","modifiedLineNumber","newText","unmodifiedLineNumber","findNextValidMatch","lastMatchTo","savedCallback","insertModeChangeRegister","logInsertModeChange","imc","repeatInsertModeChanges","changeObj","ignoreCount","selectionCount","maybeReset","handleExternalSelection","somethingSelected","onKeyFound","lookupKey","repeatForInsert","isAction","cachedInputState","repeatCommand","repeatInsert","changeObject","keyHandler","cloneVimState","isHandled","wasInVisualBlock","wasMultiselect","isInMultiSelectMode","inVirtualSelectionMode","changeQueueList","forEachSelection","virtualSelection","cursorActivity","lineNumber","emitter","_handlers","signalTo","specialKey","Return","Escape","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","ignoredKeys","Command","AltGraph","Dead","dispatchChange","transaction","cm6","note","runHistoryCommand","revert","$changeStart","changeStartIndex","$mid","$lastChangeEndOffset","tmpRanges","onBeforeEndOperation","row","handle","replacements","log","insertLeft","bm","Marker","cm6Query","forVim","lastCM5Result","firstOffset","rCursor","ChunkSize","endAt","startFrom","amount","pixels","scroller","changeHandlers","cursorActivityHandlers","$d","op","setter","e_preventDefault","stopPropagation","dialogDiv","dialog","closeNotification","currentNotificationClose","doneTimer","hideDialog","showDialog","oldDialog","parentElement","replaceChild","inp","getElementsByTagName","onInput","closeOnEnter","where","maxScanLen","maxScanLineLength","maxScanLines","lineNo","convertRange","cm6Range","Piece","letter","BlockCursorPlugin","rangePieces","drawSel","measureCursor","oldCursors","fatCursor","hCoeff","HTMLElement","Vim","HighlightMargin","vimStyle","vimPlugin","lastKeydown","blockCursor","updateClass","scheduleRedraw","updateStatus","statusbar","showVimPanel","overWriteSelection","keypress","cmdKey","vimPanelState","createVimPanel","statusPanel","getCM","emacsStyle","emacsPlugin","em","EmacsHandler","$emacsMark","updateMarksOnChange","handleKeyboard","emacs","Divide","Slash","Multiply","Subtract","Minus","Equal","commandKeyBinding","$data","keyChain","lastCommand","$emacsMarkRing","keyData","getKey","findCommand","commandResult","pushEmacsMark","isNaN","isYank","Boolean","activate","prevMark","setEmacsMark","emacsMark","newRanges","linesToInsert","toInsert","keyGroup","chain","handlesCount","emacsKeys","region","bindKey","addCommands","unsetTransientMark","markWord","selectParagraph","goOrSelect","clearSelection","centerSelection","recenterTopBottom","screenHeight","cursorTop","selectRectangularRegion","startCollumn","endCollumn","popEmacsMark","rangePositions","hasNoSelection","exchangePointAndMark","exchangePointAndMark$exec","markRing","lastMark","killWord","killRing","killLine","onPaste","yankRotate","rotate","killRegion","getCopyText","killRingSave","keyboardQuit","focusCommandLine","showCommandLine","batchDepth","hasError","batchedEffect","_effect","batchIteration","_nextBatchedEffect","_flags","needsToRecompute","_callback","endBatch","evalContext","globalVersion","_node","_target","_version","_source","_prevSource","_sources","_nextSource","_prevTarget","_nextTarget","_rollbackNode","_subscribe","_targets","Signal","_refresh","_unsubscribe","subscribe","flag","valueOf","addDependency","cycleDetected","_notify","prepareSources","rollbackNode","_compute","_globalVersion","Computed","prevContext","cleanupSources","OUTDATED","computed","_cleanup","disposeEffect","cleanupEffect","Effect","endEffect","_dispose","Component","hookName","hookFn","updater","finishUpdate","_ref","currentSignal","useSignal","_this","_updateFlags","_updater","displayName","defineProperties","configurable","__b","signalProps","__np","setCurrentUpdater","createUpdater","oldVNode","renderedProps","_updaters","updaters","_signal","createPropUpdater","_update","propSignal","setAsProperty","ownerSVGElement","changeSignal","newSignal","_updater2","HAS_PENDING_UPDATE","_i","useComputed","$compute","useSignalEffect","codeFromString","codeToString","themes","keyBindings","keyBinding","kb","CodeEditor","keyBindingConfig","themeConfig","onCodeEdit","code_editor","ConfigSelect","config_select","initialCode","Home","setCode","setKeyBinding","setTheme","App"],"mappings":"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G,CAAC4W,GAAG,CAAC;MACvE,OAAO,CAAC,CAACnW,EAAE,GAAGizB,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC1B,QAAQ,MAAM,IAAI,IAAIvxB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmc,IAAI,KAAK,IAAI;IACrI;EAAC;EAAA;AAAA;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA24B,eAAU,CAAC5qB,WAAW,GAAGA,WAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA4qB,eAAU,CAACvsB,YAAY,GAAGA,YAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACAusB,eAAU,CAACtsB,oBAAoB,GAAGA,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACAssB,eAAU,CAACzsB,aAAa,GAAGA,aAAa;AACxC;AACA;AACA;AACA;AACAysB,eAAU,CAACxsB,cAAc,GAAGA,cAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAwsB,eAAU,CAAC5rB,QAAQ,GAAGA,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA4rB,eAAU,CAAC1sB,mBAAmB,GAAGA,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA0sB,eAAU,CAAC/Y,kBAAkB,GAAG5T,oBAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA2sB,eAAU,CAAC5sB,uBAAuB,GAAGA,uBAAuB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA4sB,eAAU,CAAChtB,WAAW,GAAGA,gBAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAgtB,eAAU,CAAC9qB,YAAY,GAAGA,YAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA8qB,eAAU,CAAC7qB,aAAa,GAAGA,aAAa;AACxC;AACA;AACA;AACA;AACA;AACA;A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AAM,EAAEj3C,MAAC,CAACrlB,YAAO,CAAC;EAClB;EACAu8D,IAAI,EAAEl3C,MAAC,CAACrlB,YAAO,CAAC;EAChB;EACA;EACAw8D,SAAS,EAAEn3C,MAAC,CAACrlB,YAAO,CAAC;EACrB;EACA;EACAy8D,aAAa,EAAEp3C,MAAC,CAACrlB,YAAO,CAAC;EACzB;EACAjJ,QAAQ,EAAEsuB,MAAC,EAAE;EACb;EACAq3C,OAAO,EAAEr3C,MAAC,EAAE;EACZ;EACArnB,OAAO,EAAEqnB,MAAC,EAAE;EACZ;EACAs3C,OAAO,EAAEt3C,MAAC,EAAE;EACZ;EACAswB,IAAI,EAAJA,IAAI;EACJ;EACA;EACAinB,YAAY,EAAEv3C,MAAC,CAACswB,IAAI,CAAC;EACrB;EACA;EACAtyC,UAAU,EAAEgiB,MAAC,CAACswB,IAAI,CAAC;EACnB;EACA;EACAknB,qBAAqB,EAAEx3C,MAAC,CAACswB,IAAI,CAAC;EAC9B;EACA;EACA;EACAmnB,UAAU,EAAEpG,GAAG,CAACqG,cAAc,EAAE;EAChC;EACA;EACA;EACAC,QAAQ,EAAEtG,GAAG,CAACqG,cAAc,EAAE;EAC9B;EACA;EACA;EACA;EACAE,QAAQ,EAAEvG,GAAG,CAACqG,cAAc,EAAE;EAC9B;EACA;EACA;EACAG,QAAQ,EAAExG,GAAG,CAACqG,cAAc,EAAE;EAC9B;EACA;EACAzsD,KAAK,EAAEomD,GAAG,CAACqG,cAAc,EAAE;EAC3B;EACA;EACA;EACA;EACA;EACA;EACAI,OAAO,EAAEzG,GAAG,CAACqG,cAAc;AAC/B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMK,gBAAgB,GAAG5F,cAAc,CAAC,CACpC;EAAE7yC,GAAG,EAAEwyC,IAAI,CAACoF,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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/codemirror-demo/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"qVkA\");\n","module.exports = require(\"preact\");","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport default {\"editor\":\"editor__CaOe4\"};","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tconst prevScu = currentComponent.shouldComponentUpdate;\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\tcurrentComponent.shouldComponentUpdate = function(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t};\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"code_editor\":\"code_editor__H2Y07\"};","/**\nThe data structure for documents. @nonabstract\n*/\nclass Text {\n    /**\n    @internal\n    */\n    constructor() { }\n    /**\n    Get the line description around the given position.\n    */\n    lineAt(pos) {\n        if (pos < 0 || pos > this.length)\n            throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);\n        return this.lineInner(pos, false, 1, 0);\n    }\n    /**\n    Get the description for the given (1-based) line number.\n    */\n    line(n) {\n        if (n < 1 || n > this.lines)\n            throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);\n        return this.lineInner(n, true, 1, 0);\n    }\n    /**\n    Replace a range of the text with the given content.\n    */\n    replace(from, to, text) {\n        let parts = [];\n        this.decompose(0, from, parts, 2 /* Open.To */);\n        if (text.length)\n            text.decompose(0, text.length, parts, 1 /* Open.From */ | 2 /* Open.To */);\n        this.decompose(to, this.length, parts, 1 /* Open.From */);\n        return TextNode.from(parts, this.length - (to - from) + text.length);\n    }\n    /**\n    Append another document to this one.\n    */\n    append(other) {\n        return this.replace(this.length, this.length, other);\n    }\n    /**\n    Retrieve the text between the given points.\n    */\n    slice(from, to = this.length) {\n        let parts = [];\n        this.decompose(from, to, parts, 0);\n        return TextNode.from(parts, to - from);\n    }\n    /**\n    Test whether this text is equal to another instance.\n    */\n    eq(other) {\n        if (other == this)\n            return true;\n        if (other.length != this.length || other.lines != this.lines)\n            return false;\n        let start = this.scanIdentical(other, 1), end = this.length - this.scanIdentical(other, -1);\n        let a = new RawTextCursor(this), b = new RawTextCursor(other);\n        for (let skip = start, pos = start;;) {\n            a.next(skip);\n            b.next(skip);\n            skip = 0;\n            if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)\n                return false;\n            pos += a.value.length;\n            if (a.done || pos >= end)\n                return true;\n        }\n    }\n    /**\n    Iterate over the text. When `dir` is `-1`, iteration happens\n    from end to start. This will return lines and the breaks between\n    them as separate strings.\n    */\n    iter(dir = 1) { return new RawTextCursor(this, dir); }\n    /**\n    Iterate over a range of the text. When `from` > `to`, the\n    iterator will run in reverse.\n    */\n    iterRange(from, to = this.length) { return new PartialTextCursor(this, from, to); }\n    /**\n    Return a cursor that iterates over the given range of lines,\n    _without_ returning the line breaks between, and yielding empty\n    strings for empty lines.\n    \n    When `from` and `to` are given, they should be 1-based line numbers.\n    */\n    iterLines(from, to) {\n        let inner;\n        if (from == null) {\n            inner = this.iter();\n        }\n        else {\n            if (to == null)\n                to = this.lines + 1;\n            let start = this.line(from).from;\n            inner = this.iterRange(start, Math.max(start, to == this.lines + 1 ? this.length : to <= 1 ? 0 : this.line(to - 1).to));\n        }\n        return new LineCursor(inner);\n    }\n    /**\n    @internal\n    */\n    toString() { return this.sliceString(0); }\n    /**\n    Convert the document to an array of lines (which can be\n    deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#state.Text^of)).\n    */\n    toJSON() {\n        let lines = [];\n        this.flatten(lines);\n        return lines;\n    }\n    /**\n    Create a `Text` instance for the given array of lines.\n    */\n    static of(text) {\n        if (text.length == 0)\n            throw new RangeError(\"A document must have at least one line\");\n        if (text.length == 1 && !text[0])\n            return Text.empty;\n        return text.length <= 32 /* Tree.Branch */ ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));\n    }\n}\n// Leaves store an array of line strings. There are always line breaks\n// between these strings. Leaves are limited in size and have to be\n// contained in TextNode instances for bigger documents.\nclass TextLeaf extends Text {\n    constructor(text, length = textLength(text)) {\n        super();\n        this.text = text;\n        this.length = length;\n    }\n    get lines() { return this.text.length; }\n    get children() { return null; }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let string = this.text[i], end = offset + string.length;\n            if ((isLine ? line : end) >= target)\n                return new Line(offset, end, line, string);\n            offset = end + 1;\n            line++;\n        }\n    }\n    decompose(from, to, target, open) {\n        let text = from <= 0 && to >= this.length ? this\n            : new TextLeaf(sliceText(this.text, from, to), Math.min(to, this.length) - Math.max(0, from));\n        if (open & 1 /* Open.From */) {\n            let prev = target.pop();\n            let joined = appendText(text.text, prev.text.slice(), 0, text.length);\n            if (joined.length <= 32 /* Tree.Branch */) {\n                target.push(new TextLeaf(joined, prev.length + text.length));\n            }\n            else {\n                let mid = joined.length >> 1;\n                target.push(new TextLeaf(joined.slice(0, mid)), new TextLeaf(joined.slice(mid)));\n            }\n        }\n        else {\n            target.push(text);\n        }\n    }\n    replace(from, to, text) {\n        if (!(text instanceof TextLeaf))\n            return super.replace(from, to, text);\n        let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from)), to);\n        let newLen = this.length + text.length - (to - from);\n        if (lines.length <= 32 /* Tree.Branch */)\n            return new TextLeaf(lines, newLen);\n        return TextNode.from(TextLeaf.split(lines, []), newLen);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {\n            let line = this.text[i], end = pos + line.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += line.slice(Math.max(0, from - pos), to - pos);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let line of this.text)\n            target.push(line);\n    }\n    scanIdentical() { return 0; }\n    static split(text, target) {\n        let part = [], len = -1;\n        for (let line of text) {\n            part.push(line);\n            len += line.length + 1;\n            if (part.length == 32 /* Tree.Branch */) {\n                target.push(new TextLeaf(part, len));\n                part = [];\n                len = -1;\n            }\n        }\n        if (len > -1)\n            target.push(new TextLeaf(part, len));\n        return target;\n    }\n}\n// Nodes provide the tree structure of the `Text` type. They store a\n// number of other nodes or leaves, taking care to balance themselves\n// on changes. There are implied line breaks _between_ the children of\n// a node (but not before the first or after the last child).\nclass TextNode extends Text {\n    constructor(children, length) {\n        super();\n        this.children = children;\n        this.length = length;\n        this.lines = 0;\n        for (let child of children)\n            this.lines += child.lines;\n    }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;\n            if ((isLine ? endLine : end) >= target)\n                return child.lineInner(target, isLine, line, offset);\n            offset = end + 1;\n            line = endLine + 1;\n        }\n    }\n    decompose(from, to, target, open) {\n        for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (from <= end && to >= pos) {\n                let childOpen = open & ((pos <= from ? 1 /* Open.From */ : 0) | (end >= to ? 2 /* Open.To */ : 0));\n                if (pos >= from && end <= to && !childOpen)\n                    target.push(child);\n                else\n                    child.decompose(from - pos, to - pos, target, childOpen);\n            }\n            pos = end + 1;\n        }\n    }\n    replace(from, to, text) {\n        if (text.lines < this.lines)\n            for (let i = 0, pos = 0; i < this.children.length; i++) {\n                let child = this.children[i], end = pos + child.length;\n                // Fast path: if the change only affects one child and the\n                // child's size remains in the acceptable range, only update\n                // that child\n                if (from >= pos && to <= end) {\n                    let updated = child.replace(from - pos, to - pos, text);\n                    let totalLines = this.lines - child.lines + updated.lines;\n                    if (updated.lines < (totalLines >> (5 /* Tree.BranchShift */ - 1)) &&\n                        updated.lines > (totalLines >> (5 /* Tree.BranchShift */ + 1))) {\n                        let copy = this.children.slice();\n                        copy[i] = updated;\n                        return new TextNode(copy, this.length - (to - from) + text.length);\n                    }\n                    return super.replace(pos, end, updated);\n                }\n                pos = end + 1;\n            }\n        return super.replace(from, to, text);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += child.sliceString(from - pos, to - pos, lineSep);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let child of this.children)\n            child.flatten(target);\n    }\n    scanIdentical(other, dir) {\n        if (!(other instanceof TextNode))\n            return 0;\n        let length = 0;\n        let [iA, iB, eA, eB] = dir > 0 ? [0, 0, this.children.length, other.children.length]\n            : [this.children.length - 1, other.children.length - 1, -1, -1];\n        for (;; iA += dir, iB += dir) {\n            if (iA == eA || iB == eB)\n                return length;\n            let chA = this.children[iA], chB = other.children[iB];\n            if (chA != chB)\n                return length + chA.scanIdentical(chB, dir);\n            length += chA.length + 1;\n        }\n    }\n    static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {\n        let lines = 0;\n        for (let ch of children)\n            lines += ch.lines;\n        if (lines < 32 /* Tree.Branch */) {\n            let flat = [];\n            for (let ch of children)\n                ch.flatten(flat);\n            return new TextLeaf(flat, length);\n        }\n        let chunk = Math.max(32 /* Tree.Branch */, lines >> 5 /* Tree.BranchShift */), maxChunk = chunk << 1, minChunk = chunk >> 1;\n        let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];\n        function add(child) {\n            let last;\n            if (child.lines > maxChunk && child instanceof TextNode) {\n                for (let node of child.children)\n                    add(node);\n            }\n            else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {\n                flush();\n                chunked.push(child);\n            }\n            else if (child instanceof TextLeaf && currentLines &&\n                (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf &&\n                child.lines + last.lines <= 32 /* Tree.Branch */) {\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);\n            }\n            else {\n                if (currentLines + child.lines > chunk)\n                    flush();\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk.push(child);\n            }\n        }\n        function flush() {\n            if (currentLines == 0)\n                return;\n            chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLen));\n            currentLen = -1;\n            currentLines = currentChunk.length = 0;\n        }\n        for (let child of children)\n            add(child);\n        flush();\n        return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);\n    }\n}\nText.empty = /*@__PURE__*/new TextLeaf([\"\"], 0);\nfunction textLength(text) {\n    let length = -1;\n    for (let line of text)\n        length += line.length + 1;\n    return length;\n}\nfunction appendText(text, target, from = 0, to = 1e9) {\n    for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {\n        let line = text[i], end = pos + line.length;\n        if (end >= from) {\n            if (end > to)\n                line = line.slice(0, to - pos);\n            if (pos < from)\n                line = line.slice(from - pos);\n            if (first) {\n                target[target.length - 1] += line;\n                first = false;\n            }\n            else\n                target.push(line);\n        }\n        pos = end + 1;\n    }\n    return target;\n}\nfunction sliceText(text, from, to) {\n    return appendText(text, [\"\"], from, to);\n}\nclass RawTextCursor {\n    constructor(text, dir = 1) {\n        this.dir = dir;\n        this.done = false;\n        this.lineBreak = false;\n        this.value = \"\";\n        this.nodes = [text];\n        this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];\n    }\n    nextInner(skip, dir) {\n        this.done = this.lineBreak = false;\n        for (;;) {\n            let last = this.nodes.length - 1;\n            let top = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;\n            let size = top instanceof TextLeaf ? top.text.length : top.children.length;\n            if (offset == (dir > 0 ? size : 0)) {\n                if (last == 0) {\n                    this.done = true;\n                    this.value = \"\";\n                    return this;\n                }\n                if (dir > 0)\n                    this.offsets[last - 1]++;\n                this.nodes.pop();\n                this.offsets.pop();\n            }\n            else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {\n                this.offsets[last] += dir;\n                if (skip == 0) {\n                    this.lineBreak = true;\n                    this.value = \"\\n\";\n                    return this;\n                }\n                skip--;\n            }\n            else if (top instanceof TextLeaf) {\n                // Move to the next string\n                let next = top.text[offset + (dir < 0 ? -1 : 0)];\n                this.offsets[last] += dir;\n                if (next.length > Math.max(0, skip)) {\n                    this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);\n                    return this;\n                }\n                skip -= next.length;\n            }\n            else {\n                let next = top.children[offset + (dir < 0 ? -1 : 0)];\n                if (skip > next.length) {\n                    skip -= next.length;\n                    this.offsets[last] += dir;\n                }\n                else {\n                    if (dir < 0)\n                        this.offsets[last]--;\n                    this.nodes.push(next);\n                    this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);\n                }\n            }\n        }\n    }\n    next(skip = 0) {\n        if (skip < 0) {\n            this.nextInner(-skip, (-this.dir));\n            skip = this.value.length;\n        }\n        return this.nextInner(skip, this.dir);\n    }\n}\nclass PartialTextCursor {\n    constructor(text, start, end) {\n        this.value = \"\";\n        this.done = false;\n        this.cursor = new RawTextCursor(text, start > end ? -1 : 1);\n        this.pos = start > end ? text.length : 0;\n        this.from = Math.min(start, end);\n        this.to = Math.max(start, end);\n    }\n    nextInner(skip, dir) {\n        if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {\n            this.value = \"\";\n            this.done = true;\n            return this;\n        }\n        skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);\n        let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;\n        if (skip > limit)\n            skip = limit;\n        limit -= skip;\n        let { value } = this.cursor.next(skip);\n        this.pos += (value.length + skip) * dir;\n        this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);\n        this.done = !this.value;\n        return this;\n    }\n    next(skip = 0) {\n        if (skip < 0)\n            skip = Math.max(skip, this.from - this.pos);\n        else if (skip > 0)\n            skip = Math.min(skip, this.to - this.pos);\n        return this.nextInner(skip, this.cursor.dir);\n    }\n    get lineBreak() { return this.cursor.lineBreak && this.value != \"\"; }\n}\nclass LineCursor {\n    constructor(inner) {\n        this.inner = inner;\n        this.afterBreak = true;\n        this.value = \"\";\n        this.done = false;\n    }\n    next(skip = 0) {\n        let { done, lineBreak, value } = this.inner.next(skip);\n        if (done) {\n            this.done = true;\n            this.value = \"\";\n        }\n        else if (lineBreak) {\n            if (this.afterBreak) {\n                this.value = \"\";\n            }\n            else {\n                this.afterBreak = true;\n                this.next();\n            }\n        }\n        else {\n            this.value = value;\n            this.afterBreak = false;\n        }\n        return this;\n    }\n    get lineBreak() { return false; }\n}\nif (typeof Symbol != \"undefined\") {\n    Text.prototype[Symbol.iterator] = function () { return this.iter(); };\n    RawTextCursor.prototype[Symbol.iterator] = PartialTextCursor.prototype[Symbol.iterator] =\n        LineCursor.prototype[Symbol.iterator] = function () { return this; };\n}\n/**\nThis type describes a line in the document. It is created\non-demand when lines are [queried](https://codemirror.net/6/docs/ref/#state.Text.lineAt).\n*/\nclass Line {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position of the start of the line.\n    */\n    from, \n    /**\n    The position at the end of the line (_before_ the line break,\n    or at the end of document for the last line).\n    */\n    to, \n    /**\n    This line's line number (1-based).\n    */\n    number, \n    /**\n    The line's content.\n    */\n    text) {\n        this.from = from;\n        this.to = to;\n        this.number = number;\n        this.text = text;\n    }\n    /**\n    The length of the line (not including any line break after it).\n    */\n    get length() { return this.to - this.from; }\n}\n\n// Compressed representation of the Grapheme_Cluster_Break=Extend\n// information from\n// http://www.unicode.org/Public/13.0.0/ucd/auxiliary/GraphemeBreakProperty.txt.\n// Each pair of elements represents a range, as an offet from the\n// previous range and a length. Numbers are in base-36, with the empty\n// string being a shorthand for 1.\nlet extend = /*@__PURE__*/\"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(s => s ? parseInt(s, 36) : 1);\n// Convert offsets into absolute values\nfor (let i = 1; i < extend.length; i++)\n    extend[i] += extend[i - 1];\nfunction isExtendingChar(code) {\n    for (let i = 1; i < extend.length; i += 2)\n        if (extend[i] > code)\n            return extend[i - 1] <= code;\n    return false;\n}\nfunction isRegionalIndicator(code) {\n    return code >= 0x1F1E6 && code <= 0x1F1FF;\n}\nconst ZWJ = 0x200d;\n/**\nReturns a next grapheme cluster break _after_ (not equal to)\n`pos`, if `forward` is true, or before otherwise. Returns `pos`\nitself if no further cluster break is available in the string.\nMoves across surrogate pairs, extending characters (when\n`includeExtending` is true), characters joined with zero-width\njoiners, and flag emoji.\n*/\nfunction findClusterBreak(str, pos, forward = true, includeExtending = true) {\n    return (forward ? nextClusterBreak : prevClusterBreak)(str, pos, includeExtending);\n}\nfunction nextClusterBreak(str, pos, includeExtending) {\n    if (pos == str.length)\n        return pos;\n    // If pos is in the middle of a surrogate pair, move to its start\n    if (pos && surrogateLow(str.charCodeAt(pos)) && surrogateHigh(str.charCodeAt(pos - 1)))\n        pos--;\n    let prev = codePointAt(str, pos);\n    pos += codePointSize(prev);\n    while (pos < str.length) {\n        let next = codePointAt(str, pos);\n        if (prev == ZWJ || next == ZWJ || includeExtending && isExtendingChar(next)) {\n            pos += codePointSize(next);\n            prev = next;\n        }\n        else if (isRegionalIndicator(next)) {\n            let countBefore = 0, i = pos - 2;\n            while (i >= 0 && isRegionalIndicator(codePointAt(str, i))) {\n                countBefore++;\n                i -= 2;\n            }\n            if (countBefore % 2 == 0)\n                break;\n            else\n                pos += 2;\n        }\n        else {\n            break;\n        }\n    }\n    return pos;\n}\nfunction prevClusterBreak(str, pos, includeExtending) {\n    while (pos > 0) {\n        let found = nextClusterBreak(str, pos - 2, includeExtending);\n        if (found < pos)\n            return found;\n        pos--;\n    }\n    return 0;\n}\nfunction surrogateLow(ch) { return ch >= 0xDC00 && ch < 0xE000; }\nfunction surrogateHigh(ch) { return ch >= 0xD800 && ch < 0xDC00; }\n/**\nFind the code point at the given position in a string (like the\n[`codePointAt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt)\nstring method).\n*/\nfunction codePointAt(str, pos) {\n    let code0 = str.charCodeAt(pos);\n    if (!surrogateHigh(code0) || pos + 1 == str.length)\n        return code0;\n    let code1 = str.charCodeAt(pos + 1);\n    if (!surrogateLow(code1))\n        return code0;\n    return ((code0 - 0xd800) << 10) + (code1 - 0xdc00) + 0x10000;\n}\n/**\nGiven a Unicode codepoint, return the JavaScript string that\nrespresents it (like\n[`String.fromCodePoint`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)).\n*/\nfunction fromCodePoint(code) {\n    if (code <= 0xffff)\n        return String.fromCharCode(code);\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xd800, (code & 1023) + 0xdc00);\n}\n/**\nThe amount of positions a character takes up a JavaScript string.\n*/\nfunction codePointSize(code) { return code < 0x10000 ? 1 : 2; }\n\nconst DefaultSplit = /\\r\\n?|\\n/;\n/**\nDistinguishes different ways in which positions can be mapped.\n*/\nvar MapMode = /*@__PURE__*/(function (MapMode) {\n    /**\n    Map a position to a valid new position, even when its context\n    was deleted.\n    */\n    MapMode[MapMode[\"Simple\"] = 0] = \"Simple\";\n    /**\n    Return null if deletion happens across the position.\n    */\n    MapMode[MapMode[\"TrackDel\"] = 1] = \"TrackDel\";\n    /**\n    Return null if the character _before_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackBefore\"] = 2] = \"TrackBefore\";\n    /**\n    Return null if the character _after_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackAfter\"] = 3] = \"TrackAfter\";\nreturn MapMode})(MapMode || (MapMode = {}));\n/**\nA change description is a variant of [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet)\nthat doesn't store the inserted text. As such, it can't be\napplied, but is cheaper to store and manipulate.\n*/\nclass ChangeDesc {\n    // Sections are encoded as pairs of integers. The first is the\n    // length in the current document, and the second is -1 for\n    // unaffected sections, and the length of the replacement content\n    // otherwise. So an insertion would be (0, n>0), a deletion (n>0,\n    // 0), and a replacement two positive numbers.\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    sections) {\n        this.sections = sections;\n    }\n    /**\n    The length of the document before the change.\n    */\n    get length() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2)\n            result += this.sections[i];\n        return result;\n    }\n    /**\n    The length of the document after the change.\n    */\n    get newLength() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let ins = this.sections[i + 1];\n            result += ins < 0 ? this.sections[i] : ins;\n        }\n        return result;\n    }\n    /**\n    False when there are actual changes in this set.\n    */\n    get empty() { return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0; }\n    /**\n    Iterate over the unchanged parts left by these changes. `posA`\n    provides the position of the range in the old document, `posB`\n    the new position in the changed document.\n    */\n    iterGaps(f) {\n        for (let i = 0, posA = 0, posB = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0) {\n                f(posA, posB, len);\n                posB += len;\n            }\n            else {\n                posB += ins;\n            }\n            posA += len;\n        }\n    }\n    /**\n    Iterate over the ranges changed by these changes. (See\n    [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a\n    variant that also provides you with the inserted text.)\n    `fromA`/`toA` provides the extent of the change in the starting\n    document, `fromB`/`toB` the extent of the replacement in the\n    changed document.\n    \n    When `individual` is true, adjacent changes (which are kept\n    separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are\n    reported separately.\n    */\n    iterChangedRanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a description of the inverted form of these changes.\n    */\n    get invertedDesc() {\n        let sections = [];\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0)\n                sections.push(len, ins);\n            else\n                sections.push(ins, len);\n        }\n        return new ChangeDesc(sections);\n    }\n    /**\n    Compute the combined effect of applying another set of changes\n    after this one. The length of the document after this set should\n    match the length before `other`.\n    */\n    composeDesc(other) { return this.empty ? other : other.empty ? this : composeSets(this, other); }\n    /**\n    Map this description, which should start with the same document\n    as `other`, over another set of changes, so that it can be\n    applied after it. When `before` is true, map as if the changes\n    in `other` happened before the ones in `this`.\n    */\n    mapDesc(other, before = false) { return other.empty ? this : mapSet(this, other, before); }\n    mapPos(pos, assoc = -1, mode = MapMode.Simple) {\n        let posA = 0, posB = 0;\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;\n            if (ins < 0) {\n                if (endA > pos)\n                    return posB + (pos - posA);\n                posB += len;\n            }\n            else {\n                if (mode != MapMode.Simple && endA >= pos &&\n                    (mode == MapMode.TrackDel && posA < pos && endA > pos ||\n                        mode == MapMode.TrackBefore && posA < pos ||\n                        mode == MapMode.TrackAfter && endA > pos))\n                    return null;\n                if (endA > pos || endA == pos && assoc < 0 && !len)\n                    return pos == posA || assoc < 0 ? posB : posB + ins;\n                posB += ins;\n            }\n            posA = endA;\n        }\n        if (pos > posA)\n            throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);\n        return posB;\n    }\n    /**\n    Check whether these changes touch a given range. When one of the\n    changes entirely covers the range, the string `\"cover\"` is\n    returned.\n    */\n    touchesRange(from, to = from) {\n        for (let i = 0, pos = 0; i < this.sections.length && pos <= to;) {\n            let len = this.sections[i++], ins = this.sections[i++], end = pos + len;\n            if (ins >= 0 && pos <= to && end >= from)\n                return pos < from && end > to ? \"cover\" : true;\n            pos = end;\n        }\n        return false;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let result = \"\";\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            result += (result ? \" \" : \"\") + len + (ins >= 0 ? \":\" + ins : \"\");\n        }\n        return result;\n    }\n    /**\n    Serialize this change desc to a JSON-representable value.\n    */\n    toJSON() { return this.sections; }\n    /**\n    Create a change desc from its JSON representation (as produced\n    by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json) || json.length % 2 || json.some(a => typeof a != \"number\"))\n            throw new RangeError(\"Invalid JSON representation of ChangeDesc\");\n        return new ChangeDesc(json);\n    }\n    /**\n    @internal\n    */\n    static create(sections) { return new ChangeDesc(sections); }\n}\n/**\nA change set represents a group of modifications to a document. It\nstores the document length, and can only be applied to documents\nwith exactly that length.\n*/\nclass ChangeSet extends ChangeDesc {\n    constructor(sections, \n    /**\n    @internal\n    */\n    inserted) {\n        super(sections);\n        this.inserted = inserted;\n    }\n    /**\n    Apply the changes to a document, returning the modified\n    document.\n    */\n    apply(doc) {\n        if (this.length != doc.length)\n            throw new RangeError(\"Applying change set to a document with the wrong length\");\n        iterChanges(this, (fromA, toA, fromB, _toB, text) => doc = doc.replace(fromB, fromB + (toA - fromA), text), false);\n        return doc;\n    }\n    mapDesc(other, before = false) { return mapSet(this, other, before, true); }\n    /**\n    Given the document as it existed _before_ the changes, return a\n    change set that represents the inverse of this set, which could\n    be used to go from the document created by the changes back to\n    the document as it existed before the changes.\n    */\n    invert(doc) {\n        let sections = this.sections.slice(), inserted = [];\n        for (let i = 0, pos = 0; i < sections.length; i += 2) {\n            let len = sections[i], ins = sections[i + 1];\n            if (ins >= 0) {\n                sections[i] = ins;\n                sections[i + 1] = len;\n                let index = i >> 1;\n                while (inserted.length < index)\n                    inserted.push(Text.empty);\n                inserted.push(len ? doc.slice(pos, pos + len) : Text.empty);\n            }\n            pos += len;\n        }\n        return new ChangeSet(sections, inserted);\n    }\n    /**\n    Combine two subsequent change sets into a single set. `other`\n    must start in the document produced by `this`. If `this` goes\n    `docA`  `docB` and `other` represents `docB`  `docC`, the\n    returned value will represent the change `docA`  `docC`.\n    */\n    compose(other) { return this.empty ? other : other.empty ? this : composeSets(this, other, true); }\n    /**\n    Given another change set starting in the same document, maps this\n    change set over the other, producing a new change set that can be\n    applied to the document produced by applying `other`. When\n    `before` is `true`, order changes as if `this` comes before\n    `other`, otherwise (the default) treat `other` as coming first.\n    \n    Given two changes `A` and `B`, `A.compose(B.map(A))` and\n    `B.compose(A.map(B, true))` will produce the same document. This\n    provides a basic form of [operational\n    transformation](https://en.wikipedia.org/wiki/Operational_transformation),\n    and can be used for collaborative editing.\n    */\n    map(other, before = false) { return other.empty ? this : mapSet(this, other, before, true); }\n    /**\n    Iterate over the changed ranges in the document, calling `f` for\n    each, with the range in the original document (`fromA`-`toA`)\n    and the range that replaces it in the new document\n    (`fromB`-`toB`).\n    \n    When `individual` is true, adjacent changes are reported\n    separately.\n    */\n    iterChanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change\n    set.\n    */\n    get desc() { return ChangeDesc.create(this.sections); }\n    /**\n    @internal\n    */\n    filter(ranges) {\n        let resultSections = [], resultInserted = [], filteredSections = [];\n        let iter = new SectionIter(this);\n        done: for (let i = 0, pos = 0;;) {\n            let next = i == ranges.length ? 1e9 : ranges[i++];\n            while (pos < next || pos == next && iter.len == 0) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, next - pos);\n                addSection(filteredSections, len, -1);\n                let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;\n                addSection(resultSections, len, ins);\n                if (ins > 0)\n                    addInsert(resultInserted, resultSections, iter.text);\n                iter.forward(len);\n                pos += len;\n            }\n            let end = ranges[i++];\n            while (pos < end) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, end - pos);\n                addSection(resultSections, len, -1);\n                addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);\n                iter.forward(len);\n                pos += len;\n            }\n        }\n        return { changes: new ChangeSet(resultSections, resultInserted),\n            filtered: ChangeDesc.create(filteredSections) };\n    }\n    /**\n    Serialize this change set to a JSON-representable value.\n    */\n    toJSON() {\n        let parts = [];\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let len = this.sections[i], ins = this.sections[i + 1];\n            if (ins < 0)\n                parts.push(len);\n            else if (ins == 0)\n                parts.push([len]);\n            else\n                parts.push([len].concat(this.inserted[i >> 1].toJSON()));\n        }\n        return parts;\n    }\n    /**\n    Create a change set for the given changes, for a document of the\n    given length, using `lineSep` as line separator.\n    */\n    static of(changes, length, lineSep) {\n        let sections = [], inserted = [], pos = 0;\n        let total = null;\n        function flush(force = false) {\n            if (!force && !sections.length)\n                return;\n            if (pos < length)\n                addSection(sections, length - pos, -1);\n            let set = new ChangeSet(sections, inserted);\n            total = total ? total.compose(set.map(total)) : set;\n            sections = [];\n            inserted = [];\n            pos = 0;\n        }\n        function process(spec) {\n            if (Array.isArray(spec)) {\n                for (let sub of spec)\n                    process(sub);\n            }\n            else if (spec instanceof ChangeSet) {\n                if (spec.length != length)\n                    throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);\n                flush();\n                total = total ? total.compose(spec.map(total)) : spec;\n            }\n            else {\n                let { from, to = from, insert } = spec;\n                if (from > to || from < 0 || to > length)\n                    throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);\n                let insText = !insert ? Text.empty : typeof insert == \"string\" ? Text.of(insert.split(lineSep || DefaultSplit)) : insert;\n                let insLen = insText.length;\n                if (from == to && insLen == 0)\n                    return;\n                if (from < pos)\n                    flush();\n                if (from > pos)\n                    addSection(sections, from - pos, -1);\n                addSection(sections, to - from, insLen);\n                addInsert(inserted, sections, insText);\n                pos = to;\n            }\n        }\n        process(changes);\n        flush(!total);\n        return total;\n    }\n    /**\n    Create an empty changeset of the given length.\n    */\n    static empty(length) {\n        return new ChangeSet(length ? [length, -1] : [], []);\n    }\n    /**\n    Create a changeset from its JSON representation (as produced by\n    [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json))\n            throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n        let sections = [], inserted = [];\n        for (let i = 0; i < json.length; i++) {\n            let part = json[i];\n            if (typeof part == \"number\") {\n                sections.push(part, -1);\n            }\n            else if (!Array.isArray(part) || typeof part[0] != \"number\" || part.some((e, i) => i && typeof e != \"string\")) {\n                throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n            }\n            else if (part.length == 1) {\n                sections.push(part[0], 0);\n            }\n            else {\n                while (inserted.length < i)\n                    inserted.push(Text.empty);\n                inserted[i] = Text.of(part.slice(1));\n                sections.push(part[0], inserted[i].length);\n            }\n        }\n        return new ChangeSet(sections, inserted);\n    }\n    /**\n    @internal\n    */\n    static createSet(sections, inserted) {\n        return new ChangeSet(sections, inserted);\n    }\n}\nfunction addSection(sections, len, ins, forceJoin = false) {\n    if (len == 0 && ins <= 0)\n        return;\n    let last = sections.length - 2;\n    if (last >= 0 && ins <= 0 && ins == sections[last + 1])\n        sections[last] += len;\n    else if (len == 0 && sections[last] == 0)\n        sections[last + 1] += ins;\n    else if (forceJoin) {\n        sections[last] += len;\n        sections[last + 1] += ins;\n    }\n    else\n        sections.push(len, ins);\n}\nfunction addInsert(values, sections, value) {\n    if (value.length == 0)\n        return;\n    let index = (sections.length - 2) >> 1;\n    if (index < values.length) {\n        values[values.length - 1] = values[values.length - 1].append(value);\n    }\n    else {\n        while (values.length < index)\n            values.push(Text.empty);\n        values.push(value);\n    }\n}\nfunction iterChanges(desc, f, individual) {\n    let inserted = desc.inserted;\n    for (let posA = 0, posB = 0, i = 0; i < desc.sections.length;) {\n        let len = desc.sections[i++], ins = desc.sections[i++];\n        if (ins < 0) {\n            posA += len;\n            posB += len;\n        }\n        else {\n            let endA = posA, endB = posB, text = Text.empty;\n            for (;;) {\n                endA += len;\n                endB += ins;\n                if (ins && inserted)\n                    text = text.append(inserted[(i - 2) >> 1]);\n                if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)\n                    break;\n                len = desc.sections[i++];\n                ins = desc.sections[i++];\n            }\n            f(posA, endA, posB, endB, text);\n            posA = endA;\n            posB = endB;\n        }\n    }\n}\nfunction mapSet(setA, setB, before, mkSet = false) {\n    // Produce a copy of setA that applies to the document after setB\n    // has been applied (assuming both start at the same document).\n    let sections = [], insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    // Iterate over both sets in parallel. inserted tracks, for changes\n    // in A that have to be processed piece-by-piece, whether their\n    // content has been inserted already, and refers to the section\n    // index.\n    for (let inserted = -1;;) {\n        if (a.ins == -1 && b.ins == -1) {\n            // Move across ranges skipped by both sets.\n            let len = Math.min(a.len, b.len);\n            addSection(sections, len, -1);\n            a.forward(len);\n            b.forward(len);\n        }\n        else if (b.ins >= 0 && (a.ins < 0 || inserted == a.i || a.off == 0 && (b.len < a.len || b.len == a.len && !before))) {\n            // If there's a change in B that comes before the next change in\n            // A (ordered by start pos, then len, then before flag), skip\n            // that (and process any changes in A it covers).\n            let len = b.len;\n            addSection(sections, b.ins, -1);\n            while (len) {\n                let piece = Math.min(a.len, len);\n                if (a.ins >= 0 && inserted < a.i && a.len <= piece) {\n                    addSection(sections, 0, a.ins);\n                    if (insert)\n                        addInsert(insert, sections, a.text);\n                    inserted = a.i;\n                }\n                a.forward(piece);\n                len -= piece;\n            }\n            b.next();\n        }\n        else if (a.ins >= 0) {\n            // Process the part of a change in A up to the start of the next\n            // non-deletion change in B (if overlapping).\n            let len = 0, left = a.len;\n            while (left) {\n                if (b.ins == -1) {\n                    let piece = Math.min(left, b.len);\n                    len += piece;\n                    left -= piece;\n                    b.forward(piece);\n                }\n                else if (b.ins == 0 && b.len < left) {\n                    left -= b.len;\n                    b.next();\n                }\n                else {\n                    break;\n                }\n            }\n            addSection(sections, len, inserted < a.i ? a.ins : 0);\n            if (insert && inserted < a.i)\n                addInsert(insert, sections, a.text);\n            inserted = a.i;\n            a.forward(a.len - left);\n        }\n        else if (a.done && b.done) {\n            return insert ? ChangeSet.createSet(sections, insert) : ChangeDesc.create(sections);\n        }\n        else {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n    }\n}\nfunction composeSets(setA, setB, mkSet = false) {\n    let sections = [];\n    let insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let open = false;;) {\n        if (a.done && b.done) {\n            return insert ? ChangeSet.createSet(sections, insert) : ChangeDesc.create(sections);\n        }\n        else if (a.ins == 0) { // Deletion in A\n            addSection(sections, a.len, 0, open);\n            a.next();\n        }\n        else if (b.len == 0 && !b.done) { // Insertion in B\n            addSection(sections, 0, b.ins, open);\n            if (insert)\n                addInsert(insert, sections, b.text);\n            b.next();\n        }\n        else if (a.done || b.done) {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n        else {\n            let len = Math.min(a.len2, b.len), sectionLen = sections.length;\n            if (a.ins == -1) {\n                let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;\n                addSection(sections, len, insB, open);\n                if (insert && insB)\n                    addInsert(insert, sections, b.text);\n            }\n            else if (b.ins == -1) {\n                addSection(sections, a.off ? 0 : a.len, len, open);\n                if (insert)\n                    addInsert(insert, sections, a.textBit(len));\n            }\n            else {\n                addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);\n                if (insert && !b.off)\n                    addInsert(insert, sections, b.text);\n            }\n            open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);\n            a.forward2(len);\n            b.forward(len);\n        }\n    }\n}\nclass SectionIter {\n    constructor(set) {\n        this.set = set;\n        this.i = 0;\n        this.next();\n    }\n    next() {\n        let { sections } = this.set;\n        if (this.i < sections.length) {\n            this.len = sections[this.i++];\n            this.ins = sections[this.i++];\n        }\n        else {\n            this.len = 0;\n            this.ins = -2;\n        }\n        this.off = 0;\n    }\n    get done() { return this.ins == -2; }\n    get len2() { return this.ins < 0 ? this.len : this.ins; }\n    get text() {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length ? Text.empty : inserted[index];\n    }\n    textBit(len) {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length && !len ? Text.empty\n            : inserted[index].slice(this.off, len == null ? undefined : this.off + len);\n    }\n    forward(len) {\n        if (len == this.len)\n            this.next();\n        else {\n            this.len -= len;\n            this.off += len;\n        }\n    }\n    forward2(len) {\n        if (this.ins == -1)\n            this.forward(len);\n        else if (len == this.ins)\n            this.next();\n        else {\n            this.ins -= len;\n            this.off += len;\n        }\n    }\n}\n\n/**\nA single selection range. When\n[`allowMultipleSelections`](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\nis enabled, a [selection](https://codemirror.net/6/docs/ref/#state.EditorSelection) may hold\nmultiple ranges. By default, selections hold exactly one range.\n*/\nclass SelectionRange {\n    constructor(\n    /**\n    The lower boundary of the range.\n    */\n    from, \n    /**\n    The upper boundary of the range.\n    */\n    to, flags) {\n        this.from = from;\n        this.to = to;\n        this.flags = flags;\n    }\n    /**\n    The anchor of the rangethe side that doesn't move when you\n    extend it.\n    */\n    get anchor() { return this.flags & 16 /* RangeFlag.Inverted */ ? this.to : this.from; }\n    /**\n    The head of the range, which is moved when the range is\n    [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).\n    */\n    get head() { return this.flags & 16 /* RangeFlag.Inverted */ ? this.from : this.to; }\n    /**\n    True when `anchor` and `head` are at the same position.\n    */\n    get empty() { return this.from == this.to; }\n    /**\n    If this is a cursor that is explicitly associated with the\n    character on one of its sides, this returns the side. -1 means\n    the character before its position, 1 the character after, and 0\n    means no association.\n    */\n    get assoc() { return this.flags & 4 /* RangeFlag.AssocBefore */ ? -1 : this.flags & 8 /* RangeFlag.AssocAfter */ ? 1 : 0; }\n    /**\n    The bidirectional text level associated with this cursor, if\n    any.\n    */\n    get bidiLevel() {\n        let level = this.flags & 3 /* RangeFlag.BidiLevelMask */;\n        return level == 3 ? null : level;\n    }\n    /**\n    The goal column (stored vertical offset) associated with a\n    cursor. This is used to preserve the vertical position when\n    [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across\n    lines of different length.\n    */\n    get goalColumn() {\n        let value = this.flags >> 5 /* RangeFlag.GoalColumnOffset */;\n        return value == 33554431 /* RangeFlag.NoGoalColumn */ ? undefined : value;\n    }\n    /**\n    Map this range through a change, producing a valid range in the\n    updated document.\n    */\n    map(change, assoc = -1) {\n        let from, to;\n        if (this.empty) {\n            from = to = change.mapPos(this.from, assoc);\n        }\n        else {\n            from = change.mapPos(this.from, 1);\n            to = change.mapPos(this.to, -1);\n        }\n        return from == this.from && to == this.to ? this : new SelectionRange(from, to, this.flags);\n    }\n    /**\n    Extend this range to cover at least `from` to `to`.\n    */\n    extend(from, to = from) {\n        if (from <= this.anchor && to >= this.anchor)\n            return EditorSelection.range(from, to);\n        let head = Math.abs(from - this.anchor) > Math.abs(to - this.anchor) ? from : to;\n        return EditorSelection.range(this.anchor, head);\n    }\n    /**\n    Compare this range to another range.\n    */\n    eq(other) {\n        return this.anchor == other.anchor && this.head == other.head;\n    }\n    /**\n    Return a JSON-serializable object representing the range.\n    */\n    toJSON() { return { anchor: this.anchor, head: this.head }; }\n    /**\n    Convert a JSON representation of a range to a `SelectionRange`\n    instance.\n    */\n    static fromJSON(json) {\n        if (!json || typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid JSON representation for SelectionRange\");\n        return EditorSelection.range(json.anchor, json.head);\n    }\n    /**\n    @internal\n    */\n    static create(from, to, flags) {\n        return new SelectionRange(from, to, flags);\n    }\n}\n/**\nAn editor selection holds one or more selection ranges.\n*/\nclass EditorSelection {\n    constructor(\n    /**\n    The ranges in the selection, sorted by position. Ranges cannot\n    overlap (but they may touch, if they aren't empty).\n    */\n    ranges, \n    /**\n    The index of the _main_ range in the selection (which is\n    usually the range that was added last).\n    */\n    mainIndex) {\n        this.ranges = ranges;\n        this.mainIndex = mainIndex;\n    }\n    /**\n    Map a selection through a change. Used to adjust the selection\n    position for changes.\n    */\n    map(change, assoc = -1) {\n        if (change.empty)\n            return this;\n        return EditorSelection.create(this.ranges.map(r => r.map(change, assoc)), this.mainIndex);\n    }\n    /**\n    Compare this selection to another selection.\n    */\n    eq(other) {\n        if (this.ranges.length != other.ranges.length ||\n            this.mainIndex != other.mainIndex)\n            return false;\n        for (let i = 0; i < this.ranges.length; i++)\n            if (!this.ranges[i].eq(other.ranges[i]))\n                return false;\n        return true;\n    }\n    /**\n    Get the primary selection range. Usually, you should make sure\n    your code applies to _all_ ranges, by using methods like\n    [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).\n    */\n    get main() { return this.ranges[this.mainIndex]; }\n    /**\n    Make sure the selection only has one range. Returns a selection\n    holding only the main range from this selection.\n    */\n    asSingle() {\n        return this.ranges.length == 1 ? this : new EditorSelection([this.main], 0);\n    }\n    /**\n    Extend this selection with an extra range.\n    */\n    addRange(range, main = true) {\n        return EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);\n    }\n    /**\n    Replace a given range with another range, and then normalize the\n    selection to merge and sort ranges if necessary.\n    */\n    replaceRange(range, which = this.mainIndex) {\n        let ranges = this.ranges.slice();\n        ranges[which] = range;\n        return EditorSelection.create(ranges, this.mainIndex);\n    }\n    /**\n    Convert this selection to an object that can be serialized to\n    JSON.\n    */\n    toJSON() {\n        return { ranges: this.ranges.map(r => r.toJSON()), main: this.mainIndex };\n    }\n    /**\n    Create a selection from a JSON representation.\n    */\n    static fromJSON(json) {\n        if (!json || !Array.isArray(json.ranges) || typeof json.main != \"number\" || json.main >= json.ranges.length)\n            throw new RangeError(\"Invalid JSON representation for EditorSelection\");\n        return new EditorSelection(json.ranges.map((r) => SelectionRange.fromJSON(r)), json.main);\n    }\n    /**\n    Create a selection holding a single range.\n    */\n    static single(anchor, head = anchor) {\n        return new EditorSelection([EditorSelection.range(anchor, head)], 0);\n    }\n    /**\n    Sort and merge the given set of ranges, creating a valid\n    selection.\n    */\n    static create(ranges, mainIndex = 0) {\n        if (ranges.length == 0)\n            throw new RangeError(\"A selection needs at least one range\");\n        for (let pos = 0, i = 0; i < ranges.length; i++) {\n            let range = ranges[i];\n            if (range.empty ? range.from <= pos : range.from < pos)\n                return EditorSelection.normalized(ranges.slice(), mainIndex);\n            pos = range.to;\n        }\n        return new EditorSelection(ranges, mainIndex);\n    }\n    /**\n    Create a cursor selection range at the given position. You can\n    safely ignore the optional arguments in most situations.\n    */\n    static cursor(pos, assoc = 0, bidiLevel, goalColumn) {\n        return SelectionRange.create(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 4 /* RangeFlag.AssocBefore */ : 8 /* RangeFlag.AssocAfter */) |\n            (bidiLevel == null ? 3 : Math.min(2, bidiLevel)) |\n            ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* RangeFlag.NoGoalColumn */) << 5 /* RangeFlag.GoalColumnOffset */));\n    }\n    /**\n    Create a selection range.\n    */\n    static range(anchor, head, goalColumn, bidiLevel) {\n        let flags = ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* RangeFlag.NoGoalColumn */) << 5 /* RangeFlag.GoalColumnOffset */) |\n            (bidiLevel == null ? 3 : Math.min(2, bidiLevel));\n        return head < anchor ? SelectionRange.create(head, anchor, 16 /* RangeFlag.Inverted */ | 8 /* RangeFlag.AssocAfter */ | flags)\n            : SelectionRange.create(anchor, head, (head > anchor ? 4 /* RangeFlag.AssocBefore */ : 0) | flags);\n    }\n    /**\n    @internal\n    */\n    static normalized(ranges, mainIndex = 0) {\n        let main = ranges[mainIndex];\n        ranges.sort((a, b) => a.from - b.from);\n        mainIndex = ranges.indexOf(main);\n        for (let i = 1; i < ranges.length; i++) {\n            let range = ranges[i], prev = ranges[i - 1];\n            if (range.empty ? range.from <= prev.to : range.from < prev.to) {\n                let from = prev.from, to = Math.max(range.to, prev.to);\n                if (i <= mainIndex)\n                    mainIndex--;\n                ranges.splice(--i, 2, range.anchor > range.head ? EditorSelection.range(to, from) : EditorSelection.range(from, to));\n            }\n        }\n        return new EditorSelection(ranges, mainIndex);\n    }\n}\nfunction checkSelection(selection, docLength) {\n    for (let range of selection.ranges)\n        if (range.to > docLength)\n            throw new RangeError(\"Selection points outside of document\");\n}\n\nlet nextID = 0;\n/**\nA facet is a labeled value that is associated with an editor\nstate. It takes inputs from any number of extensions, and combines\nthose into a single output value.\n\nExamples of uses of facets are the [tab\nsize](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize), [editor\nattributes](https://codemirror.net/6/docs/ref/#view.EditorView^editorAttributes), and [update\nlisteners](https://codemirror.net/6/docs/ref/#view.EditorView^updateListener).\n*/\nclass Facet {\n    constructor(\n    /**\n    @internal\n    */\n    combine, \n    /**\n    @internal\n    */\n    compareInput, \n    /**\n    @internal\n    */\n    compare, isStatic, enables) {\n        this.combine = combine;\n        this.compareInput = compareInput;\n        this.compare = compare;\n        this.isStatic = isStatic;\n        /**\n        @internal\n        */\n        this.id = nextID++;\n        this.default = combine([]);\n        this.extensions = typeof enables == \"function\" ? enables(this) : enables;\n    }\n    /**\n    Define a new facet.\n    */\n    static define(config = {}) {\n        return new Facet(config.combine || ((a) => a), config.compareInput || ((a, b) => a === b), config.compare || (!config.combine ? sameArray : (a, b) => a === b), !!config.static, config.enables);\n    }\n    /**\n    Returns an extension that adds the given value to this facet.\n    */\n    of(value) {\n        return new FacetProvider([], this, 0 /* Provider.Static */, value);\n    }\n    /**\n    Create an extension that computes a value for the facet from a\n    state. You must take care to declare the parts of the state that\n    this value depends on, since your function is only called again\n    for a new state when one of those parts changed.\n    \n    In cases where your value depends only on a single field, you'll\n    want to use the [`from`](https://codemirror.net/6/docs/ref/#state.Facet.from) method instead.\n    */\n    compute(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 1 /* Provider.Single */, get);\n    }\n    /**\n    Create an extension that computes zero or more values for this\n    facet from a state.\n    */\n    computeN(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 2 /* Provider.Multi */, get);\n    }\n    from(field, get) {\n        if (!get)\n            get = x => x;\n        return this.compute([field], state => get(state.field(field)));\n    }\n}\nfunction sameArray(a, b) {\n    return a == b || a.length == b.length && a.every((e, i) => e === b[i]);\n}\nclass FacetProvider {\n    constructor(dependencies, facet, type, value) {\n        this.dependencies = dependencies;\n        this.facet = facet;\n        this.type = type;\n        this.value = value;\n        this.id = nextID++;\n    }\n    dynamicSlot(addresses) {\n        var _a;\n        let getter = this.value;\n        let compare = this.facet.compareInput;\n        let id = this.id, idx = addresses[id] >> 1, multi = this.type == 2 /* Provider.Multi */;\n        let depDoc = false, depSel = false, depAddrs = [];\n        for (let dep of this.dependencies) {\n            if (dep == \"doc\")\n                depDoc = true;\n            else if (dep == \"selection\")\n                depSel = true;\n            else if ((((_a = addresses[dep.id]) !== null && _a !== void 0 ? _a : 1) & 1) == 0)\n                depAddrs.push(addresses[dep.id]);\n        }\n        return {\n            create(state) {\n                state.values[idx] = getter(state);\n                return 1 /* SlotStatus.Changed */;\n            },\n            update(state, tr) {\n                if ((depDoc && tr.docChanged) || (depSel && (tr.docChanged || tr.selection)) || ensureAll(state, depAddrs)) {\n                    let newVal = getter(state);\n                    if (multi ? !compareArray(newVal, state.values[idx], compare) : !compare(newVal, state.values[idx])) {\n                        state.values[idx] = newVal;\n                        return 1 /* SlotStatus.Changed */;\n                    }\n                }\n                return 0;\n            },\n            reconfigure: (state, oldState) => {\n                let newVal, oldAddr = oldState.config.address[id];\n                if (oldAddr != null) {\n                    let oldVal = getAddr(oldState, oldAddr);\n                    if (this.dependencies.every(dep => {\n                        return dep instanceof Facet ? oldState.facet(dep) === state.facet(dep) :\n                            dep instanceof StateField ? oldState.field(dep, false) == state.field(dep, false) : true;\n                    }) || (multi ? compareArray(newVal = getter(state), oldVal, compare) : compare(newVal = getter(state), oldVal))) {\n                        state.values[idx] = oldVal;\n                        return 0;\n                    }\n                }\n                else {\n                    newVal = getter(state);\n                }\n                state.values[idx] = newVal;\n                return 1 /* SlotStatus.Changed */;\n            }\n        };\n    }\n}\nfunction compareArray(a, b, compare) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!compare(a[i], b[i]))\n            return false;\n    return true;\n}\nfunction ensureAll(state, addrs) {\n    let changed = false;\n    for (let addr of addrs)\n        if (ensureAddr(state, addr) & 1 /* SlotStatus.Changed */)\n            changed = true;\n    return changed;\n}\nfunction dynamicFacetSlot(addresses, facet, providers) {\n    let providerAddrs = providers.map(p => addresses[p.id]);\n    let providerTypes = providers.map(p => p.type);\n    let dynamic = providerAddrs.filter(p => !(p & 1));\n    let idx = addresses[facet.id] >> 1;\n    function get(state) {\n        let values = [];\n        for (let i = 0; i < providerAddrs.length; i++) {\n            let value = getAddr(state, providerAddrs[i]);\n            if (providerTypes[i] == 2 /* Provider.Multi */)\n                for (let val of value)\n                    values.push(val);\n            else\n                values.push(value);\n        }\n        return facet.combine(values);\n    }\n    return {\n        create(state) {\n            for (let addr of providerAddrs)\n                ensureAddr(state, addr);\n            state.values[idx] = get(state);\n            return 1 /* SlotStatus.Changed */;\n        },\n        update(state, tr) {\n            if (!ensureAll(state, dynamic))\n                return 0;\n            let value = get(state);\n            if (facet.compare(value, state.values[idx]))\n                return 0;\n            state.values[idx] = value;\n            return 1 /* SlotStatus.Changed */;\n        },\n        reconfigure(state, oldState) {\n            let depChanged = ensureAll(state, providerAddrs);\n            let oldProviders = oldState.config.facets[facet.id], oldValue = oldState.facet(facet);\n            if (oldProviders && !depChanged && sameArray(providers, oldProviders)) {\n                state.values[idx] = oldValue;\n                return 0;\n            }\n            let value = get(state);\n            if (facet.compare(value, oldValue)) {\n                state.values[idx] = oldValue;\n                return 0;\n            }\n            state.values[idx] = value;\n            return 1 /* SlotStatus.Changed */;\n        }\n    };\n}\nconst initField = /*@__PURE__*/Facet.define({ static: true });\n/**\nFields can store additional information in an editor state, and\nkeep it in sync with the rest of the state.\n*/\nclass StateField {\n    constructor(\n    /**\n    @internal\n    */\n    id, createF, updateF, compareF, \n    /**\n    @internal\n    */\n    spec) {\n        this.id = id;\n        this.createF = createF;\n        this.updateF = updateF;\n        this.compareF = compareF;\n        this.spec = spec;\n        /**\n        @internal\n        */\n        this.provides = undefined;\n    }\n    /**\n    Define a state field.\n    */\n    static define(config) {\n        let field = new StateField(nextID++, config.create, config.update, config.compare || ((a, b) => a === b), config);\n        if (config.provide)\n            field.provides = config.provide(field);\n        return field;\n    }\n    create(state) {\n        let init = state.facet(initField).find(i => i.field == this);\n        return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);\n    }\n    /**\n    @internal\n    */\n    slot(addresses) {\n        let idx = addresses[this.id] >> 1;\n        return {\n            create: (state) => {\n                state.values[idx] = this.create(state);\n                return 1 /* SlotStatus.Changed */;\n            },\n            update: (state, tr) => {\n                let oldVal = state.values[idx];\n                let value = this.updateF(oldVal, tr);\n                if (this.compareF(oldVal, value))\n                    return 0;\n                state.values[idx] = value;\n                return 1 /* SlotStatus.Changed */;\n            },\n            reconfigure: (state, oldState) => {\n                if (oldState.config.address[this.id] != null) {\n                    state.values[idx] = oldState.field(this);\n                    return 0;\n                }\n                state.values[idx] = this.create(state);\n                return 1 /* SlotStatus.Changed */;\n            }\n        };\n    }\n    /**\n    Returns an extension that enables this field and overrides the\n    way it is initialized. Can be useful when you need to provide a\n    non-default starting value for the field.\n    */\n    init(create) {\n        return [this, initField.of({ field: this, create })];\n    }\n    /**\n    State field instances can be used as\n    [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a\n    given state.\n    */\n    get extension() { return this; }\n}\nconst Prec_ = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };\nfunction prec(value) {\n    return (ext) => new PrecExtension(ext, value);\n}\n/**\nBy default extensions are registered in the order they are found\nin the flattened form of nested array that was provided.\nIndividual extension values can be assigned a precedence to\noverride this. Extensions that do not have a precedence set get\nthe precedence of the nearest parent with a precedence, or\n[`default`](https://codemirror.net/6/docs/ref/#state.Prec.default) if there is no such parent. The\nfinal ordering of extensions is determined by first sorting by\nprecedence and then by order within each precedence.\n*/\nconst Prec = {\n    /**\n    The highest precedence level, for extensions that should end up\n    near the start of the precedence ordering.\n    */\n    highest: /*@__PURE__*/prec(Prec_.highest),\n    /**\n    A higher-than-default precedence, for extensions that should\n    come before those with default precedence.\n    */\n    high: /*@__PURE__*/prec(Prec_.high),\n    /**\n    The default precedence, which is also used for extensions\n    without an explicit precedence.\n    */\n    default: /*@__PURE__*/prec(Prec_.default),\n    /**\n    A lower-than-default precedence.\n    */\n    low: /*@__PURE__*/prec(Prec_.low),\n    /**\n    The lowest precedence level. Meant for things that should end up\n    near the end of the extension order.\n    */\n    lowest: /*@__PURE__*/prec(Prec_.lowest)\n};\nclass PrecExtension {\n    constructor(inner, prec) {\n        this.inner = inner;\n        this.prec = prec;\n    }\n}\n/**\nExtension compartments can be used to make a configuration\ndynamic. By [wrapping](https://codemirror.net/6/docs/ref/#state.Compartment.of) part of your\nconfiguration in a compartment, you can later\n[replace](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure) that part through a\ntransaction.\n*/\nclass Compartment {\n    /**\n    Create an instance of this compartment to add to your [state\n    configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).\n    */\n    of(ext) { return new CompartmentInstance(this, ext); }\n    /**\n    Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that\n    reconfigures this compartment.\n    */\n    reconfigure(content) {\n        return Compartment.reconfigure.of({ compartment: this, extension: content });\n    }\n    /**\n    Get the current content of the compartment in the state, or\n    `undefined` if it isn't present.\n    */\n    get(state) {\n        return state.config.compartments.get(this);\n    }\n}\nclass CompartmentInstance {\n    constructor(compartment, inner) {\n        this.compartment = compartment;\n        this.inner = inner;\n    }\n}\nclass Configuration {\n    constructor(base, compartments, dynamicSlots, address, staticValues, facets) {\n        this.base = base;\n        this.compartments = compartments;\n        this.dynamicSlots = dynamicSlots;\n        this.address = address;\n        this.staticValues = staticValues;\n        this.facets = facets;\n        this.statusTemplate = [];\n        while (this.statusTemplate.length < dynamicSlots.length)\n            this.statusTemplate.push(0 /* SlotStatus.Unresolved */);\n    }\n    staticFacet(facet) {\n        let addr = this.address[facet.id];\n        return addr == null ? facet.default : this.staticValues[addr >> 1];\n    }\n    static resolve(base, compartments, oldState) {\n        let fields = [];\n        let facets = Object.create(null);\n        let newCompartments = new Map();\n        for (let ext of flatten(base, compartments, newCompartments)) {\n            if (ext instanceof StateField)\n                fields.push(ext);\n            else\n                (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);\n        }\n        let address = Object.create(null);\n        let staticValues = [];\n        let dynamicSlots = [];\n        for (let field of fields) {\n            address[field.id] = dynamicSlots.length << 1;\n            dynamicSlots.push(a => field.slot(a));\n        }\n        let oldFacets = oldState === null || oldState === void 0 ? void 0 : oldState.config.facets;\n        for (let id in facets) {\n            let providers = facets[id], facet = providers[0].facet;\n            let oldProviders = oldFacets && oldFacets[id] || [];\n            if (providers.every(p => p.type == 0 /* Provider.Static */)) {\n                address[facet.id] = (staticValues.length << 1) | 1;\n                if (sameArray(oldProviders, providers)) {\n                    staticValues.push(oldState.facet(facet));\n                }\n                else {\n                    let value = facet.combine(providers.map(p => p.value));\n                    staticValues.push(oldState && facet.compare(value, oldState.facet(facet)) ? oldState.facet(facet) : value);\n                }\n            }\n            else {\n                for (let p of providers) {\n                    if (p.type == 0 /* Provider.Static */) {\n                        address[p.id] = (staticValues.length << 1) | 1;\n                        staticValues.push(p.value);\n                    }\n                    else {\n                        address[p.id] = dynamicSlots.length << 1;\n                        dynamicSlots.push(a => p.dynamicSlot(a));\n                    }\n                }\n                address[facet.id] = dynamicSlots.length << 1;\n                dynamicSlots.push(a => dynamicFacetSlot(a, facet, providers));\n            }\n        }\n        let dynamic = dynamicSlots.map(f => f(address));\n        return new Configuration(base, newCompartments, dynamic, address, staticValues, facets);\n    }\n}\nfunction flatten(extension, compartments, newCompartments) {\n    let result = [[], [], [], [], []];\n    let seen = new Map();\n    function inner(ext, prec) {\n        let known = seen.get(ext);\n        if (known != null) {\n            if (known <= prec)\n                return;\n            let found = result[known].indexOf(ext);\n            if (found > -1)\n                result[known].splice(found, 1);\n            if (ext instanceof CompartmentInstance)\n                newCompartments.delete(ext.compartment);\n        }\n        seen.set(ext, prec);\n        if (Array.isArray(ext)) {\n            for (let e of ext)\n                inner(e, prec);\n        }\n        else if (ext instanceof CompartmentInstance) {\n            if (newCompartments.has(ext.compartment))\n                throw new RangeError(`Duplicate use of compartment in extensions`);\n            let content = compartments.get(ext.compartment) || ext.inner;\n            newCompartments.set(ext.compartment, content);\n            inner(content, prec);\n        }\n        else if (ext instanceof PrecExtension) {\n            inner(ext.inner, ext.prec);\n        }\n        else if (ext instanceof StateField) {\n            result[prec].push(ext);\n            if (ext.provides)\n                inner(ext.provides, prec);\n        }\n        else if (ext instanceof FacetProvider) {\n            result[prec].push(ext);\n            if (ext.facet.extensions)\n                inner(ext.facet.extensions, Prec_.default);\n        }\n        else {\n            let content = ext.extension;\n            if (!content)\n                throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);\n            inner(content, prec);\n        }\n    }\n    inner(extension, Prec_.default);\n    return result.reduce((a, b) => a.concat(b));\n}\nfunction ensureAddr(state, addr) {\n    if (addr & 1)\n        return 2 /* SlotStatus.Computed */;\n    let idx = addr >> 1;\n    let status = state.status[idx];\n    if (status == 4 /* SlotStatus.Computing */)\n        throw new Error(\"Cyclic dependency between fields and/or facets\");\n    if (status & 2 /* SlotStatus.Computed */)\n        return status;\n    state.status[idx] = 4 /* SlotStatus.Computing */;\n    let changed = state.computeSlot(state, state.config.dynamicSlots[idx]);\n    return state.status[idx] = 2 /* SlotStatus.Computed */ | changed;\n}\nfunction getAddr(state, addr) {\n    return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];\n}\n\nconst languageData = /*@__PURE__*/Facet.define();\nconst allowMultipleSelections = /*@__PURE__*/Facet.define({\n    combine: values => values.some(v => v),\n    static: true\n});\nconst lineSeparator = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : undefined,\n    static: true\n});\nconst changeFilter = /*@__PURE__*/Facet.define();\nconst transactionFilter = /*@__PURE__*/Facet.define();\nconst transactionExtender = /*@__PURE__*/Facet.define();\nconst readOnly = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : false\n});\n\n/**\nAnnotations are tagged values that are used to add metadata to\ntransactions in an extensible way. They should be used to model\nthings that effect the entire transaction (such as its [time\nstamp](https://codemirror.net/6/docs/ref/#state.Transaction^time) or information about its\n[origin](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent)). For effects that happen\n_alongside_ the other changes made by the transaction, [state\neffects](https://codemirror.net/6/docs/ref/#state.StateEffect) are more appropriate.\n*/\nclass Annotation {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The annotation type.\n    */\n    type, \n    /**\n    The value of this annotation.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Define a new type of annotation.\n    */\n    static define() { return new AnnotationType(); }\n}\n/**\nMarker that identifies a type of [annotation](https://codemirror.net/6/docs/ref/#state.Annotation).\n*/\nclass AnnotationType {\n    /**\n    Create an instance of this annotation.\n    */\n    of(value) { return new Annotation(this, value); }\n}\n/**\nRepresentation of a type of state effect. Defined with\n[`StateEffect.define`](https://codemirror.net/6/docs/ref/#state.StateEffect^define).\n*/\nclass StateEffectType {\n    /**\n    @internal\n    */\n    constructor(\n    // The `any` types in these function types are there to work\n    // around TypeScript issue #37631, where the type guard on\n    // `StateEffect.is` mysteriously stops working when these properly\n    // have type `Value`.\n    /**\n    @internal\n    */\n    map) {\n        this.map = map;\n    }\n    /**\n    Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this\n    type.\n    */\n    of(value) { return new StateEffect(this, value); }\n}\n/**\nState effects can be used to represent additional effects\nassociated with a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction.effects). They\nare often useful to model changes to custom [state\nfields](https://codemirror.net/6/docs/ref/#state.StateField), when those changes aren't implicit in\ndocument or selection changes.\n*/\nclass StateEffect {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    type, \n    /**\n    The value of this effect.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Map this effect through a position mapping. Will return\n    `undefined` when that ends up deleting the effect.\n    */\n    map(mapping) {\n        let mapped = this.type.map(this.value, mapping);\n        return mapped === undefined ? undefined : mapped == this.value ? this : new StateEffect(this.type, mapped);\n    }\n    /**\n    Tells you whether this effect object is of a given\n    [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).\n    */\n    is(type) { return this.type == type; }\n    /**\n    Define a new effect type. The type parameter indicates the type\n    of values that his effect holds.\n    */\n    static define(spec = {}) {\n        return new StateEffectType(spec.map || (v => v));\n    }\n    /**\n    Map an array of effects through a change set.\n    */\n    static mapEffects(effects, mapping) {\n        if (!effects.length)\n            return effects;\n        let result = [];\n        for (let effect of effects) {\n            let mapped = effect.map(mapping);\n            if (mapped)\n                result.push(mapped);\n        }\n        return result;\n    }\n}\n/**\nThis effect can be used to reconfigure the root extensions of\nthe editor. Doing this will discard any extensions\n[appended](https://codemirror.net/6/docs/ref/#state.StateEffect^appendConfig), but does not reset\nthe content of [reconfigured](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure)\ncompartments.\n*/\nStateEffect.reconfigure = /*@__PURE__*/StateEffect.define();\n/**\nAppend extensions to the top-level configuration of the editor.\n*/\nStateEffect.appendConfig = /*@__PURE__*/StateEffect.define();\n/**\nChanges to the editor state are grouped into transactions.\nTypically, a user action creates a single transaction, which may\ncontain any number of document changes, may change the selection,\nor have other effects. Create a transaction by calling\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update), or immediately\ndispatch one by calling\n[`EditorView.dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch).\n*/\nclass Transaction {\n    constructor(\n    /**\n    The state from which the transaction starts.\n    */\n    startState, \n    /**\n    The document changes made by this transaction.\n    */\n    changes, \n    /**\n    The selection set by this transaction, or undefined if it\n    doesn't explicitly set a selection.\n    */\n    selection, \n    /**\n    The effects added to the transaction.\n    */\n    effects, \n    /**\n    @internal\n    */\n    annotations, \n    /**\n    Whether the selection should be scrolled into view after this\n    transaction is dispatched.\n    */\n    scrollIntoView) {\n        this.startState = startState;\n        this.changes = changes;\n        this.selection = selection;\n        this.effects = effects;\n        this.annotations = annotations;\n        this.scrollIntoView = scrollIntoView;\n        /**\n        @internal\n        */\n        this._doc = null;\n        /**\n        @internal\n        */\n        this._state = null;\n        if (selection)\n            checkSelection(selection, changes.newLength);\n        if (!annotations.some((a) => a.type == Transaction.time))\n            this.annotations = annotations.concat(Transaction.time.of(Date.now()));\n    }\n    /**\n    @internal\n    */\n    static create(startState, changes, selection, effects, annotations, scrollIntoView) {\n        return new Transaction(startState, changes, selection, effects, annotations, scrollIntoView);\n    }\n    /**\n    The new document produced by the transaction. Contrary to\n    [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't\n    force the entire new state to be computed right away, so it is\n    recommended that [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter\n    when they need to look at the new document.\n    */\n    get newDoc() {\n        return this._doc || (this._doc = this.changes.apply(this.startState.doc));\n    }\n    /**\n    The new selection produced by the transaction. If\n    [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,\n    this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's\n    current selection through the changes made by the transaction.\n    */\n    get newSelection() {\n        return this.selection || this.startState.selection.map(this.changes);\n    }\n    /**\n    The new state created by the transaction. Computed on demand\n    (but retained for subsequent access), so it is recommended not to\n    access it in [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.\n    */\n    get state() {\n        if (!this._state)\n            this.startState.applyTransaction(this);\n        return this._state;\n    }\n    /**\n    Get the value of the given annotation type, if any.\n    */\n    annotation(type) {\n        for (let ann of this.annotations)\n            if (ann.type == type)\n                return ann.value;\n        return undefined;\n    }\n    /**\n    Indicates whether the transaction changed the document.\n    */\n    get docChanged() { return !this.changes.empty; }\n    /**\n    Indicates whether this transaction reconfigures the state\n    (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or\n    with a top-level configuration\n    [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).\n    */\n    get reconfigured() { return this.startState.config != this.state.config; }\n    /**\n    Returns true if the transaction has a [user\n    event](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent) annotation that is equal to\n    or more specific than `event`. For example, if the transaction\n    has `\"select.pointer\"` as user event, `\"select\"` and\n    `\"select.pointer\"` will match it.\n    */\n    isUserEvent(event) {\n        let e = this.annotation(Transaction.userEvent);\n        return !!(e && (e == event || e.length > event.length && e.slice(0, event.length) == event && e[event.length] == \".\"));\n    }\n}\n/**\nAnnotation used to store transaction timestamps. Automatically\nadded to every transaction, holding `Date.now()`.\n*/\nTransaction.time = /*@__PURE__*/Annotation.define();\n/**\nAnnotation used to associate a transaction with a user interface\nevent. Holds a string identifying the event, using a\ndot-separated format to support attaching more specific\ninformation. The events used by the core libraries are:\n\n - `\"input\"` when content is entered\n   - `\"input.type\"` for typed input\n     - `\"input.type.compose\"` for composition\n   - `\"input.paste\"` for pasted input\n   - `\"input.drop\"` when adding content with drag-and-drop\n   - `\"input.complete\"` when autocompleting\n - `\"delete\"` when the user deletes content\n   - `\"delete.selection\"` when deleting the selection\n   - `\"delete.forward\"` when deleting forward from the selection\n   - `\"delete.backward\"` when deleting backward from the selection\n   - `\"delete.cut\"` when cutting to the clipboard\n - `\"move\"` when content is moved\n   - `\"move.drop\"` when content is moved within the editor through drag-and-drop\n - `\"select\"` when explicitly changing the selection\n   - `\"select.pointer\"` when selecting with a mouse or other pointing device\n - `\"undo\"` and `\"redo\"` for history actions\n\nUse [`isUserEvent`](https://codemirror.net/6/docs/ref/#state.Transaction.isUserEvent) to check\nwhether the annotation matches a given event.\n*/\nTransaction.userEvent = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating whether a transaction should be added to\nthe undo history or not.\n*/\nTransaction.addToHistory = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating (when present and true) that a transaction\nrepresents a change made by some other actor, not the user. This\nis used, for example, to tag other people's changes in\ncollaborative editing.\n*/\nTransaction.remote = /*@__PURE__*/Annotation.define();\nfunction joinRanges(a, b) {\n    let result = [];\n    for (let iA = 0, iB = 0;;) {\n        let from, to;\n        if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {\n            from = a[iA++];\n            to = a[iA++];\n        }\n        else if (iB < b.length) {\n            from = b[iB++];\n            to = b[iB++];\n        }\n        else\n            return result;\n        if (!result.length || result[result.length - 1] < from)\n            result.push(from, to);\n        else if (result[result.length - 1] < to)\n            result[result.length - 1] = to;\n    }\n}\nfunction mergeTransaction(a, b, sequential) {\n    var _a;\n    let mapForA, mapForB, changes;\n    if (sequential) {\n        mapForA = b.changes;\n        mapForB = ChangeSet.empty(b.changes.length);\n        changes = a.changes.compose(b.changes);\n    }\n    else {\n        mapForA = b.changes.map(a.changes);\n        mapForB = a.changes.mapDesc(b.changes, true);\n        changes = a.changes.compose(mapForA);\n    }\n    return {\n        changes,\n        selection: b.selection ? b.selection.map(mapForB) : (_a = a.selection) === null || _a === void 0 ? void 0 : _a.map(mapForA),\n        effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),\n        annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,\n        scrollIntoView: a.scrollIntoView || b.scrollIntoView\n    };\n}\nfunction resolveTransactionInner(state, spec, docSize) {\n    let sel = spec.selection, annotations = asArray(spec.annotations);\n    if (spec.userEvent)\n        annotations = annotations.concat(Transaction.userEvent.of(spec.userEvent));\n    return {\n        changes: spec.changes instanceof ChangeSet ? spec.changes\n            : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),\n        selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),\n        effects: asArray(spec.effects),\n        annotations,\n        scrollIntoView: !!spec.scrollIntoView\n    };\n}\nfunction resolveTransaction(state, specs, filter) {\n    let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);\n    if (specs.length && specs[0].filter === false)\n        filter = false;\n    for (let i = 1; i < specs.length; i++) {\n        if (specs[i].filter === false)\n            filter = false;\n        let seq = !!specs[i].sequential;\n        s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);\n    }\n    let tr = Transaction.create(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);\n    return extendTransaction(filter ? filterTransaction(tr) : tr);\n}\n// Finish a transaction by applying filters if necessary.\nfunction filterTransaction(tr) {\n    let state = tr.startState;\n    // Change filters\n    let result = true;\n    for (let filter of state.facet(changeFilter)) {\n        let value = filter(tr);\n        if (value === false) {\n            result = false;\n            break;\n        }\n        if (Array.isArray(value))\n            result = result === true ? value : joinRanges(result, value);\n    }\n    if (result !== true) {\n        let changes, back;\n        if (result === false) {\n            back = tr.changes.invertedDesc;\n            changes = ChangeSet.empty(state.doc.length);\n        }\n        else {\n            let filtered = tr.changes.filter(result);\n            changes = filtered.changes;\n            back = filtered.filtered.mapDesc(filtered.changes).invertedDesc;\n        }\n        tr = Transaction.create(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);\n    }\n    // Transaction filters\n    let filters = state.facet(transactionFilter);\n    for (let i = filters.length - 1; i >= 0; i--) {\n        let filtered = filters[i](tr);\n        if (filtered instanceof Transaction)\n            tr = filtered;\n        else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)\n            tr = filtered[0];\n        else\n            tr = resolveTransaction(state, asArray(filtered), false);\n    }\n    return tr;\n}\nfunction extendTransaction(tr) {\n    let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;\n    for (let i = extenders.length - 1; i >= 0; i--) {\n        let extension = extenders[i](tr);\n        if (extension && Object.keys(extension).length)\n            spec = mergeTransaction(spec, resolveTransactionInner(state, extension, tr.changes.newLength), true);\n    }\n    return spec == tr ? tr : Transaction.create(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);\n}\nconst none = [];\nfunction asArray(value) {\n    return value == null ? none : Array.isArray(value) ? value : [value];\n}\n\n/**\nThe categories produced by a [character\ncategorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer). These are used\ndo things like selecting by word.\n*/\nvar CharCategory = /*@__PURE__*/(function (CharCategory) {\n    /**\n    Word characters.\n    */\n    CharCategory[CharCategory[\"Word\"] = 0] = \"Word\";\n    /**\n    Whitespace.\n    */\n    CharCategory[CharCategory[\"Space\"] = 1] = \"Space\";\n    /**\n    Anything else.\n    */\n    CharCategory[CharCategory[\"Other\"] = 2] = \"Other\";\nreturn CharCategory})(CharCategory || (CharCategory = {}));\nconst nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nlet wordChar;\ntry {\n    wordChar = /*@__PURE__*/new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n}\ncatch (_) { }\nfunction hasWordChar(str) {\n    if (wordChar)\n        return wordChar.test(str);\n    for (let i = 0; i < str.length; i++) {\n        let ch = str[i];\n        if (/\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))\n            return true;\n    }\n    return false;\n}\nfunction makeCategorizer(wordChars) {\n    return (char) => {\n        if (!/\\S/.test(char))\n            return CharCategory.Space;\n        if (hasWordChar(char))\n            return CharCategory.Word;\n        for (let i = 0; i < wordChars.length; i++)\n            if (char.indexOf(wordChars[i]) > -1)\n                return CharCategory.Word;\n        return CharCategory.Other;\n    };\n}\n\n/**\nThe editor state class is a persistent (immutable) data structure.\nTo update a state, you [create](https://codemirror.net/6/docs/ref/#state.EditorState.update) a\n[transaction](https://codemirror.net/6/docs/ref/#state.Transaction), which produces a _new_ state\ninstance, without modifying the original object.\n\nAs such, _never_ mutate properties of a state directly. That'll\njust break things.\n*/\nclass EditorState {\n    constructor(\n    /**\n    @internal\n    */\n    config, \n    /**\n    The current document.\n    */\n    doc, \n    /**\n    The current selection.\n    */\n    selection, \n    /**\n    @internal\n    */\n    values, computeSlot, tr) {\n        this.config = config;\n        this.doc = doc;\n        this.selection = selection;\n        this.values = values;\n        this.status = config.statusTemplate.slice();\n        this.computeSlot = computeSlot;\n        // Fill in the computed state immediately, so that further queries\n        // for it made during the update return this state\n        if (tr)\n            tr._state = this;\n        for (let i = 0; i < this.config.dynamicSlots.length; i++)\n            ensureAddr(this, i << 1);\n        this.computeSlot = null;\n    }\n    field(field, require = true) {\n        let addr = this.config.address[field.id];\n        if (addr == null) {\n            if (require)\n                throw new RangeError(\"Field is not present in this state\");\n            return undefined;\n        }\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this\n    state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)\n    can be passed. Unless\n    [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the\n    [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec\n    are assumed to start in the _current_ document (not the document\n    produced by previous specs), and its\n    [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and\n    [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer\n    to the document created by its _own_ changes. The resulting\n    transaction contains the combined effect of all the different\n    specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later\n    specs take precedence over earlier ones.\n    */\n    update(...specs) {\n        return resolveTransaction(this, specs, true);\n    }\n    /**\n    @internal\n    */\n    applyTransaction(tr) {\n        let conf = this.config, { base, compartments } = conf;\n        for (let effect of tr.effects) {\n            if (effect.is(Compartment.reconfigure)) {\n                if (conf) {\n                    compartments = new Map;\n                    conf.compartments.forEach((val, key) => compartments.set(key, val));\n                    conf = null;\n                }\n                compartments.set(effect.value.compartment, effect.value.extension);\n            }\n            else if (effect.is(StateEffect.reconfigure)) {\n                conf = null;\n                base = effect.value;\n            }\n            else if (effect.is(StateEffect.appendConfig)) {\n                conf = null;\n                base = asArray(base).concat(effect.value);\n            }\n        }\n        let startValues;\n        if (!conf) {\n            conf = Configuration.resolve(base, compartments, this);\n            let intermediateState = new EditorState(conf, this.doc, this.selection, conf.dynamicSlots.map(() => null), (state, slot) => slot.reconfigure(state, this), null);\n            startValues = intermediateState.values;\n        }\n        else {\n            startValues = tr.startState.values.slice();\n        }\n        new EditorState(conf, tr.newDoc, tr.newSelection, startValues, (state, slot) => slot.update(state, tr), tr);\n    }\n    /**\n    Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that\n    replaces every selection range with the given content.\n    */\n    replaceSelection(text) {\n        if (typeof text == \"string\")\n            text = this.toText(text);\n        return this.changeByRange(range => ({ changes: { from: range.from, to: range.to, insert: text },\n            range: EditorSelection.cursor(range.from + text.length) }));\n    }\n    /**\n    Create a set of changes and a new selection by running the given\n    function for each range in the active selection. The function\n    can return an optional set of changes (in the coordinate space\n    of the start document), plus an updated range (in the coordinate\n    space of the document produced by the call's own changes). This\n    method will merge all the changes and ranges into a single\n    changeset and selection, and return it as a [transaction\n    spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to\n    [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n    */\n    changeByRange(f) {\n        let sel = this.selection;\n        let result1 = f(sel.ranges[0]);\n        let changes = this.changes(result1.changes), ranges = [result1.range];\n        let effects = asArray(result1.effects);\n        for (let i = 1; i < sel.ranges.length; i++) {\n            let result = f(sel.ranges[i]);\n            let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);\n            for (let j = 0; j < i; j++)\n                ranges[j] = ranges[j].map(newMapped);\n            let mapBy = changes.mapDesc(newChanges, true);\n            ranges.push(result.range.map(mapBy));\n            changes = changes.compose(newMapped);\n            effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray(result.effects), mapBy));\n        }\n        return {\n            changes,\n            selection: EditorSelection.create(ranges, sel.mainIndex),\n            effects\n        };\n    }\n    /**\n    Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change\n    description, taking the state's document length and line\n    separator into account.\n    */\n    changes(spec = []) {\n        if (spec instanceof ChangeSet)\n            return spec;\n        return ChangeSet.of(spec, this.doc.length, this.facet(EditorState.lineSeparator));\n    }\n    /**\n    Using the state's [line\n    separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a\n    [`Text`](https://codemirror.net/6/docs/ref/#state.Text) instance from the given string.\n    */\n    toText(string) {\n        return Text.of(string.split(this.facet(EditorState.lineSeparator) || DefaultSplit));\n    }\n    /**\n    Return the given range of the document as a string.\n    */\n    sliceDoc(from = 0, to = this.doc.length) {\n        return this.doc.sliceString(from, to, this.lineBreak);\n    }\n    /**\n    Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).\n    */\n    facet(facet) {\n        let addr = this.config.address[facet.id];\n        if (addr == null)\n            return facet.default;\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Convert this state to a JSON-serializable object. When custom\n    fields should be serialized, you can pass them in as an object\n    mapping property names (in the resulting object, which should\n    not use `doc` or `selection`) to fields.\n    */\n    toJSON(fields) {\n        let result = {\n            doc: this.sliceDoc(),\n            selection: this.selection.toJSON()\n        };\n        if (fields)\n            for (let prop in fields) {\n                let value = fields[prop];\n                if (value instanceof StateField && this.config.address[value.id] != null)\n                    result[prop] = value.spec.toJSON(this.field(fields[prop]), this);\n            }\n        return result;\n    }\n    /**\n    Deserialize a state from its JSON representation. When custom\n    fields should be deserialized, pass the same object you passed\n    to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as\n    third argument.\n    */\n    static fromJSON(json, config = {}, fields) {\n        if (!json || typeof json.doc != \"string\")\n            throw new RangeError(\"Invalid JSON representation for EditorState\");\n        let fieldInit = [];\n        if (fields)\n            for (let prop in fields) {\n                if (Object.prototype.hasOwnProperty.call(json, prop)) {\n                    let field = fields[prop], value = json[prop];\n                    fieldInit.push(field.init(state => field.spec.fromJSON(value, state)));\n                }\n            }\n        return EditorState.create({\n            doc: json.doc,\n            selection: EditorSelection.fromJSON(json.selection),\n            extensions: config.extensions ? fieldInit.concat([config.extensions]) : fieldInit\n        });\n    }\n    /**\n    Create a new state. You'll usually only need this when\n    initializing an editorupdated states are created by applying\n    transactions.\n    */\n    static create(config = {}) {\n        let configuration = Configuration.resolve(config.extensions || [], new Map);\n        let doc = config.doc instanceof Text ? config.doc\n            : Text.of((config.doc || \"\").split(configuration.staticFacet(EditorState.lineSeparator) || DefaultSplit));\n        let selection = !config.selection ? EditorSelection.single(0)\n            : config.selection instanceof EditorSelection ? config.selection\n                : EditorSelection.single(config.selection.anchor, config.selection.head);\n        checkSelection(selection, doc.length);\n        if (!configuration.staticFacet(allowMultipleSelections))\n            selection = selection.asSingle();\n        return new EditorState(configuration, doc, selection, configuration.dynamicSlots.map(() => null), (state, slot) => slot.create(state), null);\n    }\n    /**\n    The size (in columns) of a tab in the document, determined by\n    the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.\n    */\n    get tabSize() { return this.facet(EditorState.tabSize); }\n    /**\n    Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)\n    string for this state.\n    */\n    get lineBreak() { return this.facet(EditorState.lineSeparator) || \"\\n\"; }\n    /**\n    Returns true when the editor is\n    [configured](https://codemirror.net/6/docs/ref/#state.EditorState^readOnly) to be read-only.\n    */\n    get readOnly() { return this.facet(readOnly); }\n    /**\n    Look up a translation for the given phrase (via the\n    [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the\n    original string if no translation is found.\n    \n    If additional arguments are passed, they will be inserted in\n    place of markers like `$1` (for the first value) and `$2`, etc.\n    A single `$` is equivalent to `$1`, and `$$` will produce a\n    literal dollar sign.\n    */\n    phrase(phrase, ...insert) {\n        for (let map of this.facet(EditorState.phrases))\n            if (Object.prototype.hasOwnProperty.call(map, phrase)) {\n                phrase = map[phrase];\n                break;\n            }\n        if (insert.length)\n            phrase = phrase.replace(/\\$(\\$|\\d*)/g, (m, i) => {\n                if (i == \"$\")\n                    return \"$\";\n                let n = +(i || 1);\n                return !n || n > insert.length ? m : insert[n - 1];\n            });\n        return phrase;\n    }\n    /**\n    Find the values for a given language data field, provided by the\n    the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.\n    \n    Examples of language data fields are...\n    \n    - [`\"commentTokens\"`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) for specifying\n      comment syntax.\n    - [`\"autocomplete\"`](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion^config.override)\n      for providing language-specific completion sources.\n    - [`\"wordChars\"`](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) for adding\n      characters that should be considered part of words in this\n      language.\n    - [`\"closeBrackets\"`](https://codemirror.net/6/docs/ref/#autocomplete.CloseBracketConfig) controls\n      bracket closing behavior.\n    */\n    languageDataAt(name, pos, side = -1) {\n        let values = [];\n        for (let provider of this.facet(languageData)) {\n            for (let result of provider(this, pos, side)) {\n                if (Object.prototype.hasOwnProperty.call(result, name))\n                    values.push(result[name]);\n            }\n        }\n        return values;\n    }\n    /**\n    Return a function that can categorize strings (expected to\n    represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak))\n    into one of:\n    \n     - Word (contains an alphanumeric character or a character\n       explicitly listed in the local language's `\"wordChars\"`\n       language data, which should be a string)\n     - Space (contains only whitespace)\n     - Other (anything else)\n    */\n    charCategorizer(at) {\n        return makeCategorizer(this.languageDataAt(\"wordChars\", at).join(\"\"));\n    }\n    /**\n    Find the word at the given position, meaning the range\n    containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters\n    around it. If no word characters are adjacent to the position,\n    this returns null.\n    */\n    wordAt(pos) {\n        let { text, from, length } = this.doc.lineAt(pos);\n        let cat = this.charCategorizer(pos);\n        let start = pos - from, end = pos - from;\n        while (start > 0) {\n            let prev = findClusterBreak(text, start, false);\n            if (cat(text.slice(prev, start)) != CharCategory.Word)\n                break;\n            start = prev;\n        }\n        while (end < length) {\n            let next = findClusterBreak(text, end);\n            if (cat(text.slice(end, next)) != CharCategory.Word)\n                break;\n            end = next;\n        }\n        return start == end ? null : EditorSelection.range(start + from, end + from);\n    }\n}\n/**\nA facet that, when enabled, causes the editor to allow multiple\nranges to be selected. Be careful though, because by default the\neditor relies on the native DOM selection, which cannot handle\nmultiple selections. An extension like\n[`drawSelection`](https://codemirror.net/6/docs/ref/#view.drawSelection) can be used to make\nsecondary selections visible to the user.\n*/\nEditorState.allowMultipleSelections = allowMultipleSelections;\n/**\nConfigures the tab size to use in this state. The first\n(highest-precedence) value of the facet is used. If no value is\ngiven, this defaults to 4.\n*/\nEditorState.tabSize = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : 4\n});\n/**\nThe line separator to use. By default, any of `\"\\n\"`, `\"\\r\\n\"`\nand `\"\\r\"` is treated as a separator when splitting lines, and\nlines are joined with `\"\\n\"`.\n\nWhen you configure a value here, only that precise separator\nwill be used, allowing you to round-trip documents through the\neditor without normalizing line separators.\n*/\nEditorState.lineSeparator = lineSeparator;\n/**\nThis facet controls the value of the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) getter, which is\nconsulted by commands and extensions that implement editing\nfunctionality to determine whether they should apply. It\ndefaults to false, but when its highest-precedence value is\n`true`, such functionality disables itself.\n\nNot to be confused with\n[`EditorView.editable`](https://codemirror.net/6/docs/ref/#view.EditorView^editable), which\ncontrols whether the editor's DOM is set to be editable (and\nthus focusable).\n*/\nEditorState.readOnly = readOnly;\n/**\nRegisters translation phrases. The\n[`phrase`](https://codemirror.net/6/docs/ref/#state.EditorState.phrase) method will look through\nall objects registered with this facet to find translations for\nits argument.\n*/\nEditorState.phrases = /*@__PURE__*/Facet.define({\n    compare(a, b) {\n        let kA = Object.keys(a), kB = Object.keys(b);\n        return kA.length == kB.length && kA.every(k => a[k] == b[k]);\n    }\n});\n/**\nA facet used to register [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) providers.\n*/\nEditorState.languageData = languageData;\n/**\nFacet used to register change filters, which are called for each\ntransaction (unless explicitly\n[disabled](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter)), and can suppress\npart of the transaction's changes.\n\nSuch a function can return `true` to indicate that it doesn't\nwant to do anything, `false` to completely stop the changes in\nthe transaction, or a set of ranges in which changes should be\nsuppressed. Such ranges are represented as an array of numbers,\nwith each pair of two numbers indicating the start and end of a\nrange. So for example `[10, 20, 100, 110]` suppresses changes\nbetween 10 and 20, and between 100 and 110.\n*/\nEditorState.changeFilter = changeFilter;\n/**\nFacet used to register a hook that gets a chance to update or\nreplace transaction specs before they are applied. This will\nonly be applied for transactions that don't have\n[`filter`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter) set to `false`. You\ncan either return a single transaction spec (possibly the input\ntransaction), or an array of specs (which will be combined in\nthe same way as the arguments to\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update)).\n\nWhen possible, it is recommended to avoid accessing\n[`Transaction.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state) in a filter,\nsince it will force creation of a state that will then be\ndiscarded again, if the transaction is actually filtered.\n\n(This functionality should be used with care. Indiscriminately\nmodifying transaction is likely to break something or degrade\nthe user experience.)\n*/\nEditorState.transactionFilter = transactionFilter;\n/**\nThis is a more limited form of\n[`transactionFilter`](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter),\nwhich can only add\n[annotations](https://codemirror.net/6/docs/ref/#state.TransactionSpec.annotations) and\n[effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects). _But_, this type\nof filter runs even if the transaction has disabled regular\n[filtering](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter), making it suitable\nfor effects that don't need to touch the changes or selection,\nbut do want to process every transaction.\n\nExtenders run _after_ filters, when both are present.\n*/\nEditorState.transactionExtender = transactionExtender;\nCompartment.reconfigure = /*@__PURE__*/StateEffect.define();\n\n/**\nUtility function for combining behaviors to fill in a config\nobject from an array of provided configs. `defaults` should hold\ndefault values for all optional fields in `Config`.\n\nThe function will, by default, error\nwhen a field gets two values that aren't `===`-equal, but you can\nprovide combine functions per field to do something else.\n*/\nfunction combineConfig(configs, defaults, // Should hold only the optional properties of Config, but I haven't managed to express that\ncombine = {}) {\n    let result = {};\n    for (let config of configs)\n        for (let key of Object.keys(config)) {\n            let value = config[key], current = result[key];\n            if (current === undefined)\n                result[key] = value;\n            else if (current === value || value === undefined) ; // No conflict\n            else if (Object.hasOwnProperty.call(combine, key))\n                result[key] = combine[key](current, value);\n            else\n                throw new Error(\"Config merge conflict for field \" + key);\n        }\n    for (let key in defaults)\n        if (result[key] === undefined)\n            result[key] = defaults[key];\n    return result;\n}\n\n/**\nEach range is associated with a value, which must inherit from\nthis class.\n*/\nclass RangeValue {\n    /**\n    Compare this value with another value. Used when comparing\n    rangesets. The default implementation compares by identity.\n    Unless you are only creating a fixed number of unique instances\n    of your value type, it is a good idea to implement this\n    properly.\n    */\n    eq(other) { return this == other; }\n    /**\n    Create a [range](https://codemirror.net/6/docs/ref/#state.Range) with this value.\n    */\n    range(from, to = from) { return Range.create(from, to, this); }\n}\nRangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;\nRangeValue.prototype.point = false;\nRangeValue.prototype.mapMode = MapMode.TrackDel;\n/**\nA range associates a value with a range of positions.\n*/\nclass Range {\n    constructor(\n    /**\n    The range's start position.\n    */\n    from, \n    /**\n    Its end position.\n    */\n    to, \n    /**\n    The value associated with this range.\n    */\n    value) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n    }\n    /**\n    @internal\n    */\n    static create(from, to, value) {\n        return new Range(from, to, value);\n    }\n}\nfunction cmpRange(a, b) {\n    return a.from - b.from || a.value.startSide - b.value.startSide;\n}\nclass Chunk {\n    constructor(from, to, value, \n    // Chunks are marked with the largest point that occurs\n    // in them (or -1 for no points), so that scans that are\n    // only interested in points (such as the\n    // heightmap-related logic) can skip range-only chunks.\n    maxPoint) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n        this.maxPoint = maxPoint;\n    }\n    get length() { return this.to[this.to.length - 1]; }\n    // Find the index of the given position and side. Use the ranges'\n    // `from` pos when `end == false`, `to` when `end == true`.\n    findIndex(pos, side, end, startAt = 0) {\n        let arr = end ? this.to : this.from;\n        for (let lo = startAt, hi = arr.length;;) {\n            if (lo == hi)\n                return lo;\n            let mid = (lo + hi) >> 1;\n            let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;\n            if (mid == lo)\n                return diff >= 0 ? lo : hi;\n            if (diff >= 0)\n                hi = mid;\n            else\n                lo = mid + 1;\n        }\n    }\n    between(offset, from, to, f) {\n        for (let i = this.findIndex(from, -1000000000 /* C.Far */, true), e = this.findIndex(to, 1000000000 /* C.Far */, false, i); i < e; i++)\n            if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)\n                return false;\n    }\n    map(offset, changes) {\n        let value = [], from = [], to = [], newPos = -1, maxPoint = -1;\n        for (let i = 0; i < this.value.length; i++) {\n            let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;\n            if (curFrom == curTo) {\n                let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);\n                if (mapped == null)\n                    continue;\n                newFrom = newTo = mapped;\n                if (val.startSide != val.endSide) {\n                    newTo = changes.mapPos(curFrom, val.endSide);\n                    if (newTo < newFrom)\n                        continue;\n                }\n            }\n            else {\n                newFrom = changes.mapPos(curFrom, val.startSide);\n                newTo = changes.mapPos(curTo, val.endSide);\n                if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)\n                    continue;\n            }\n            if ((newTo - newFrom || val.endSide - val.startSide) < 0)\n                continue;\n            if (newPos < 0)\n                newPos = newFrom;\n            if (val.point)\n                maxPoint = Math.max(maxPoint, newTo - newFrom);\n            value.push(val);\n            from.push(newFrom - newPos);\n            to.push(newTo - newPos);\n        }\n        return { mapped: value.length ? new Chunk(from, to, value, maxPoint) : null, pos: newPos };\n    }\n}\n/**\nA range set stores a collection of [ranges](https://codemirror.net/6/docs/ref/#state.Range) in a\nway that makes them efficient to [map](https://codemirror.net/6/docs/ref/#state.RangeSet.map) and\n[update](https://codemirror.net/6/docs/ref/#state.RangeSet.update). This is an immutable data\nstructure.\n*/\nclass RangeSet {\n    constructor(\n    /**\n    @internal\n    */\n    chunkPos, \n    /**\n    @internal\n    */\n    chunk, \n    /**\n    @internal\n    */\n    nextLayer, \n    /**\n    @internal\n    */\n    maxPoint) {\n        this.chunkPos = chunkPos;\n        this.chunk = chunk;\n        this.nextLayer = nextLayer;\n        this.maxPoint = maxPoint;\n    }\n    /**\n    @internal\n    */\n    static create(chunkPos, chunk, nextLayer, maxPoint) {\n        return new RangeSet(chunkPos, chunk, nextLayer, maxPoint);\n    }\n    /**\n    @internal\n    */\n    get length() {\n        let last = this.chunk.length - 1;\n        return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);\n    }\n    /**\n    The number of ranges in the set.\n    */\n    get size() {\n        if (this.isEmpty)\n            return 0;\n        let size = this.nextLayer.size;\n        for (let chunk of this.chunk)\n            size += chunk.value.length;\n        return size;\n    }\n    /**\n    @internal\n    */\n    chunkEnd(index) {\n        return this.chunkPos[index] + this.chunk[index].length;\n    }\n    /**\n    Update the range set, optionally adding new ranges or filtering\n    out existing ones.\n    \n    (Note: The type parameter is just there as a kludge to work\n    around TypeScript variance issues that prevented `RangeSet<X>`\n    from being a subtype of `RangeSet<Y>` when `X` is a subtype of\n    `Y`.)\n    */\n    update(updateSpec) {\n        let { add = [], sort = false, filterFrom = 0, filterTo = this.length } = updateSpec;\n        let filter = updateSpec.filter;\n        if (add.length == 0 && !filter)\n            return this;\n        if (sort)\n            add = add.slice().sort(cmpRange);\n        if (this.isEmpty)\n            return add.length ? RangeSet.of(add) : this;\n        let cur = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];\n        let builder = new RangeSetBuilder();\n        while (cur.value || i < add.length) {\n            if (i < add.length && (cur.from - add[i].from || cur.startSide - add[i].value.startSide) >= 0) {\n                let range = add[i++];\n                if (!builder.addInner(range.from, range.to, range.value))\n                    spill.push(range);\n            }\n            else if (cur.rangeIndex == 1 && cur.chunkIndex < this.chunk.length &&\n                (i == add.length || this.chunkEnd(cur.chunkIndex) < add[i].from) &&\n                (!filter || filterFrom > this.chunkEnd(cur.chunkIndex) || filterTo < this.chunkPos[cur.chunkIndex]) &&\n                builder.addChunk(this.chunkPos[cur.chunkIndex], this.chunk[cur.chunkIndex])) {\n                cur.nextChunk();\n            }\n            else {\n                if (!filter || filterFrom > cur.to || filterTo < cur.from || filter(cur.from, cur.to, cur.value)) {\n                    if (!builder.addInner(cur.from, cur.to, cur.value))\n                        spill.push(Range.create(cur.from, cur.to, cur.value));\n                }\n                cur.next();\n            }\n        }\n        return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? RangeSet.empty\n            : this.nextLayer.update({ add: spill, filter, filterFrom, filterTo }));\n    }\n    /**\n    Map this range set through a set of changes, return the new set.\n    */\n    map(changes) {\n        if (changes.empty || this.isEmpty)\n            return this;\n        let chunks = [], chunkPos = [], maxPoint = -1;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            let touch = changes.touchesRange(start, start + chunk.length);\n            if (touch === false) {\n                maxPoint = Math.max(maxPoint, chunk.maxPoint);\n                chunks.push(chunk);\n                chunkPos.push(changes.mapPos(start));\n            }\n            else if (touch === true) {\n                let { mapped, pos } = chunk.map(start, changes);\n                if (mapped) {\n                    maxPoint = Math.max(maxPoint, mapped.maxPoint);\n                    chunks.push(mapped);\n                    chunkPos.push(pos);\n                }\n            }\n        }\n        let next = this.nextLayer.map(changes);\n        return chunks.length == 0 ? next : new RangeSet(chunkPos, chunks, next || RangeSet.empty, maxPoint);\n    }\n    /**\n    Iterate over the ranges that touch the region `from` to `to`,\n    calling `f` for each. There is no guarantee that the ranges will\n    be reported in any specific order. When the callback returns\n    `false`, iteration stops.\n    */\n    between(from, to, f) {\n        if (this.isEmpty)\n            return;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            if (to >= start && from <= start + chunk.length &&\n                chunk.between(start, from - start, to - start, f) === false)\n                return;\n        }\n        this.nextLayer.between(from, to, f);\n    }\n    /**\n    Iterate over the ranges in this set, in order, including all\n    ranges that end at or after `from`.\n    */\n    iter(from = 0) {\n        return HeapCursor.from([this]).goto(from);\n    }\n    /**\n    @internal\n    */\n    get isEmpty() { return this.nextLayer == this; }\n    /**\n    Iterate over the ranges in a collection of sets, in order,\n    starting from `from`.\n    */\n    static iter(sets, from = 0) {\n        return HeapCursor.from(sets).goto(from);\n    }\n    /**\n    Iterate over two groups of sets, calling methods on `comparator`\n    to notify it of possible differences.\n    */\n    static compare(oldSets, newSets, \n    /**\n    This indicates how the underlying data changed between these\n    ranges, and is needed to synchronize the iteration. `from` and\n    `to` are coordinates in the _new_ space, after these changes.\n    */\n    textDiff, comparator, \n    /**\n    Can be used to ignore all non-point ranges, and points below\n    the given size. When -1, all ranges are compared.\n    */\n    minPointSize = -1) {\n        let a = oldSets.filter(set => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);\n        let b = newSets.filter(set => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);\n        let sharedChunks = findSharedChunks(a, b, textDiff);\n        let sideA = new SpanCursor(a, sharedChunks, minPointSize);\n        let sideB = new SpanCursor(b, sharedChunks, minPointSize);\n        textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));\n        if (textDiff.empty && textDiff.length == 0)\n            compare(sideA, 0, sideB, 0, 0, comparator);\n    }\n    /**\n    Compare the contents of two groups of range sets, returning true\n    if they are equivalent in the given range.\n    */\n    static eq(oldSets, newSets, from = 0, to) {\n        if (to == null)\n            to = 1000000000 /* C.Far */ - 1;\n        let a = oldSets.filter(set => !set.isEmpty && newSets.indexOf(set) < 0);\n        let b = newSets.filter(set => !set.isEmpty && oldSets.indexOf(set) < 0);\n        if (a.length != b.length)\n            return false;\n        if (!a.length)\n            return true;\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, 0).goto(from), sideB = new SpanCursor(b, sharedChunks, 0).goto(from);\n        for (;;) {\n            if (sideA.to != sideB.to ||\n                !sameValues(sideA.active, sideB.active) ||\n                sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))\n                return false;\n            if (sideA.to > to)\n                return true;\n            sideA.next();\n            sideB.next();\n        }\n    }\n    /**\n    Iterate over a group of range sets at the same time, notifying\n    the iterator about the ranges covering every given piece of\n    content. Returns the open count (see\n    [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#state.SpanIterator.span)) at the end\n    of the iteration.\n    */\n    static spans(sets, from, to, iterator, \n    /**\n    When given and greater than -1, only points of at least this\n    size are taken into account.\n    */\n    minPointSize = -1) {\n        let cursor = new SpanCursor(sets, null, minPointSize).goto(from), pos = from;\n        let openRanges = cursor.openStart;\n        for (;;) {\n            let curTo = Math.min(cursor.to, to);\n            if (cursor.point) {\n                let active = cursor.activeForPoint(cursor.to);\n                let openCount = cursor.pointFrom < from ? active.length + 1 : Math.min(active.length, openRanges);\n                iterator.point(pos, curTo, cursor.point, active, openCount, cursor.pointRank);\n                openRanges = Math.min(cursor.openEnd(curTo), active.length);\n            }\n            else if (curTo > pos) {\n                iterator.span(pos, curTo, cursor.active, openRanges);\n                openRanges = cursor.openEnd(curTo);\n            }\n            if (cursor.to > to)\n                return openRanges + (cursor.point && cursor.to > to ? 1 : 0);\n            pos = cursor.to;\n            cursor.next();\n        }\n    }\n    /**\n    Create a range set for the given range or array of ranges. By\n    default, this expects the ranges to be _sorted_ (by start\n    position and, if two start at the same position,\n    `value.startSide`). You can pass `true` as second argument to\n    cause the method to sort them.\n    */\n    static of(ranges, sort = false) {\n        let build = new RangeSetBuilder();\n        for (let range of ranges instanceof Range ? [ranges] : sort ? lazySort(ranges) : ranges)\n            build.add(range.from, range.to, range.value);\n        return build.finish();\n    }\n}\n/**\nThe empty set of ranges.\n*/\nRangeSet.empty = /*@__PURE__*/new RangeSet([], [], null, -1);\nfunction lazySort(ranges) {\n    if (ranges.length > 1)\n        for (let prev = ranges[0], i = 1; i < ranges.length; i++) {\n            let cur = ranges[i];\n            if (cmpRange(prev, cur) > 0)\n                return ranges.slice().sort(cmpRange);\n            prev = cur;\n        }\n    return ranges;\n}\nRangeSet.empty.nextLayer = RangeSet.empty;\n/**\nA range set builder is a data structure that helps build up a\n[range set](https://codemirror.net/6/docs/ref/#state.RangeSet) directly, without first allocating\nan array of [`Range`](https://codemirror.net/6/docs/ref/#state.Range) objects.\n*/\nclass RangeSetBuilder {\n    /**\n    Create an empty builder.\n    */\n    constructor() {\n        this.chunks = [];\n        this.chunkPos = [];\n        this.chunkStart = -1;\n        this.last = null;\n        this.lastFrom = -1000000000 /* C.Far */;\n        this.lastTo = -1000000000 /* C.Far */;\n        this.from = [];\n        this.to = [];\n        this.value = [];\n        this.maxPoint = -1;\n        this.setMaxPoint = -1;\n        this.nextLayer = null;\n    }\n    finishChunk(newArrays) {\n        this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));\n        this.chunkPos.push(this.chunkStart);\n        this.chunkStart = -1;\n        this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);\n        this.maxPoint = -1;\n        if (newArrays) {\n            this.from = [];\n            this.to = [];\n            this.value = [];\n        }\n    }\n    /**\n    Add a range. Ranges should be added in sorted (by `from` and\n    `value.startSide`) order.\n    */\n    add(from, to, value) {\n        if (!this.addInner(from, to, value))\n            (this.nextLayer || (this.nextLayer = new RangeSetBuilder)).add(from, to, value);\n    }\n    /**\n    @internal\n    */\n    addInner(from, to, value) {\n        let diff = from - this.lastTo || value.startSide - this.last.endSide;\n        if (diff <= 0 && (from - this.lastFrom || value.startSide - this.last.startSide) < 0)\n            throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");\n        if (diff < 0)\n            return false;\n        if (this.from.length == 250 /* C.ChunkSize */)\n            this.finishChunk(true);\n        if (this.chunkStart < 0)\n            this.chunkStart = from;\n        this.from.push(from - this.chunkStart);\n        this.to.push(to - this.chunkStart);\n        this.last = value;\n        this.lastFrom = from;\n        this.lastTo = to;\n        this.value.push(value);\n        if (value.point)\n            this.maxPoint = Math.max(this.maxPoint, to - from);\n        return true;\n    }\n    /**\n    @internal\n    */\n    addChunk(from, chunk) {\n        if ((from - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)\n            return false;\n        if (this.from.length)\n            this.finishChunk(true);\n        this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);\n        this.chunks.push(chunk);\n        this.chunkPos.push(from);\n        let last = chunk.value.length - 1;\n        this.last = chunk.value[last];\n        this.lastFrom = chunk.from[last] + from;\n        this.lastTo = chunk.to[last] + from;\n        return true;\n    }\n    /**\n    Finish the range set. Returns the new set. The builder can't be\n    used anymore after this has been called.\n    */\n    finish() { return this.finishInner(RangeSet.empty); }\n    /**\n    @internal\n    */\n    finishInner(next) {\n        if (this.from.length)\n            this.finishChunk(false);\n        if (this.chunks.length == 0)\n            return next;\n        let result = RangeSet.create(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);\n        this.from = null; // Make sure further `add` calls produce errors\n        return result;\n    }\n}\nfunction findSharedChunks(a, b, textDiff) {\n    let inA = new Map();\n    for (let set of a)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (set.chunk[i].maxPoint <= 0)\n                inA.set(set.chunk[i], set.chunkPos[i]);\n    let shared = new Set();\n    for (let set of b)\n        for (let i = 0; i < set.chunk.length; i++) {\n            let known = inA.get(set.chunk[i]);\n            if (known != null && (textDiff ? textDiff.mapPos(known) : known) == set.chunkPos[i] &&\n                !(textDiff === null || textDiff === void 0 ? void 0 : textDiff.touchesRange(known, known + set.chunk[i].length)))\n                shared.add(set.chunk[i]);\n        }\n    return shared;\n}\nclass LayerCursor {\n    constructor(layer, skip, minPoint, rank = 0) {\n        this.layer = layer;\n        this.skip = skip;\n        this.minPoint = minPoint;\n        this.rank = rank;\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    get endSide() { return this.value ? this.value.endSide : 0; }\n    goto(pos, side = -1000000000 /* C.Far */) {\n        this.chunkIndex = this.rangeIndex = 0;\n        this.gotoInner(pos, side, false);\n        return this;\n    }\n    gotoInner(pos, side, forward) {\n        while (this.chunkIndex < this.layer.chunk.length) {\n            let next = this.layer.chunk[this.chunkIndex];\n            if (!(this.skip && this.skip.has(next) ||\n                this.layer.chunkEnd(this.chunkIndex) < pos ||\n                next.maxPoint < this.minPoint))\n                break;\n            this.chunkIndex++;\n            forward = false;\n        }\n        if (this.chunkIndex < this.layer.chunk.length) {\n            let rangeIndex = this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);\n            if (!forward || this.rangeIndex < rangeIndex)\n                this.setRangeIndex(rangeIndex);\n        }\n        this.next();\n    }\n    forward(pos, side) {\n        if ((this.to - pos || this.endSide - side) < 0)\n            this.gotoInner(pos, side, true);\n    }\n    next() {\n        for (;;) {\n            if (this.chunkIndex == this.layer.chunk.length) {\n                this.from = this.to = 1000000000 /* C.Far */;\n                this.value = null;\n                break;\n            }\n            else {\n                let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];\n                let from = chunkPos + chunk.from[this.rangeIndex];\n                this.from = from;\n                this.to = chunkPos + chunk.to[this.rangeIndex];\n                this.value = chunk.value[this.rangeIndex];\n                this.setRangeIndex(this.rangeIndex + 1);\n                if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)\n                    break;\n            }\n        }\n    }\n    setRangeIndex(index) {\n        if (index == this.layer.chunk[this.chunkIndex].value.length) {\n            this.chunkIndex++;\n            if (this.skip) {\n                while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))\n                    this.chunkIndex++;\n            }\n            this.rangeIndex = 0;\n        }\n        else {\n            this.rangeIndex = index;\n        }\n    }\n    nextChunk() {\n        this.chunkIndex++;\n        this.rangeIndex = 0;\n        this.next();\n    }\n    compare(other) {\n        return this.from - other.from || this.startSide - other.startSide || this.rank - other.rank ||\n            this.to - other.to || this.endSide - other.endSide;\n    }\n}\nclass HeapCursor {\n    constructor(heap) {\n        this.heap = heap;\n    }\n    static from(sets, skip = null, minPoint = -1) {\n        let heap = [];\n        for (let i = 0; i < sets.length; i++) {\n            for (let cur = sets[i]; !cur.isEmpty; cur = cur.nextLayer) {\n                if (cur.maxPoint >= minPoint)\n                    heap.push(new LayerCursor(cur, skip, minPoint, i));\n            }\n        }\n        return heap.length == 1 ? heap[0] : new HeapCursor(heap);\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    goto(pos, side = -1000000000 /* C.Far */) {\n        for (let cur of this.heap)\n            cur.goto(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        for (let cur of this.heap)\n            cur.forward(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        if ((this.to - pos || this.value.endSide - side) < 0)\n            this.next();\n    }\n    next() {\n        if (this.heap.length == 0) {\n            this.from = this.to = 1000000000 /* C.Far */;\n            this.value = null;\n            this.rank = -1;\n        }\n        else {\n            let top = this.heap[0];\n            this.from = top.from;\n            this.to = top.to;\n            this.value = top.value;\n            this.rank = top.rank;\n            if (top.value)\n                top.next();\n            heapBubble(this.heap, 0);\n        }\n    }\n}\nfunction heapBubble(heap, index) {\n    for (let cur = heap[index];;) {\n        let childIndex = (index << 1) + 1;\n        if (childIndex >= heap.length)\n            break;\n        let child = heap[childIndex];\n        if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {\n            child = heap[childIndex + 1];\n            childIndex++;\n        }\n        if (cur.compare(child) < 0)\n            break;\n        heap[childIndex] = cur;\n        heap[index] = child;\n        index = childIndex;\n    }\n}\nclass SpanCursor {\n    constructor(sets, skip, minPoint) {\n        this.minPoint = minPoint;\n        this.active = [];\n        this.activeTo = [];\n        this.activeRank = [];\n        this.minActive = -1;\n        // A currently active point range, if any\n        this.point = null;\n        this.pointFrom = 0;\n        this.pointRank = 0;\n        this.to = -1000000000 /* C.Far */;\n        this.endSide = 0;\n        // The amount of open active ranges at the start of the iterator.\n        // Not including points.\n        this.openStart = -1;\n        this.cursor = HeapCursor.from(sets, skip, minPoint);\n    }\n    goto(pos, side = -1000000000 /* C.Far */) {\n        this.cursor.goto(pos, side);\n        this.active.length = this.activeTo.length = this.activeRank.length = 0;\n        this.minActive = -1;\n        this.to = pos;\n        this.endSide = side;\n        this.openStart = -1;\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)\n            this.removeActive(this.minActive);\n        this.cursor.forward(pos, side);\n    }\n    removeActive(index) {\n        remove(this.active, index);\n        remove(this.activeTo, index);\n        remove(this.activeRank, index);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    addActive(trackOpen) {\n        let i = 0, { value, to, rank } = this.cursor;\n        while (i < this.activeRank.length && this.activeRank[i] <= rank)\n            i++;\n        insert(this.active, i, value);\n        insert(this.activeTo, i, to);\n        insert(this.activeRank, i, rank);\n        if (trackOpen)\n            insert(trackOpen, i, this.cursor.from);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    // After calling this, if `this.point` != null, the next range is a\n    // point. Otherwise, it's a regular range, covered by `this.active`.\n    next() {\n        let from = this.to, wasPoint = this.point;\n        this.point = null;\n        let trackOpen = this.openStart < 0 ? [] : null;\n        for (;;) {\n            let a = this.minActive;\n            if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {\n                if (this.activeTo[a] > from) {\n                    this.to = this.activeTo[a];\n                    this.endSide = this.active[a].endSide;\n                    break;\n                }\n                this.removeActive(a);\n                if (trackOpen)\n                    remove(trackOpen, a);\n            }\n            else if (!this.cursor.value) {\n                this.to = this.endSide = 1000000000 /* C.Far */;\n                break;\n            }\n            else if (this.cursor.from > from) {\n                this.to = this.cursor.from;\n                this.endSide = this.cursor.startSide;\n                break;\n            }\n            else {\n                let nextVal = this.cursor.value;\n                if (!nextVal.point) { // Opening a range\n                    this.addActive(trackOpen);\n                    this.cursor.next();\n                }\n                else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to) {\n                    // Ignore any non-empty points that end precisely at the end of the prev point\n                    this.cursor.next();\n                }\n                else { // New point\n                    this.point = nextVal;\n                    this.pointFrom = this.cursor.from;\n                    this.pointRank = this.cursor.rank;\n                    this.to = this.cursor.to;\n                    this.endSide = nextVal.endSide;\n                    this.cursor.next();\n                    this.forward(this.to, this.endSide);\n                    break;\n                }\n            }\n        }\n        if (trackOpen) {\n            this.openStart = 0;\n            for (let i = trackOpen.length - 1; i >= 0 && trackOpen[i] < from; i--)\n                this.openStart++;\n        }\n    }\n    activeForPoint(to) {\n        if (!this.active.length)\n            return this.active;\n        let active = [];\n        for (let i = this.active.length - 1; i >= 0; i--) {\n            if (this.activeRank[i] < this.pointRank)\n                break;\n            if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)\n                active.push(this.active[i]);\n        }\n        return active.reverse();\n    }\n    openEnd(to) {\n        let open = 0;\n        for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)\n            open++;\n        return open;\n    }\n}\nfunction compare(a, startA, b, startB, length, comparator) {\n    a.goto(startA);\n    b.goto(startB);\n    let endB = startB + length;\n    let pos = startB, dPos = startB - startA;\n    for (;;) {\n        let diff = (a.to + dPos) - b.to || a.endSide - b.endSide;\n        let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);\n        if (a.point || b.point) {\n            if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) &&\n                sameValues(a.activeForPoint(a.to + dPos), b.activeForPoint(b.to))))\n                comparator.comparePoint(pos, clipEnd, a.point, b.point);\n        }\n        else {\n            if (clipEnd > pos && !sameValues(a.active, b.active))\n                comparator.compareRange(pos, clipEnd, a.active, b.active);\n        }\n        if (end > endB)\n            break;\n        pos = end;\n        if (diff <= 0)\n            a.next();\n        if (diff >= 0)\n            b.next();\n    }\n}\nfunction sameValues(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (a[i] != b[i] && !a[i].eq(b[i]))\n            return false;\n    return true;\n}\nfunction remove(array, index) {\n    for (let i = index, e = array.length - 1; i < e; i++)\n        array[i] = array[i + 1];\n    array.pop();\n}\nfunction insert(array, index, value) {\n    for (let i = array.length - 1; i >= index; i--)\n        array[i + 1] = array[i];\n    array[index] = value;\n}\nfunction findMinIndex(value, array) {\n    let found = -1, foundPos = 1000000000 /* C.Far */;\n    for (let i = 0; i < array.length; i++)\n        if ((array[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {\n            found = i;\n            foundPos = array[i];\n        }\n    return found;\n}\n\n/**\nCount the column position at the given offset into the string,\ntaking extending characters and tab size into account.\n*/\nfunction countColumn(string, tabSize, to = string.length) {\n    let n = 0;\n    for (let i = 0; i < to;) {\n        if (string.charCodeAt(i) == 9) {\n            n += tabSize - (n % tabSize);\n            i++;\n        }\n        else {\n            n++;\n            i = findClusterBreak(string, i);\n        }\n    }\n    return n;\n}\n/**\nFind the offset that corresponds to the given column position in a\nstring, taking extending characters and tab size into account. By\ndefault, the string length is returned when it is too short to\nreach the column. Pass `strict` true to make it return -1 in that\nsituation.\n*/\nfunction findColumn(string, col, tabSize, strict) {\n    for (let i = 0, n = 0;;) {\n        if (n >= col)\n            return i;\n        if (i == string.length)\n            break;\n        n += string.charCodeAt(i) == 9 ? tabSize - (n % tabSize) : 1;\n        i = findClusterBreak(string, i);\n    }\n    return strict === true ? -1 : string.length;\n}\n\nexport { Annotation, AnnotationType, ChangeDesc, ChangeSet, CharCategory, Compartment, EditorSelection, EditorState, Facet, Line, MapMode, Prec, Range, RangeSet, RangeSetBuilder, RangeValue, SelectionRange, StateEffect, StateEffectType, StateField, Text, Transaction, codePointAt, codePointSize, combineConfig, countColumn, findClusterBreak, findColumn, fromCodePoint };\n","const C = \"\\u037c\"\nconst COUNT = typeof Symbol == \"undefined\" ? \"__\" + C : Symbol.for(C)\nconst SET = typeof Symbol == \"undefined\" ? \"__styleSet\" + Math.floor(Math.random() * 1e8) : Symbol(\"styleSet\")\nconst top = typeof globalThis != \"undefined\" ? globalThis : typeof window != \"undefined\" ? window : {}\n\n// :: - Style modules encapsulate a set of CSS rules defined from\n// JavaScript. Their definitions are only available in a given DOM\n// root after it has been _mounted_ there with `StyleModule.mount`.\n//\n// Style modules should be created once and stored somewhere, as\n// opposed to re-creating them every time you need them. The amount of\n// CSS rules generated for a given DOM root is bounded by the amount\n// of style modules that were used. So to avoid leaking rules, don't\n// create these dynamically, but treat them as one-time allocations.\nexport class StyleModule {\n  // :: (Object<Style>, ?{finish: ?(string)  string})\n  // Create a style module from the given spec.\n  //\n  // When `finish` is given, it is called on regular (non-`@`)\n  // selectors (after `&` expansion) to compute the final selector.\n  constructor(spec, options) {\n    this.rules = []\n    let {finish} = options || {}\n\n    function splitSelector(selector) {\n      return /^@/.test(selector) ? [selector] : selector.split(/,\\s*/)\n    }\n\n    function render(selectors, spec, target, isKeyframes) {\n      let local = [], isAt = /^@(\\w+)\\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == \"keyframes\"\n      if (isAt && spec == null) return target.push(selectors[0] + \";\")\n      for (let prop in spec) {\n        let value = spec[prop]\n        if (/&/.test(prop)) {\n          render(prop.split(/,\\s*/).map(part => selectors.map(sel => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)),\n                 value, target)\n        } else if (value && typeof value == \"object\") {\n          if (!isAt) throw new RangeError(\"The value of a property (\" + prop + \") should be a primitive value.\")\n          render(splitSelector(prop), value, local, keyframes)\n        } else if (value != null) {\n          local.push(prop.replace(/_.*/, \"\").replace(/[A-Z]/g, l => \"-\" + l.toLowerCase()) + \": \" + value + \";\")\n        }\n      }\n      if (local.length || keyframes) {\n        target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(\", \") +\n                    \" {\" + local.join(\" \") + \"}\")\n      }\n    }\n\n    for (let prop in spec) render(splitSelector(prop), spec[prop], this.rules)\n  }\n\n  // :: ()  string\n  // Returns a string containing the module's CSS rules.\n  getRules() { return this.rules.join(\"\\n\") }\n\n  // :: ()  string\n  // Generate a new unique CSS class name.\n  static newName() {\n    let id = top[COUNT] || 1\n    top[COUNT] = id + 1\n    return C + id.toString(36)\n  }\n\n  // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>)\n  //\n  // Mount the given set of modules in the given DOM root, which ensures\n  // that the CSS rules defined by the module are available in that\n  // context.\n  //\n  // Rules are only added to the document once per root.\n  //\n  // Rule order will follow the order of the modules, so that rules from\n  // modules later in the array take precedence of those from earlier\n  // modules. If you call this function multiple times for the same root\n  // in a way that changes the order of already mounted modules, the old\n  // order will be changed.\n  static mount(root, modules) {\n    (root[SET] || new StyleSet(root)).mount(Array.isArray(modules) ? modules : [modules])\n  }\n}\n\nlet adoptedSet = null\n\nclass StyleSet {\n  constructor(root) {\n    if (!root.head && root.adoptedStyleSheets && typeof CSSStyleSheet != \"undefined\") {\n      if (adoptedSet) {\n        root.adoptedStyleSheets = [adoptedSet.sheet].concat(root.adoptedStyleSheets)\n        return root[SET] = adoptedSet\n      }\n      this.sheet = new CSSStyleSheet\n      root.adoptedStyleSheets = [this.sheet].concat(root.adoptedStyleSheets)\n      adoptedSet = this\n    } else {\n      this.styleTag = (root.ownerDocument || root).createElement(\"style\")\n      let target = root.head || root\n      target.insertBefore(this.styleTag, target.firstChild)\n    }\n    this.modules = []\n    root[SET] = this\n  }\n\n  mount(modules) {\n    let sheet = this.sheet\n    let pos = 0 /* Current rule offset */, j = 0 /* Index into this.modules */\n    for (let i = 0; i < modules.length; i++) {\n      let mod = modules[i], index = this.modules.indexOf(mod)\n      if (index < j && index > -1) { // Ordering conflict\n        this.modules.splice(index, 1)\n        j--\n        index = -1\n      }\n      if (index == -1) {\n        this.modules.splice(j++, 0, mod)\n        if (sheet) for (let k = 0; k < mod.rules.length; k++)\n          sheet.insertRule(mod.rules[k], pos++)\n      } else {\n        while (j < index) pos += this.modules[j++].rules.length\n        pos += mod.rules.length\n        j++\n      }\n    }\n\n    if (!sheet) {\n      let text = \"\"\n      for (let i = 0; i < this.modules.length; i++)\n        text += this.modules[i].getRules() + \"\\n\"\n      this.styleTag.textContent = text\n    }\n  }\n}\n\n// Style::Object<union<Style,string>>\n//\n// A style is an object that, in the simple case, maps CSS property\n// names to strings holding their values, as in `{color: \"red\",\n// fontWeight: \"bold\"}`. The property names can be given in\n// camel-casethe library will insert a dash before capital letters\n// when converting them to CSS.\n//\n// If you include an underscore in a property name, it and everything\n// after it will be removed from the output, which can be useful when\n// providing a property multiple times, for browser compatibility\n// reasons.\n//\n// A property in a style object can also be a sub-selector, which\n// extends the current context to add a pseudo-selector or a child\n// selector. Such a property should contain a `&` character, which\n// will be replaced by the current selector. For example `{\"&:before\":\n// {content: '\"hi\"'}}`. Sub-selectors and regular properties can\n// freely be mixed in a given object. Any property containing a `&` is\n// assumed to be a sub-selector.\n//\n// Finally, a property can specify an @-block to be wrapped around the\n// styles defined inside the object that's the property's value. For\n// example to create a media query you can do `{\"@media screen and\n// (min-width: 400px)\": {...}}`.\n","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\"\n}\n\nvar chrome = typeof navigator != \"undefined\" && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nvar gecko = typeof navigator != \"undefined\" && /Gecko\\/\\d+/.test(navigator.userAgent)\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nvar brokenModifierNames = mac || chrome && +chrome[1] < 57\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||\n    ie && event.shiftKey && event.key && event.key.length == 1 ||\n    event.key == \"Unidentified\"\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n","import { Text, RangeSet, MapMode, RangeValue, Facet, StateEffect, ChangeSet, findClusterBreak, EditorSelection, EditorState, findColumn, CharCategory, Transaction, Prec, codePointAt, codePointSize, combineConfig, StateField, RangeSetBuilder, countColumn } from '@codemirror/state';\nimport { StyleModule } from 'style-mod';\nimport { keyName, base, shift } from 'w3c-keyname';\n\nfunction getSelection(root) {\n    let target;\n    // Browsers differ on whether shadow roots have a getSelection\n    // method. If it exists, use that, otherwise, call it on the\n    // document.\n    if (root.nodeType == 11) { // Shadow root\n        target = root.getSelection ? root : root.ownerDocument;\n    }\n    else {\n        target = root;\n    }\n    return target.getSelection();\n}\nfunction contains(dom, node) {\n    return node ? dom == node || dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement(doc) {\n    let elt = doc.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nconst Rect0 = { left: 0, right: 0, top: 0, bottom: 0 };\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nfunction scrollRectIntoView(dom, rect, side, x, y, xMargin, yMargin, ltr) {\n    let doc = dom.ownerDocument, win = doc.defaultView || window;\n    for (let cur = dom; cur;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == doc.body;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.assignedSlot || cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth,\n                    top: rect.top, bottom: rect.top + cur.clientHeight };\n            }\n            let moveX = 0, moveY = 0;\n            if (y == \"nearest\") {\n                if (rect.top < bounding.top) {\n                    moveY = -(bounding.top - rect.top + yMargin);\n                    if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                        moveY = rect.bottom - bounding.bottom + moveY + yMargin;\n                }\n                else if (rect.bottom > bounding.bottom) {\n                    moveY = rect.bottom - bounding.bottom + yMargin;\n                    if (side < 0 && (rect.top - moveY) < bounding.top)\n                        moveY = -(bounding.top + moveY - rect.top + yMargin);\n                }\n            }\n            else {\n                let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;\n                let targetTop = y == \"center\" && rectHeight <= boundingHeight ? rect.top + rectHeight / 2 - boundingHeight / 2 :\n                    y == \"start\" || y == \"center\" && side < 0 ? rect.top - yMargin :\n                        rect.bottom - boundingHeight + yMargin;\n                moveY = targetTop - bounding.top;\n            }\n            if (x == \"nearest\") {\n                if (rect.left < bounding.left) {\n                    moveX = -(bounding.left - rect.left + xMargin);\n                    if (side > 0 && rect.right > bounding.right + moveX)\n                        moveX = rect.right - bounding.right + moveX + xMargin;\n                }\n                else if (rect.right > bounding.right) {\n                    moveX = rect.right - bounding.right + xMargin;\n                    if (side < 0 && rect.left < bounding.left + moveX)\n                        moveX = -(bounding.left + moveX - rect.left + xMargin);\n                }\n            }\n            else {\n                let targetLeft = x == \"center\" ? rect.left + (rect.right - rect.left) / 2 - (bounding.right - bounding.left) / 2 :\n                    (x == \"start\") == ltr ? rect.left - xMargin :\n                        rect.right - (bounding.right - bounding.left) + xMargin;\n                moveX = targetLeft - bounding.left;\n            }\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    let movedX = 0, movedY = 0;\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY;\n                        movedY = cur.scrollTop - start;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX;\n                        movedX = cur.scrollLeft - start;\n                    }\n                    rect = { left: rect.left - movedX, top: rect.top - movedY,\n                        right: rect.right - movedX, bottom: rect.bottom - movedY };\n                    if (movedX && Math.abs(movedX - moveX) < 1)\n                        x = \"nearest\";\n                    if (movedY && Math.abs(movedY - moveY) < 1)\n                        y = \"nearest\";\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nfunction scrollableParent(dom) {\n    let doc = dom.ownerDocument;\n    for (let cur = dom.parentNode; cur;) {\n        if (cur == doc.body) {\n            break;\n        }\n        else if (cur.nodeType == 1) {\n            if (cur.scrollHeight > cur.clientHeight || cur.scrollWidth > cur.clientWidth)\n                return cur;\n            cur = cur.assignedSlot || cur.parentNode;\n        }\n        else if (cur.nodeType == 11) {\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n    return null;\n}\nclass DOMSelectionState {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    setRange(range) {\n        this.set(range.anchorNode, range.anchorOffset, range.focusNode, range.focusOffset);\n    }\n    set(anchorNode, anchorOffset, focusNode, focusOffset) {\n        this.anchorNode = anchorNode;\n        this.anchorOffset = anchorOffset;\n        this.focusNode = focusNode;\n        this.focusOffset = focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nfunction getRoot(node) {\n    while (node) {\n        if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))\n            return node;\n        node = node.assignedSlot || node.parentNode;\n    }\n    return null;\n}\nfunction clearAttributes(node) {\n    while (node.attributes.length)\n        node.removeAttributeNode(node.attributes[0]);\n}\nfunction atElementStart(doc, selection) {\n    let node = selection.focusNode, offset = selection.focusOffset;\n    if (!node || selection.anchorNode != node || selection.anchorOffset != offset)\n        return false;\n    for (;;) {\n        if (offset) {\n            if (node.nodeType != 1)\n                return false;\n            let prev = node.childNodes[offset - 1];\n            if (prev.contentEditable == \"false\")\n                offset--;\n            else {\n                node = prev;\n                offset = maxOffset(node);\n            }\n        }\n        else if (node == doc) {\n            return true;\n        }\n        else {\n            offset = domIndex(node);\n            node = node.parentNode;\n        }\n    }\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst noChildren = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.dirty = 2 /* Dirty.Node */;\n    }\n    get editorView() {\n        if (!this.parent)\n            throw new Error(\"Accessing view in orphan content view\");\n        return this.parent.editorView;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    // Will return a rectangle directly before (when side < 0), after\n    // (side > 0) or directly on (when the browser supports it) the\n    // given position.\n    coordsAt(_pos, _side) { return null; }\n    sync(track) {\n        if (this.dirty & 2 /* Dirty.Node */) {\n            let parent = this.dom;\n            let prev = null, next;\n            for (let child of this.children) {\n                if (child.dirty) {\n                    if (!child.dom && (next = prev ? prev.nextSibling : parent.firstChild)) {\n                        let contentView = ContentView.get(next);\n                        if (!contentView || !contentView.parent && contentView.canReuseDOM(child))\n                            child.reuseDOM(next);\n                    }\n                    child.sync(track);\n                    child.dirty = 0 /* Dirty.Not */;\n                }\n                next = prev ? prev.nextSibling : parent.firstChild;\n                if (track && !track.written && track.node == parent && next != child.dom)\n                    track.written = true;\n                if (child.dom.parentNode == parent) {\n                    while (next && next != child.dom)\n                        next = rm$1(next);\n                }\n                else {\n                    parent.insertBefore(child.dom, next);\n                }\n                prev = child.dom;\n            }\n            next = prev ? prev.nextSibling : parent.firstChild;\n            if (next && track && track.node == parent)\n                track.written = true;\n            while (next)\n                next = rm$1(next);\n        }\n        else if (this.dirty & 1 /* Dirty.Child */) {\n            for (let child of this.children)\n                if (child.dirty) {\n                    child.sync(track);\n                    child.dirty = 0 /* Dirty.Not */;\n                }\n        }\n    }\n    reuseDOM(_dom) { }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        this.dirty |= 2 /* Dirty.Node */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.dirty |= 2 /* Dirty.Node */;\n            if (parent.dirty & 1 /* Dirty.Child */)\n                return;\n            parent.dirty |= 1 /* Dirty.Child */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.dirty)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        if (this.dom)\n            this.dom.cmView = null;\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = noChildren) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.destroy();\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n    get isEditable() { return true; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        return false;\n    }\n    become(other) { return false; }\n    canReuseDOM(other) { return other.constructor == this.constructor; }\n    // When this is a zero-length view with a side, this should return a\n    // number <= 0 to indicate it is before its position, or a\n    // number > 0 when after its position.\n    getSide() { return 0; }\n    destroy() {\n        this.parent = null;\n    }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm$1(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\nfunction replaceRange(parent, fromI, fromOff, toI, toOff, insert, breakAtStart, openStart, openEnd) {\n    let { children } = parent;\n    let before = children.length ? children[fromI] : null;\n    let last = insert.length ? insert[insert.length - 1] : null;\n    let breakAtEnd = last ? last.breakAfter : breakAtStart;\n    // Change within a single child\n    if (fromI == toI && before && !breakAtStart && !breakAtEnd && insert.length < 2 &&\n        before.merge(fromOff, toOff, insert.length ? last : null, fromOff == 0, openStart, openEnd))\n        return;\n    if (toI < children.length) {\n        let after = children[toI];\n        // Make sure the end of the child after the update is preserved in `after`\n        if (after && toOff < after.length) {\n            // If we're splitting a child, separate part of it to avoid that\n            // being mangled when updating the child before the update.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                insert[insert.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                insert.push(after);\n            }\n        }\n        else if (after === null || after === void 0 ? void 0 : after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n    }\n    if (before) {\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && insert.length && before.merge(fromOff, before.length, insert[0], false, openStart, 0)) {\n                before.breakAfter = insert.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n    }\n    // Try to merge widgets on the boundaries of the replacement\n    while (fromI < toI && insert.length) {\n        if (children[toI - 1].become(insert[insert.length - 1])) {\n            toI--;\n            insert.pop();\n            openEnd = insert.length ? 0 : openStart;\n        }\n        else if (children[fromI].become(insert[0])) {\n            fromI++;\n            insert.shift();\n            openStart = insert.length ? 0 : openEnd;\n        }\n        else {\n            break;\n        }\n    }\n    if (!insert.length && fromI && toI < children.length && !children[fromI - 1].breakAfter &&\n        children[toI].merge(0, 0, children[fromI - 1], false, openStart, openEnd))\n        fromI--;\n    if (fromI < toI || insert.length)\n        parent.replaceChildren(fromI, toI, insert);\n}\nfunction mergeChildrenInto(parent, from, to, insert, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of insert)\n        dLen += view.length;\n    parent.length += dLen;\n    replaceRange(parent, fromI, fromOff, toI, toOff, insert, 0, openStart, openEnd);\n}\n\nlet nav = typeof navigator != \"undefined\" ? navigator : { userAgent: \"\", vendor: \"\", platform: \"\" };\nlet doc = typeof document != \"undefined\" ? document : { documentElement: { style: {} } };\nconst ie_edge = /*@__PURE__*//Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /*@__PURE__*//MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /*@__PURE__*//Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /*@__PURE__*//gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /*@__PURE__*//Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /*@__PURE__*//Apple Computer/.test(nav.vendor);\nconst ios = safari && (/*@__PURE__*//Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);\nvar browser = {\n    mac: ios || /*@__PURE__*//Mac/.test(nav.platform),\n    windows: /*@__PURE__*//Win/.test(nav.platform),\n    linux: /*@__PURE__*//Linux|X11/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/*@__PURE__*//Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios,\n    android: /*@__PURE__*//Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/*@__PURE__*//\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst MaxJoinLen = 256;\nclass TextView extends ContentView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType == 3)\n            this.createDOM(dom);\n    }\n    merge(from, to, source) {\n        if (source && (!(source instanceof TextView) || this.length - (to - from) + source.length > MaxJoinLen))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = new TextView(this.text.slice(from));\n        this.text = this.text.slice(0, from);\n        this.markDirty();\n        return result;\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends ContentView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    setAttrs(dom) {\n        clearAttributes(dom);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        return dom;\n    }\n    reuseDOM(node) {\n        if (node.nodeName == this.mark.tagName.toUpperCase()) {\n            this.setDOM(node);\n            this.dirty |= 4 /* Dirty.Attrs */ | 2 /* Dirty.Node */;\n        }\n    }\n    sync(track) {\n        if (!this.dom)\n            this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));\n        else if (this.dirty & 4 /* Dirty.Attrs */)\n            this.setAttrs(this.dom);\n        super.sync(track);\n    }\n    merge(from, to, source, _hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = [], off = 0, detachFrom = -1, i = 0;\n        for (let elt of this.children) {\n            let end = off + elt.length;\n            if (end > from)\n                result.push(off < from ? elt.split(from - off) : elt);\n            if (detachFrom < 0 && off >= from)\n                detachFrom = i;\n            off = end;\n            i++;\n        }\n        let length = this.length - from;\n        this.length = from;\n        if (detachFrom > -1) {\n            this.children.length = detachFrom;\n            this.markDirty();\n        }\n        return new MarkView(this.mark, result, length);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else if (to < length) {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else if (to < length)\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return Rect0;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect || null;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends ContentView {\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n        this.prevWidget = null;\n    }\n    static create(widget, length, side) {\n        return new (widget.customView || WidgetView)(widget, length, side);\n    }\n    split(from) {\n        let result = WidgetView.create(this.widget, this.length - from, this.side);\n        this.length -= from;\n        return result;\n    }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {\n            if (this.widget.constructor == other.widget.constructor) {\n                if (!this.widget.eq(other.widget))\n                    this.markDirty(true);\n                if (this.dom && !this.prevWidget)\n                    this.prevWidget = this.widget;\n                this.widget = other.widget;\n                return true;\n            }\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let view = top.editorView, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : Text.empty;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return Rect0;\n        for (let i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return this.length ? rect : flattenRect(rect, this.side > 0);\n    }\n    get isEditable() { return false; }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\nclass CompositionView extends WidgetView {\n    domAtPos(pos) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return new DOMPos(text, Math.min(pos, text.nodeValue.length));\n        return scanCompositionTree(pos, 0, topView, text, (v, p) => v.domAtPos(p), p => new DOMPos(text, Math.min(p, text.nodeValue.length)));\n    }\n    sync() { this.setDOM(this.widget.toDOM()); }\n    localPosFromDOM(node, offset) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return Math.min(offset, this.length);\n        return posFromDOMInCompositionTree(node, offset, topView, text);\n    }\n    ignoreMutation() { return false; }\n    get overrideDOMText() { return null; }\n    coordsAt(pos, side) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return textCoords(text, pos, side);\n        return scanCompositionTree(pos, side, topView, text, (v, pos, side) => v.coordsAt(pos, side), (pos, side) => textCoords(text, pos, side));\n    }\n    destroy() {\n        var _a;\n        super.destroy();\n        (_a = this.widget.topView) === null || _a === void 0 ? void 0 : _a.destroy();\n    }\n    get isEditable() { return true; }\n    canReuseDOM() { return true; }\n}\n// Uses the old structure of a chunk of content view frozen for\n// composition to try and find a reasonable DOM location for the given\n// offset.\nfunction scanCompositionTree(pos, side, view, text, enterView, fromText) {\n    if (view instanceof MarkView) {\n        for (let child = view.dom.firstChild; child; child = child.nextSibling) {\n            let desc = ContentView.get(child);\n            if (!desc)\n                return fromText(pos, side);\n            let hasComp = contains(child, text);\n            let len = desc.length + (hasComp ? text.nodeValue.length : 0);\n            if (pos < len || pos == len && desc.getSide() <= 0)\n                return hasComp ? scanCompositionTree(pos, side, desc, text, enterView, fromText) : enterView(desc, pos, side);\n            pos -= len;\n        }\n        return enterView(view, view.length, -1);\n    }\n    else if (view.dom == text) {\n        return fromText(pos, side);\n    }\n    else {\n        return enterView(view, pos, side);\n    }\n}\nfunction posFromDOMInCompositionTree(node, offset, view, text) {\n    if (view instanceof MarkView) {\n        for (let child of view.children) {\n            let pos = 0, hasComp = contains(child.dom, text);\n            if (contains(child.dom, node))\n                return pos + (hasComp ? posFromDOMInCompositionTree(node, offset, child, text) : child.localPosFromDOM(node, offset));\n            pos += hasComp ? text.nodeValue.length : child.length;\n        }\n    }\n    else if (view.dom == text) {\n        return Math.min(offset, text.nodeValue.length);\n    }\n    return view.localPosFromDOM(node, offset);\n}\n// These are drawn around uneditable widgets to avoid a number of\n// browser bugs that show up when the cursor is directly next to\n// uneditable inline content.\nclass WidgetBufferView extends ContentView {\n    constructor(side) {\n        super();\n        this.side = side;\n    }\n    get length() { return 0; }\n    merge() { return false; }\n    become(other) {\n        return other instanceof WidgetBufferView && other.side == this.side;\n    }\n    split() { return new WidgetBufferView(this.side); }\n    sync() {\n        if (!this.dom) {\n            let dom = document.createElement(\"img\");\n            dom.className = \"cm-widgetBuffer\";\n            dom.setAttribute(\"aria-hidden\", \"true\");\n            this.setDOM(dom);\n        }\n    }\n    getSide() { return this.side; }\n    domAtPos(pos) { return DOMPos.before(this.dom); }\n    localPosFromDOM() { return 0; }\n    domBoundsAround() { return null; }\n    coordsAt(pos) {\n        let imgRect = this.dom.getBoundingClientRect();\n        // Since the <img> height doesn't correspond to text height, try\n        // to borrow the height from some sibling node.\n        let siblingRect = inlineSiblingRect(this, this.side > 0 ? -1 : 1);\n        return siblingRect && siblingRect.top < imgRect.bottom && siblingRect.bottom > imgRect.top\n            ? { left: imgRect.left, right: imgRect.right, top: siblingRect.top, bottom: siblingRect.bottom } : imgRect;\n    }\n    get overrideDOMText() {\n        return Text.empty;\n    }\n}\nTextView.prototype.children = WidgetView.prototype.children = WidgetBufferView.prototype.children = noChildren;\nfunction inlineSiblingRect(view, side) {\n    let parent = view.parent, index = parent ? parent.children.indexOf(view) : -1;\n    while (parent && index >= 0) {\n        if (side < 0 ? index > 0 : index < parent.children.length) {\n            let next = parent.children[index + side];\n            if (next instanceof TextView) {\n                let nextRect = next.coordsAt(side < 0 ? next.length : 0, side);\n                if (nextRect)\n                    return nextRect;\n            }\n            index += side;\n        }\n        else if (parent instanceof MarkView && parent.parent) {\n            index = parent.parent.children.indexOf(parent) + (side < 0 ? 0 : 1);\n            parent = parent.parent;\n        }\n        else {\n            let last = parent.dom.lastChild;\n            if (last && last.nodeName == \"BR\")\n                return last.getClientRects()[0];\n            break;\n        }\n    }\n    return undefined;\n}\nfunction inlineDOMAtPos(parent, pos) {\n    let dom = parent.dom, { children } = parent, i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    for (let j = i; j > 0; j--) {\n        let prev = children[j - 1];\n        if (prev.dom.parentNode == dom)\n            return prev.domAtPos(prev.length);\n    }\n    for (let j = i; j < children.length; j++) {\n        let next = children[j];\n        if (next.dom.parentNode == dom)\n            return next.domAtPos(0);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    let before = null, beforePos = -1, after = null, afterPos = -1;\n    function scan(view, pos) {\n        for (let i = 0, off = 0; i < view.children.length && off <= pos; i++) {\n            let child = view.children[i], end = off + child.length;\n            if (end >= pos) {\n                if (child.children.length) {\n                    scan(child, pos - off);\n                }\n                else if (!after && (end > pos || off == end && child.getSide() > 0)) {\n                    after = child;\n                    afterPos = pos - off;\n                }\n                else if (off < pos || (off == end && child.getSide() < 0)) {\n                    before = child;\n                    beforePos = pos - off;\n                }\n            }\n            off = end;\n        }\n    }\n    scan(view, pos);\n    let target = (side < 0 ? before : after) || before || after;\n    if (target)\n        return target.coordsAt(Math.max(0, target == before ? beforePos : afterPos), side);\n    return fallbackRect(view);\n}\nfunction fallbackRect(view) {\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1] || null;\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (let key of keysA) {\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    let changed = null;\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs))\n                dom.removeAttribute(changed = name);\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name]))\n                dom.setAttribute(changed = name, attrs[name]);\n    return !!changed;\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even if the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(dom) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(event) { return true; }\n    /**\n    @internal\n    */\n    get customView() { return null; }\n    /**\n    This is called when the an instance of the widget is removed\n    from the editor view.\n    */\n    destroy(dom) { }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nvar BlockType = /*@__PURE__*/(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\nreturn BlockType})(BlockType || (BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#state.Range), which adds a start and end position.\n@nonabstract\n*/\nclass Decoration extends RangeValue {\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), with\n    the higher-precedence decorations creating the inner DOM nodes.\n    Such elements are split on line boundaries and on the boundaries\n    of lower-precedence decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which displays a DOM element at the\n    given position.\n    */\n    static widget(spec) {\n        let side = spec.side || 0, block = !!spec.block;\n        side += block ? (side > 0 ? 300000000 /* Side.BlockAfter */ : -400000000 /* Side.BlockBefore */) : (side > 0 ? 100000000 /* Side.InlineAfter */ : -100000000 /* Side.InlineBefore */);\n        return new PointDecoration(spec, side, side, block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block, startSide, endSide;\n        if (spec.isBlockGap) {\n            startSide = -500000000 /* Side.GapStart */;\n            endSide = 400000000 /* Side.GapEnd */;\n        }\n        else {\n            let { start, end } = getInclusive(spec, block);\n            startSide = (start ? (block ? -300000000 /* Side.BlockIncStart */ : -1 /* Side.InlineIncStart */) : 500000000 /* Side.NonIncStart */) - 1;\n            endSide = (end ? (block ? 200000000 /* Side.BlockIncEnd */ : 1 /* Side.InlineIncEnd */) : -600000000 /* Side.NonIncEnd */) + 1;\n        }\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(start ? -1 /* Side.InlineIncStart */ : 500000000 /* Side.NonIncStart */, end ? 1 /* Side.InlineIncEnd */ : -600000000 /* Side.NonIncEnd */, null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                this.class == other.class &&\n                attrsEq(this.attrs, other.attrs);\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-200000000 /* Side.Line */, -200000000 /* Side.Line */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration &&\n            this.spec.class == other.spec.class &&\n            attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? MapMode.TrackDel : startSide <= 0 ? MapMode.TrackBefore : MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide < this.endSide ? BlockType.WidgetRange\n            : this.startSide <= 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;\n    }\n    get heightRelevant() { return this.block || !!this.widget && this.widget.estimatedHeight >= 5; }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide <= 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec, block = false) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start !== null && start !== void 0 ? start : block, end: end !== null && end !== void 0 ? end : block };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin >= from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (hasStart)\n            this.setDeco(source ? source.attrs : null);\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].split(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, false, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0)\n            this.children[--i].destroy();\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        this.markDirty();\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes, cls = deco.spec.class;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n        if (cls)\n            this.attrs = combineAttrs({ class: cls }, this.attrs || {});\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this, pos);\n    }\n    reuseDOM(node) {\n        if (node.nodeName == \"DIV\") {\n            this.setDOM(node);\n            this.dirty |= 4 /* Dirty.Attrs */ | 2 /* Dirty.Node */;\n        }\n    }\n    sync(track) {\n        var _a;\n        if (!this.dom) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        else if (this.dirty & 4 /* Dirty.Attrs */) {\n            clearAttributes(this.dom);\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(track);\n        let last = this.dom.lastChild;\n        while (last && ContentView.get(last) instanceof MarkView)\n            last = last.lastChild;\n        if (!last || !this.length ||\n            last.nodeName != \"BR\" && ((_a = ContentView.get(last)) === null || _a === void 0 ? void 0 : _a.isEditable) == false &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0;\n        for (let child of this.children) {\n            if (!(child instanceof TextView) || /[^ -~]/.test(child.text))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return !totalWidth ? null : {\n            lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length\n        };\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n    become(_other) { return false; }\n    get type() { return BlockType.Text; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0; i < docView.children.length; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (end > pos)\n                    break;\n            }\n            off = end + block.breakAfter;\n        }\n        return null;\n    }\n}\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, type) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.type = type;\n        this.breakAfter = 0;\n        this.prevWidget = null;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        let end = new BlockWidgetView(this.widget, len, this.type);\n        end.breakAfter = this.breakAfter;\n        return end;\n    }\n    get children() { return noChildren; }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text.empty;\n    }\n    domBoundsAround() { return null; }\n    become(other) {\n        if (other instanceof BlockWidgetView && other.type == this.type &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.eq(this.widget))\n                this.markDirty(true);\n            if (this.dom && !this.prevWidget)\n                this.prevWidget = this.widget;\n            this.widget = other.widget;\n            this.length = other.length;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end, disallowBlockEffectsFor) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.disallowBlockEffectsFor = disallowBlockEffectsFor;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.pendingBuffer = 0 /* Buf.No */;\n        this.bufferMarks = [];\n        // Set to false directly after a widget that covers the position after it\n        this.atCursorPos = true;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == BlockType.WidgetBefore);\n    }\n    getLine() {\n        if (!this.curLine) {\n            this.content.push(this.curLine = new LineView);\n            this.atCursorPos = true;\n        }\n        return this.curLine;\n    }\n    flushBuffer(active = this.bufferMarks) {\n        if (this.pendingBuffer) {\n            this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);\n            this.pendingBuffer = 0 /* Buf.No */;\n        }\n    }\n    addBlockWidget(view) {\n        this.flushBuffer();\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish(openEnd) {\n        if (this.pendingBuffer && openEnd <= this.bufferMarks.length)\n            this.flushBuffer();\n        else\n            this.pendingBuffer = 0 /* Buf.No */;\n        if (!this.posCovered())\n            this.getLine();\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.flushBuffer();\n                    this.curLine = null;\n                    this.atCursorPos = true;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* T.Chunk */);\n            this.flushBuffer(active.slice(active.length - openStart));\n            this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.atCursorPos = true;\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart, index) {\n        if (this.disallowBlockEffectsFor[index] && deco instanceof PointDecoration) {\n            if (deco.block)\n                throw new RangeError(\"Block decorations may not be specified via plugins\");\n            if (to > this.doc.lineAt(this.pos).to)\n                throw new RangeError(\"Decorations that replace line breaks may not be specified via plugins\");\n        }\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                let { type } = deco;\n                if (type == BlockType.WidgetAfter && !this.posCovered())\n                    this.getLine();\n                this.addBlockWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, type));\n            }\n            else {\n                let view = WidgetView.create(deco.widget || new NullWidget(\"span\"), len, len ? 0 : deco.startSide);\n                let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length && (from < to || deco.startSide > 0);\n                let cursorAfter = !view.isEditable && (from < to || openStart > active.length || deco.startSide <= 0);\n                let line = this.getLine();\n                if (this.pendingBuffer == 2 /* Buf.IfCursor */ && !cursorBefore)\n                    this.pendingBuffer = 0 /* Buf.No */;\n                this.flushBuffer(active);\n                if (cursorBefore) {\n                    line.append(wrapMarks(new WidgetBufferView(1), active), openStart);\n                    openStart = active.length + Math.max(0, openStart - active.length);\n                }\n                line.append(wrapMarks(view, active), openStart);\n                this.atCursorPos = cursorAfter;\n                this.pendingBuffer = !cursorAfter ? 0 /* Buf.No */ : from < to || openStart > active.length ? 1 /* Buf.Yes */ : 2 /* Buf.IfCursor */;\n                if (this.pendingBuffer)\n                    this.bufferMarks = active.slice();\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations, dynamicDecorationMap) {\n        let builder = new ContentBuilder(text, from, to, dynamicDecorationMap);\n        builder.openEnd = RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish(builder.openEnd);\n        return builder;\n    }\n}\nfunction wrapMarks(view, active) {\n    for (let mark of active)\n        view = new MarkView(mark, [view], view.length);\n    return view;\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n}\n\nconst clickAddsSelectionRange = /*@__PURE__*/Facet.define();\nconst dragMovesSelection$1 = /*@__PURE__*/Facet.define();\nconst mouseSelectionStyle = /*@__PURE__*/Facet.define();\nconst exceptionSink = /*@__PURE__*/Facet.define();\nconst updateListener = /*@__PURE__*/Facet.define();\nconst inputHandler = /*@__PURE__*/Facet.define();\nconst perLineTextDirection = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\nconst nativeSelectionHidden = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\nclass ScrollTarget {\n    constructor(range, y = \"nearest\", x = \"nearest\", yMargin = 5, xMargin = 5) {\n        this.range = range;\n        this.y = y;\n        this.x = x;\n        this.yMargin = yMargin;\n        this.xMargin = xMargin;\n    }\n    map(changes) {\n        return changes.empty ? this : new ScrollTarget(this.range.map(changes), this.y, this.x, this.yMargin, this.xMargin);\n    }\n}\nconst scrollIntoView = /*@__PURE__*/StateEffect.define({ map: (t, ch) => t.map(ch) });\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : true });\nlet nextPluginID = 0;\nconst viewPlugin = /*@__PURE__*/Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    domEventHandlers, buildExtensions) {\n        this.id = id;\n        this.create = create;\n        this.domEventHandlers = domEventHandlers;\n        this.extension = buildExtensions(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        const { eventHandlers, provide, decorations: deco } = spec || {};\n        return new ViewPlugin(nextPluginID++, create, eventHandlers, plugin => {\n            let ext = [viewPlugin.of(plugin)];\n            if (deco)\n                ext.push(decorations.of(view => {\n                    let pluginInst = view.plugin(plugin);\n                    return pluginInst ? deco(pluginInst) : Decoration.none;\n                }));\n            if (provide)\n                ext.push(provide(plugin));\n            return ext;\n        });\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    update(view) {\n        if (!this.value) {\n            if (this.spec) {\n                try {\n                    this.value = this.spec.create(view);\n                }\n                catch (e) {\n                    logException(view.state, e, \"CodeMirror plugin crashed\");\n                    this.deactivate();\n                }\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (this.value.update) {\n                try {\n                    this.value.update(update);\n                }\n                catch (e) {\n                    logException(update.state, e, \"CodeMirror plugin crashed\");\n                    if (this.value.destroy)\n                        try {\n                            this.value.destroy();\n                        }\n                        catch (_) { }\n                    this.deactivate();\n                }\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n    deactivate() {\n        this.spec = this.value = null;\n    }\n}\nconst editorAttributes = /*@__PURE__*/Facet.define();\nconst contentAttributes = /*@__PURE__*/Facet.define();\n// Provide decorations\nconst decorations = /*@__PURE__*/Facet.define();\nconst atomicRanges = /*@__PURE__*/Facet.define();\nconst scrollMargins = /*@__PURE__*/Facet.define();\nconst styleModule = /*@__PURE__*/Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions) {\n        this.view = view;\n        this.state = state;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            view.inputState.notifiedFocused = focus;\n            this.flags |= 1 /* UpdateFlag.Focus */;\n        }\n    }\n    /**\n    @internal\n    */\n    static create(view, state, transactions) {\n        return new ViewUpdate(view, state, transactions);\n    }\n    /**\n    Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or\n    [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this\n    update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* UpdateFlag.Viewport */) > 0;\n    }\n    /**\n    Indicates whether the height of a block element in the editor\n    changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* UpdateFlag.Height */) > 0;\n    }\n    /**\n    Returns true when the document was modified or the size of the\n    editor, or elements within the editor, changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (8 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* UpdateFlag.Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return !this.changes.empty;\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nvar Direction = /*@__PURE__*/(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\nreturn Direction})(Direction || (Direction = {}));\nconst LTR = Direction.LTR, RTL = Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = /*@__PURE__*/dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = /*@__PURE__*/dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = /*@__PURE__*/Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = /*@__PURE__*/p.charCodeAt(0), r = /*@__PURE__*/p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* T.R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* T.AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* T.NI */ :\n                        0xfb50 <= ch && ch <= 0xfdff ? 4 /* T.AL */ :\n                            ch == 0x200c ? 256 /* T.NI */ : 1 /* T.L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\ufb50-\\ufdff]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\n// Reused array of character types\nconst types = [];\nfunction computeOrder(line, direction) {\n    let len = line.length, outerType = direction == LTR ? 1 /* T.L */ : 2 /* T.R */, oppositeType = direction == LTR ? 2 /* T.R */ : 1 /* T.L */;\n    if (!line || outerType == 1 /* T.L */ && !BidiRE.test(line))\n        return trivialOrder(len);\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    // (Left after this: L, R, EN, AN, ET, CS, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = charType(line.charCodeAt(i));\n        if (type == 512 /* T.NSM */)\n            type = prev;\n        else if (type == 8 /* T.EN */ && prevStrong == 4 /* T.AL */)\n            type = 16 /* T.AN */;\n        types[i] = type == 4 /* T.AL */ ? 2 /* T.R */ : type;\n        if (type & 7 /* T.Strong */)\n            prevStrong = type;\n        prev = type;\n    }\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    // (Left after this: L, R, EN+AN, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = types[i];\n        if (type == 128 /* T.CS */) {\n            if (i < len - 1 && prev == types[i + 1] && (prev & 24 /* T.Num */))\n                type = types[i] = prev;\n            else\n                types[i] = 256 /* T.NI */;\n        }\n        else if (type == 64 /* T.ET */) {\n            let end = i + 1;\n            while (end < len && types[end] == 64 /* T.ET */)\n                end++;\n            let replace = (i && prev == 8 /* T.EN */) || (end < len && types[end] == 8 /* T.EN */) ? (prevStrong == 1 /* T.L */ ? 1 /* T.L */ : 8 /* T.EN */) : 256 /* T.NI */;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n        else if (type == 8 /* T.EN */ && prevStrong == 1 /* T.L */) {\n            types[i] = 1 /* T.L */;\n        }\n        prev = type;\n        if (type & 7 /* T.Strong */)\n            prevStrong = type;\n    }\n    // N0. Process bracket pairs in an isolating run sequence\n    // sequentially in the logical order of the text positions of the\n    // opening paired brackets using the logic given below. Within this\n    // scope, bidirectional types EN and AN are treated as R.\n    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {\n        // Keeps [startIndex, type, strongSeen] triples for each open\n        // bracket on BracketStack.\n        if (br = Brackets[ch = line.charCodeAt(i)]) {\n            if (br < 0) { // Closing bracket\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    if (BracketStack[sJ + 1] == -br) {\n                        let flags = BracketStack[sJ + 2];\n                        let type = (flags & 2 /* Bracketed.EmbedInside */) ? outerType :\n                            !(flags & 4 /* Bracketed.OppositeInside */) ? 0 :\n                                (flags & 1 /* Bracketed.OppositeBefore */) ? oppositeType : outerType;\n                        if (type)\n                            types[i] = types[BracketStack[sJ]] = type;\n                        sI = sJ;\n                        break;\n                    }\n                }\n            }\n            else if (BracketStack.length == 189 /* Bracketed.MaxDepth */) {\n                break;\n            }\n            else {\n                BracketStack[sI++] = i;\n                BracketStack[sI++] = ch;\n                BracketStack[sI++] = context;\n            }\n        }\n        else if ((type = types[i]) == 2 /* T.R */ || type == 1 /* T.L */) {\n            let embed = type == outerType;\n            context = embed ? 0 : 1 /* Bracketed.OppositeBefore */;\n            for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                let cur = BracketStack[sJ + 2];\n                if (cur & 2 /* Bracketed.EmbedInside */)\n                    break;\n                if (embed) {\n                    BracketStack[sJ + 2] |= 2 /* Bracketed.EmbedInside */;\n                }\n                else {\n                    if (cur & 4 /* Bracketed.OppositeInside */)\n                        break;\n                    BracketStack[sJ + 2] |= 4 /* Bracketed.OppositeInside */;\n                }\n            }\n        }\n    }\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    // (Left after this: L, R, EN+AN)\n    for (let i = 0; i < len; i++) {\n        if (types[i] == 256 /* T.NI */) {\n            let end = i + 1;\n            while (end < len && types[end] == 256 /* T.NI */)\n                end++;\n            let beforeL = (i ? types[i - 1] : outerType) == 1 /* T.L */;\n            let afterL = (end < len ? types[end] : outerType) == 1 /* T.L */;\n            let replace = beforeL == afterL ? (beforeL ? 1 /* T.L */ : 2 /* T.R */) : outerType;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n    }\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    let order = [];\n    if (outerType == 1 /* T.L */) {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] != 1 /* T.L */;\n            while (i < len && rtl == (types[i] != 1 /* T.L */))\n                i++;\n            if (rtl) {\n                for (let j = i; j > start;) {\n                    let end = j, l = types[--j] != 2 /* T.R */;\n                    while (j > start && l == (types[j - 1] != 2 /* T.R */))\n                        j--;\n                    order.push(new BidiSpan(j, end, l ? 2 : 1));\n                }\n            }\n            else {\n                order.push(new BidiSpan(start, i, 0));\n            }\n        }\n    }\n    else {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] == 2 /* T.R */;\n            while (i < len && rtl == (types[i] == 2 /* T.R */))\n                i++;\n            order.push(new BidiSpan(start, i, rtl ? 1 : 2));\n        }\n    }\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nconst LineBreakPlaceholder = \"\\uffff\";\nclass DOMReader {\n    constructor(points, state) {\n        this.points = points;\n        this.text = \"\";\n        this.lineSeparator = state.facet(EditorState.lineSeparator);\n    }\n    append(text) {\n        this.text += text;\n    }\n    lineBreak() {\n        this.text += LineBreakPlaceholder;\n    }\n    readRange(start, end) {\n        if (!start)\n            return this;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if (view && nextView ? view.breakAfter :\n                (view ? view.breakAfter : isBlockElement(cur)) ||\n                    (isBlockElement(next) && (cur.nodeName != \"BR\" || cur.cmIgnore)))\n                this.lineBreak();\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n        return this;\n    }\n    readTextNode(node) {\n        let text = node.nodeValue;\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, text.length);\n        for (let off = 0, re = this.lineSeparator ? null : /\\r\\n?|\\n/g;;) {\n            let nextBreak = -1, breakSize = 1, m;\n            if (this.lineSeparator) {\n                nextBreak = text.indexOf(this.lineSeparator, off);\n                breakSize = this.lineSeparator.length;\n            }\n            else if (m = re.exec(text)) {\n                nextBreak = m.index;\n                breakSize = m[0].length;\n            }\n            this.append(text.slice(off, nextBreak < 0 ? text.length : nextBreak));\n            if (nextBreak < 0)\n                break;\n            this.lineBreak();\n            if (breakSize > 1)\n                for (let point of this.points)\n                    if (point.node == node && point.pos > this.text.length)\n                        point.pos -= breakSize - 1;\n            off = nextBreak + breakSize;\n        }\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        if (fromView != null) {\n            this.findPointInside(node, fromView.length);\n            for (let i = fromView.iter(); !i.next().done;) {\n                if (i.lineBreak)\n                    this.lineBreak();\n                else\n                    this.append(i.value);\n            }\n        }\n        else if (node.nodeType == 3) {\n            this.readTextNode(node);\n        }\n        else if (node.nodeName == \"BR\") {\n            if (node.nextSibling)\n                this.lineBreak();\n        }\n        else if (node.nodeType == 1) {\n            this.readRange(node.firstChild, null);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointInside(node, maxLen) {\n        for (let point of this.points)\n            if (node.nodeType == 3 ? point.node == node : node.contains(point.node))\n                point.pos = this.text.length + Math.min(maxLen, point.offset);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\n\nclass DocView extends ContentView {\n    constructor(view) {\n        super();\n        this.view = view;\n        this.compositionDeco = Decoration.none;\n        this.decorations = [];\n        this.dynamicDecorationMap = [];\n        // Track a minimum width for the editor. When measuring sizes in\n        // measureVisibleLineHeights, this is updated to point at the width\n        // of a given element and its extent in the document. When a change\n        // happens in that range, these are reset. That way, once we've seen\n        // a line/element of a given length, we keep the editor wide enough\n        // to fit at least that element, until it is changed, at which point\n        // we forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.forceSelection = false;\n        // Used by the resize observer to ignore resizes that we caused\n        // ourselves\n        this.lastUpdate = Date.now();\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateDeco();\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], 0);\n    }\n    get editorView() { return this.view; }\n    get length() { return this.view.state.doc.length; }\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    update(update) {\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = this.minWidthFrom = this.minWidthTo = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        if (this.view.inputState.composing < 0)\n            this.compositionDeco = Decoration.none;\n        else if (update.transactions.length || this.dirty)\n            this.compositionDeco = computeCompositionDeco(this.view, update.changes);\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        if ((browser.ie || browser.chrome) && !this.compositionDeco.size && update &&\n            update.state.doc.lines != update.startState.doc.lines)\n            this.forceSelection = true;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        if (this.dirty == 0 /* Dirty.Not */ && changedRanges.length == 0) {\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, update.startState.doc.length);\n            if (update.transactions.length)\n                this.lastUpdate = Date.now();\n            return true;\n        }\n    }\n    // Used by update and the constructor do perform the actual DOM\n    // update\n    updateInner(changes, oldLength) {\n        this.view.viewState.mustMeasureContent = true;\n        this.updateChildren(changes, oldLength);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.contentHeight + \"px\";\n            this.dom.style.flexBasis = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(track);\n            this.dirty = 0 /* Dirty.Not */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                this.forceSelection = true;\n            this.dom.style.height = \"\";\n        });\n        let gaps = [];\n        if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)\n            for (let child of this.children)\n                if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)\n                    gaps.push(child.dom);\n        observer.updateGaps(gaps);\n    }\n    updateChildren(changes, oldLength) {\n        let cursor = this.childCursor(oldLength);\n        for (let i = changes.length - 1;; i--) {\n            let next = i >= 0 ? changes[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next;\n            let { content, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, this.decorations, this.dynamicDecorationMap);\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            replaceRange(this, fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(mustRead = false, fromPointer = false) {\n        if (mustRead || !this.view.observer.selectionRange.focusNode)\n            this.view.observer.readSelectionRange();\n        if (!(fromPointer || this.mayControlSelection()))\n            return;\n        let force = this.forceSelection;\n        this.forceSelection = false;\n        let main = this.view.state.selection.main;\n        // FIXME need to handle the case where the selection falls inside a block range\n        let anchor = this.domAtPos(main.anchor);\n        let head = main.empty ? anchor : this.domAtPos(main.head);\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                // Chrome Android will hide the virtual keyboard when tapping\n                // inside an uneditable node, and not bring it back when we\n                // move the cursor to its proper position. This tries to\n                // restore the keyboard by cycling focus.\n                if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) &&\n                    inUneditable(domSel.focusNode, this.dom)) {\n                    this.dom.blur();\n                    this.dom.focus({ preventScroll: true });\n                }\n                let rawSel = getSelection(this.view.root);\n                if (!rawSel) ;\n                else if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* NextTo.Before */ | 2 /* NextTo.After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* NextTo.Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text, nextTo == 1 /* NextTo.Before */ ? 0 : text.nodeValue.length);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && domSel.cursorBidiLevel != null)\n                        domSel.cursorBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    // Safari will ignore the call above when the editor is\n                    // hidden, and then raise an error on the call to extend\n                    // (#940).\n                    try {\n                        rawSel.extend(head.node, head.offset);\n                    }\n                    catch (_) { }\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.compositionDeco.size)\n            return;\n        let { view } = this, cursor = view.state.selection.main;\n        let sel = getSelection(view.root);\n        let { anchorNode, anchorOffset } = view.observer.selectionRange;\n        if (!sel || !cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head);\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n        // This can go wrong in corner cases like single-character lines,\n        // so check and reset if necessary.\n        view.observer.readSelectionRange();\n        let newRange = view.observer.selectionRange;\n        if (view.docView.posFromDOM(newRange.anchorNode, newRange.anchorOffset) != cursor.from)\n            sel.collapse(anchorNode, anchorOffset);\n    }\n    mayControlSelection() {\n        let active = this.view.root.activeElement;\n        return active == this.dom ||\n            hasSelection(this.dom, this.view.observer.selectionRange) && !(active && this.dom.contains(active));\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        for (let off = this.length, i = this.children.length - 1;; i--) {\n            let child = this.children[i], start = off - child.breakAfter - child.length;\n            if (pos > start ||\n                (pos == start && child.type != BlockType.WidgetBefore && child.type != BlockType.WidgetAfter &&\n                    (!i || side == 2 || this.children[i - 1].breakAfter ||\n                        (this.children[i - 1].type == BlockType.WidgetBefore && side > -2))))\n                return child.coordsAt(pos - start, side);\n            off = start;\n        }\n    }\n    measureVisibleLineHeights(viewport) {\n        let result = [], { from, to } = viewport;\n        let contentWidth = this.view.contentDOM.clientWidth;\n        let isWider = contentWidth > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        let widest = -1, ltr = this.view.textDirection == Direction.LTR;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                let childRect = child.dom.getBoundingClientRect();\n                result.push(childRect.height);\n                if (isWider) {\n                    let last = child.dom.lastChild;\n                    let rects = last ? clientRectsFor(last) : [];\n                    if (rects.length) {\n                        let rect = rects[rects.length - 1];\n                        let width = ltr ? rect.right - childRect.left : childRect.right - rect.left;\n                        if (width > widest) {\n                            widest = width;\n                            this.minWidth = contentWidth;\n                            this.minWidthFrom = pos;\n                            this.minWidthTo = end;\n                        }\n                    }\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    textDirectionAt(pos) {\n        let { i } = this.childPos(pos, 1);\n        return getComputedStyle(this.children[i].dom).direction == \"rtl\" ? Direction.RTL : Direction.LTR;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.className = \"cm-line\";\n        dummy.style.width = \"99999px\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = vs.lineBlockAt(end).bottom - vs.lineBlockAt(pos).top;\n                deco.push(Decoration.replace({\n                    widget: new BlockGapWidget(height),\n                    block: true,\n                    inclusive: true,\n                    isBlockGap: true,\n                }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        let allDeco = this.view.state.facet(decorations).map((d, i) => {\n            let dynamic = this.dynamicDecorationMap[i] = typeof d == \"function\";\n            return dynamic ? d(this.view) : d;\n        });\n        for (let i = allDeco.length; i < allDeco.length + 3; i++)\n            this.dynamicDecorationMap[i] = false;\n        return this.decorations = [\n            ...allDeco,\n            this.compositionDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollIntoView(target) {\n        let { range } = target;\n        let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n        if (!rect)\n            return;\n        if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n            rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n        let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;\n        for (let margins of this.view.state.facet(scrollMargins).map(f => f(this.view)))\n            if (margins) {\n                let { left, right, top, bottom } = margins;\n                if (left != null)\n                    mLeft = Math.max(mLeft, left);\n                if (right != null)\n                    mRight = Math.max(mRight, right);\n                if (top != null)\n                    mTop = Math.max(mTop, top);\n                if (bottom != null)\n                    mBottom = Math.max(mBottom, bottom);\n            }\n        let targetRect = {\n            left: rect.left - mLeft, top: rect.top - mTop,\n            right: rect.right + mRight, bottom: rect.bottom + mBottom\n        };\n        scrollRectIntoView(this.view.scrollDOM, targetRect, range.head < range.anchor ? -1 : 1, target.x, target.y, target.xMargin, target.yMargin, this.view.textDirection == Direction.LTR);\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction compositionSurroundingNode(view) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return null;\n    let cView = view.docView.nearest(textNode);\n    if (!cView)\n        return null;\n    if (cView instanceof LineView) {\n        let topNode = textNode;\n        while (topNode.parentNode != cView.dom)\n            topNode = topNode.parentNode;\n        let prev = topNode.previousSibling;\n        while (prev && !ContentView.get(prev))\n            prev = prev.previousSibling;\n        let pos = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;\n        return { from: pos, to: pos, node: topNode, text: textNode };\n    }\n    else {\n        for (;;) {\n            let { parent } = cView;\n            if (!parent)\n                return null;\n            if (parent instanceof LineView)\n                break;\n            cView = parent;\n        }\n        let from = cView.posAtStart;\n        return { from, to: from + cView.length, node: cView.dom, text: textNode };\n    }\n}\nfunction computeCompositionDeco(view, changes) {\n    let surrounding = compositionSurroundingNode(view);\n    if (!surrounding)\n        return Decoration.none;\n    let { from, to, node, text: textNode } = surrounding;\n    let newFrom = changes.mapPos(from, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));\n    let { state } = view, text = node.nodeType == 3 ? node.nodeValue :\n        new DOMReader([], state).readRange(node.firstChild, null).text;\n    if (newTo - newFrom < text.length) {\n        if (state.doc.sliceString(newFrom, Math.min(state.doc.length, newFrom + text.length), LineBreakPlaceholder) == text)\n            newTo = newFrom + text.length;\n        else if (state.doc.sliceString(Math.max(0, newTo - text.length), newTo, LineBreakPlaceholder) == text)\n            newFrom = newTo - text.length;\n        else\n            return Decoration.none;\n    }\n    else if (state.doc.sliceString(newFrom, newTo, LineBreakPlaceholder) != text) {\n        return Decoration.none;\n    }\n    let topView = ContentView.get(node);\n    if (topView instanceof CompositionView)\n        topView = topView.widget.topView;\n    else if (topView)\n        topView.parent = null;\n    return Decoration.set(Decoration.replace({ widget: new CompositionWidget(node, textNode, topView), inclusive: true })\n        .range(newFrom, newTo));\n}\nclass CompositionWidget extends WidgetType {\n    constructor(top, text, topView) {\n        super();\n        this.top = top;\n        this.text = text;\n        this.topView = topView;\n    }\n    eq(other) { return this.top == other.top && this.text == other.text; }\n    toDOM() { return this.top; }\n    ignoreEvent() { return false; }\n    get customView() { return CompositionView; }\n}\nfunction nearbyTextNode(node, offset, side) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0 && side <= 0) {\n            node = node.childNodes[offset - 1];\n            offset = maxOffset(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* NextTo.Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* NextTo.After */ : 0);\n}\nclass DecorationComparator$1 {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n}\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\nfunction inUneditable(node, inside) {\n    for (let cur = node; cur && cur != inside; cur = cur.assignedSlot || cur.parentNode) {\n        if (cur.nodeType == 1 && cur.contentEditable == 'false') {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction groupAt(state, pos, bias = 1) {\n    let categorize = state.charCategorizer(pos);\n    let line = state.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = findClusterBreak(line.text, linePos, false);\n    else\n        to = findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY, closestOverlap = false;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n                closestOverlap = !dx || (dx > 0 ? i < rects.length - 1 : i > 0);\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (closestOverlap && closest.contentEditable != \"false\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, { x, y }, precise, bias = -1) {\n    var _a;\n    let content = view.contentDOM.getBoundingClientRect(), docTop = content.top + view.viewState.paddingTop;\n    let block, { docHeight } = view.viewState;\n    let yOffset = y - docTop;\n    if (yOffset < 0)\n        return 0;\n    if (yOffset > docHeight)\n        return view.state.doc.length;\n    // Scan for a text block near the queried y position\n    for (let halfLine = view.defaultLineHeight / 2, bounced = false;;) {\n        block = view.elementAtHeight(yOffset);\n        if (block.type == BlockType.Text)\n            break;\n        for (;;) {\n            // Move the y position out of this block\n            yOffset = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n            if (yOffset >= 0 && yOffset <= docHeight)\n                break;\n            // If the document consists entirely of replaced widgets, we\n            // won't find a text block, so return 0\n            if (bounced)\n                return precise ? null : 0;\n            bounced = true;\n            bias = -bias;\n        }\n    }\n    y = docTop + yOffset;\n    let lineStart = block.from;\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length :\n            precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    // Prefer ShadowRootOrDocument.elementFromPoint if present, fall back to document if not\n    let doc = view.dom.ownerDocument;\n    let root = view.root.elementFromPoint ? view.root : doc;\n    let element = root.elementFromPoint(x, y);\n    if (element && !view.contentDOM.contains(element))\n        element = null;\n    // If the element is unexpected, clip x at the sides of the content area and try again\n    if (!element) {\n        x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n        element = root.elementFromPoint(x, y);\n        if (element && !view.contentDOM.contains(element))\n            element = null;\n    }\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && ((_a = view.docView.nearest(element)) === null || _a === void 0 ? void 0 : _a.isEditable) != false) {\n        if (doc.caretPositionFromPoint) {\n            let pos = doc.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (doc.caretRangeFromPoint) {\n            let range = doc.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (!view.contentDOM.contains(node) ||\n                    browser.safari && isSuspiciousSafariCaretResult(node, offset, x) ||\n                    browser.chrome && isSuspiciousChromeCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        if (!line)\n            return yOffset > block.top + block.height / 2 ? block.to : block.from;\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    return view.docView.posFromDOM(node, offset);\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let line = Math.floor((y - block.top) / view.defaultLineHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousSafariCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\n// Chrome will move positions between lines to the start of the next line\nfunction isSuspiciousChromeCaretResult(node, offset, x) {\n    if (offset != 0)\n        return false;\n    for (let cur = node;;) {\n        let parent = cur.parentNode;\n        if (!parent || parent.nodeType != 1 || parent.firstChild != cur)\n            return false;\n        if (parent.classList.contains(\"cm-line\"))\n            break;\n        cur = parent;\n    }\n    let rect = node.nodeType == 1 ? node.getBoundingClientRect()\n        : textRange(node, 0, Math.max(node.nodeValue.length, 1)).getBoundingClientRect();\n    return x - rect.left > 5;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = view.state.doc.lineAt(start.head);\n    let coords = !includeWrap || !view.lineWrapping ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let direction = view.textDirectionAt(line.from);\n        let pos = view.posAtCoords({ x: forward == (direction == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    let lineView = LineView.find(view.docView, start.head);\n    let end = lineView ? (forward ? lineView.posAtEnd : lineView.posAtStart) : (forward ? line.to : line.from);\n    return EditorSelection.cursor(end, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    let direction = view.textDirectionAt(line.from);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, direction, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return EditorSelection.cursor(startPos, start.assoc);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos), docTop = view.documentTop;\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineBlockAt(startPos);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = (dir < 0 ? line.top : line.bottom) + docTop;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.defaultLineHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return EditorSelection.cursor(pos, start.assoc, undefined, goal);\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let atoms = view.state.facet(atomicRanges).map(f => f(view));\n    for (;;) {\n        let moved = false;\n        for (let set of atoms) {\n            set.between(pos.from - 1, pos.from + 1, (from, to, value) => {\n                if (pos.from > from && pos.from < to) {\n                    pos = oldPos.head > pos.from ? EditorSelection.cursor(from, 1) : EditorSelection.cursor(to, -1);\n                    moved = true;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    constructor(view) {\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        this.lastTouchTime = 0;\n        this.lastFocusTime = 0;\n        this.lastScrollTop = 0;\n        this.lastScrollLeft = 0;\n        this.chromeScrollHack = -1;\n        // On iOS, some keys need to have their default behavior happen\n        // (after which we retroactively handle them and reset the DOM) to\n        // avoid messing up the virtual keyboard state.\n        this.pendingIOSKey = undefined;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.registeredEvents = [];\n        this.customHandlers = [];\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        // Tracks whether the next change should be marked as starting the\n        // composition (null means no composition, true means next is the\n        // first, false means first has already been marked for this\n        // composition)\n        this.compositionFirstChange = null;\n        this.compositionEndedAt = 0;\n        this.mouseSelection = null;\n        let handleEvent = (handler, event) => {\n            if (this.ignoreDuringComposition(event))\n                return;\n            if (event.type == \"keydown\" && this.keydown(view, event))\n                return;\n            if (this.mustFlushObserver(event))\n                view.observer.forceFlush();\n            if (this.runCustomHandlers(event.type, view, event))\n                event.preventDefault();\n            else\n                handler(view, event);\n        };\n        for (let type in handlers) {\n            let handler = handlers[type];\n            view.contentDOM.addEventListener(type, event => {\n                if (eventBelongsToEditor(view, event))\n                    handleEvent(handler, event);\n            }, handlerOptions[type]);\n            this.registeredEvents.push(type);\n        }\n        view.scrollDOM.addEventListener(\"mousedown\", (event) => {\n            if (event.target == view.scrollDOM)\n                handleEvent(handlers.mousedown, event);\n        });\n        if (browser.chrome && browser.chrome_version == 102) { // FIXME remove at some point\n            // On Chrome 102, viewport updates somehow stop wheel-based\n            // scrolling. Turning off pointer events during the scroll seems\n            // to avoid the issue.\n            view.scrollDOM.addEventListener(\"wheel\", () => {\n                if (this.chromeScrollHack < 0)\n                    view.contentDOM.style.pointerEvents = \"none\";\n                else\n                    window.clearTimeout(this.chromeScrollHack);\n                this.chromeScrollHack = setTimeout(() => {\n                    this.chromeScrollHack = -1;\n                    view.contentDOM.style.pointerEvents = \"\";\n                }, 100);\n            }, { passive: true });\n        }\n        this.notifiedFocused = view.hasFocus;\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n    }\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    ensureHandlers(view, plugins) {\n        var _a;\n        let handlers;\n        this.customHandlers = [];\n        for (let plugin of plugins)\n            if (handlers = (_a = plugin.update(view).spec) === null || _a === void 0 ? void 0 : _a.domEventHandlers) {\n                this.customHandlers.push({ plugin: plugin.value, handlers });\n                for (let type in handlers)\n                    if (this.registeredEvents.indexOf(type) < 0 && type != \"scroll\") {\n                        this.registeredEvents.push(type);\n                        view.contentDOM.addEventListener(type, (event) => {\n                            if (!eventBelongsToEditor(view, event))\n                                return;\n                            if (this.runCustomHandlers(type, view, event))\n                                event.preventDefault();\n                        });\n                    }\n            }\n    }\n    runCustomHandlers(type, view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers[type];\n            if (handler) {\n                try {\n                    if (handler.call(set.plugin, event, view) || event.defaultPrevented)\n                        return true;\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n        return false;\n    }\n    runScrollHandlers(view, event) {\n        this.lastScrollTop = view.scrollDOM.scrollTop;\n        this.lastScrollLeft = view.scrollDOM.scrollLeft;\n        for (let set of this.customHandlers) {\n            let handler = set.handlers.scroll;\n            if (handler) {\n                try {\n                    handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n    }\n    keydown(view, event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (event.keyCode == 9 && Date.now() < this.lastEscPress + 2000)\n            return true;\n        // Chrome for Android usually doesn't fire proper key events, but\n        // occasionally does, usually surrounded by a bunch of complicated\n        // composition changes. When an enter or backspace key event is\n        // seen, hold off on handling DOM events for a bit, and then\n        // dispatch it.\n        if (browser.android && browser.chrome && !event.synthetic &&\n            (event.keyCode == 13 || event.keyCode == 8)) {\n            view.observer.delayAndroidKey(event.key, event.keyCode);\n            return true;\n        }\n        // Prevent the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        let pending;\n        if (browser.ios && !event.synthetic && !event.altKey && !event.metaKey &&\n            ((pending = PendingKeys.find(key => key.keyCode == event.keyCode)) && !event.ctrlKey ||\n                EmacsyPendingKeys.indexOf(event.key) > -1 && event.ctrlKey && !event.shiftKey)) {\n            this.pendingIOSKey = pending || event;\n            setTimeout(() => this.flushIOSKey(view), 250);\n            return true;\n        }\n        return false;\n    }\n    flushIOSKey(view) {\n        let key = this.pendingIOSKey;\n        if (!key)\n            return false;\n        this.pendingIOSKey = undefined;\n        return dispatchKey(view.contentDOM, key.key, key.keyCode);\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && !browser.ios && Date.now() - this.compositionEndedAt < 100) {\n            this.compositionEndedAt = 0;\n            return true;\n        }\n        return false;\n    }\n    mustFlushObserver(event) {\n        return event.type == \"keydown\" && event.keyCode != 229;\n    }\n    startMouseSelection(mouseSelection) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = mouseSelection;\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\nconst PendingKeys = [\n    { key: \"Backspace\", keyCode: 8, inputType: \"deleteContentBackward\" },\n    { key: \"Enter\", keyCode: 13, inputType: \"insertParagraph\" },\n    { key: \"Delete\", keyCode: 46, inputType: \"deleteContentForward\" }\n];\nconst EmacsyPendingKeys = \"dthko\";\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nfunction dragScrollSpeed(dist) {\n    return dist * 0.7 + 8;\n}\nclass MouseSelection {\n    constructor(view, startEvent, style, mustSelect) {\n        this.view = view;\n        this.style = style;\n        this.mustSelect = mustSelect;\n        this.scrollSpeed = { x: 0, y: 0 };\n        this.scrolling = -1;\n        this.lastEvent = startEvent;\n        this.scrollParent = scrollableParent(view.contentDOM);\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragMove = dragMovesSelection(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) && getClickType(startEvent) == 1 ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            startEvent.preventDefault();\n            this.select(startEvent);\n        }\n    }\n    move(event) {\n        var _a;\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        this.select(this.lastEvent = event);\n        let sx = 0, sy = 0;\n        let rect = ((_a = this.scrollParent) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect())\n            || { left: 0, top: 0, right: this.view.win.innerWidth, bottom: this.view.win.innerHeight };\n        if (event.clientX <= rect.left)\n            sx = -dragScrollSpeed(rect.left - event.clientX);\n        else if (event.clientX >= rect.right)\n            sx = dragScrollSpeed(event.clientX - rect.right);\n        if (event.clientY <= rect.top)\n            sy = -dragScrollSpeed(rect.top - event.clientY);\n        else if (event.clientY >= rect.bottom)\n            sy = dragScrollSpeed(event.clientY - rect.bottom);\n        this.setScrollSpeed(sx, sy);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        this.setScrollSpeed(0, 0);\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.view.inputState.mouseSelection = null;\n    }\n    setScrollSpeed(sx, sy) {\n        this.scrollSpeed = { x: sx, y: sy };\n        if (sx || sy) {\n            if (this.scrolling < 0)\n                this.scrolling = setInterval(() => this.scroll(), 50);\n        }\n        else if (this.scrolling > -1) {\n            clearInterval(this.scrolling);\n            this.scrolling = -1;\n        }\n    }\n    scroll() {\n        if (this.scrollParent) {\n            this.scrollParent.scrollLeft += this.scrollSpeed.x;\n            this.scrollParent.scrollTop += this.scrollSpeed.y;\n        }\n        else {\n            this.view.win.scrollBy(this.scrollSpeed.x, this.scrollSpeed.y);\n        }\n        if (this.dragging === false)\n            this.select(this.lastEvent);\n    }\n    select(event) {\n        let selection = this.style.get(event, this.extend, this.multiple);\n        if (this.mustSelect || !selection.eq(this.view.state.selection) ||\n            selection.main.assoc != this.view.state.selection.main.assoc)\n            this.view.dispatch({\n                selection,\n                userEvent: \"select.pointer\"\n            });\n        this.mustSelect = false;\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (!sel || sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = /*@__PURE__*/Object.create(null);\nconst handlerOptions = /*@__PURE__*/Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard APIall the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state } = view, changes, i = 1, text = state.toText(input);\n    let byLine = text.lines == state.selection.ranges.length;\n    let linewise = lastLinewiseCopy != null && state.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state.changeByRange(range => {\n            let line = state.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        userEvent: \"input.paste\",\n        scrollIntoView: true\n    });\n}\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"select\");\n    if (event.keyCode == 27)\n        view.inputState.lastEscPress = Date.now();\n    else if (modifierCodes.indexOf(event.keyCode) < 0)\n        view.inputState.lastEscPress = 0;\n};\nhandlers.touchstart = (view, e) => {\n    view.inputState.lastTouchTime = Date.now();\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlerOptions.touchstart = handlerOptions.touchmove = { passive: true };\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (view.inputState.lastTouchTime > Date.now() - 2000)\n        return; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        let mustFocus = view.root.activeElement != view.contentDOM;\n        if (mustFocus)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        view.inputState.startMouseSelection(new MouseSelection(view, event, style, mustFocus));\n    }\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, extend, multiple) {\n            let cur = queryPos(view, event);\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? EditorSelection.range(from, to) : EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple && startSel.ranges.length > 1 && startSel.ranges.some(r => r.eq(range)))\n                return removeRange(startSel, range);\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return EditorSelection.create([range]);\n        }\n    };\n}\nfunction removeRange(sel, range) {\n    for (let i = 0;; i++) {\n        if (sel.ranges[i].eq(range))\n            return EditorSelection.create(sel.ranges.slice(0, i).concat(sel.ranges.slice(i + 1)), sel.mainIndex == i ? 0 : sel.mainIndex - (sel.mainIndex > i ? 1 : 0));\n    }\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nfunction dropText(view, event, text, direct) {\n    if (!text)\n        return;\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    event.preventDefault();\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        userEvent: del ? \"move.drop\" : \"input.drop\"\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer)\n        return;\n    if (view.state.readOnly)\n        return event.preventDefault();\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        event.preventDefault();\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n    }\n    else {\n        dropText(view, event, event.dataTransfer.getData(\"Text\"), true);\n    }\n};\nhandlers.paste = (view, event) => {\n    if (view.state.readOnly)\n        return event.preventDefault();\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        doPaste(view, data.getData(\"text/plain\"));\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text && !linewise)\n        return;\n    lastLinewiseCopy = linewise ? text : null;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\" && !view.state.readOnly)\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            userEvent: \"delete.cut\"\n        });\n};\nfunction updateForFocusChange(view) {\n    setTimeout(() => {\n        if (view.hasFocus != view.inputState.notifiedFocused)\n            view.update([]);\n    }, 10);\n}\nhandlers.focus = view => {\n    view.inputState.lastFocusTime = Date.now();\n    // When focusing reset the scroll position, move it back to where it was\n    if (!view.scrollDOM.scrollTop && (view.inputState.lastScrollTop || view.inputState.lastScrollLeft)) {\n        view.scrollDOM.scrollTop = view.inputState.lastScrollTop;\n        view.scrollDOM.scrollLeft = view.inputState.lastScrollLeft;\n    }\n    updateForFocusChange(view);\n};\nhandlers.blur = view => {\n    view.observer.clearSelectionRange();\n    updateForFocusChange(view);\n};\nhandlers.compositionstart = handlers.compositionupdate = view => {\n    if (view.inputState.compositionFirstChange == null)\n        view.inputState.compositionFirstChange = true;\n    if (view.inputState.composing < 0) {\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n    }\n};\nhandlers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    view.inputState.compositionFirstChange = null;\n    if (browser.chrome && browser.android)\n        view.observer.flushSoon();\n    setTimeout(() => {\n        // Force the composition state to be cleared if it hasn't already been\n        if (view.inputState.composing < 0 && view.docView.compositionDeco.size)\n            view.update([]);\n    }, 50);\n};\nhandlers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\nhandlers.beforeinput = (view, event) => {\n    var _a;\n    // Because Chrome Android doesn't fire useful key events, use\n    // beforeinput to detect backspace (and possibly enter and delete,\n    // but those usually don't even seem to fire beforeinput events at\n    // the moment) and fake a key event for it.\n    //\n    // (preventDefault on beforeinput, though supported in the spec,\n    // seems to do nothing at all on Chrome).\n    let pending;\n    if (browser.chrome && browser.android && (pending = PendingKeys.find(key => key.inputType == event.inputType))) {\n        view.observer.delayAndroidKey(pending.key, pending.keyCode);\n        if (pending.key == \"Backspace\" || pending.key == \"Delete\") {\n            let startViewHeight = ((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0;\n            setTimeout(() => {\n                var _a;\n                // Backspacing near uneditable nodes on Chrome Android sometimes\n                // closes the virtual keyboard. This tries to crudely detect\n                // that and refocus to get it back.\n                if ((((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0) > startViewHeight + 10 && view.hasFocus) {\n                    view.contentDOM.blur();\n                    view.focus();\n                }\n            }, 100);\n        }\n    }\n};\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\", \"break-spaces\"];\nclass HeightOracle {\n    constructor(lineWrapping) {\n        this.lineWrapping = lineWrapping;\n        this.doc = Text.empty;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefreshForWrapping(whiteSpace) {\n        return (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping;\n    }\n    mustRefreshForHeights(lineHeights) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight;\n    }\n    refresh(whiteSpace, lineHeight, charWidth, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;\n        this.lineWrapping = lineWrapping;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element (relative to the top of the\n    document).\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    type) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this.type = type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    @internal\n    */\n    join(other) {\n        let detail = (Array.isArray(this.type) ? this.type : [this])\n            .concat(Array.isArray(other.type) ? other.type : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);\n    }\n}\nvar QueryType = /*@__PURE__*/(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\nreturn QueryType})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-3;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Flag.Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Flag.Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Flag.Outdated */ : 0) | (this.flags & ~2 /* Flag.Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle, decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, type) {\n        super(length, height);\n        this.type = type;\n    }\n    blockAt(_height, _doc, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.type);\n    }\n    lineAt(_value, _type, doc, top, offset) {\n        return this.blockAt(0, doc, top, offset);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        if (from <= offset + this.length && to >= offset)\n            f(this.blockAt(0, doc, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, BlockType.Text);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* Flag.SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    lines(doc, offset) {\n        let firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        return { firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1) };\n    }\n    blockAt(height, doc, top, offset) {\n        let { firstLine, lastLine, lineHeight } = this.lines(doc, offset);\n        let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / lineHeight)));\n        let { from, length } = doc.line(firstLine + line);\n        return new BlockInfo(from, length, top + lineHeight * line, lineHeight, BlockType.Text);\n    }\n    lineAt(value, type, doc, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, doc, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, BlockType.Text);\n        }\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        let { from, length, number } = doc.lineAt(value);\n        return new BlockInfo(from, length, top + lineHeight * (number - firstLine), lineHeight, BlockType.Text);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        for (let pos = Math.max(from, offset), end = Math.min(offset + this.length, to); pos <= end;) {\n            let line = doc.lineAt(pos);\n            if (pos == from)\n                top += lineHeight * (line.number - firstLine);\n            f(new BlockInfo(line.from, line.length, top, lineHeight, BlockType.Text));\n            top += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from), singleHeight = -1;\n            let wasChanged = oracle.heightChanged;\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let height = measured.heights[measured.index++];\n                if (singleHeight == -1)\n                    singleHeight = height;\n                else if (Math.abs(height - singleHeight) >= Epsilon)\n                    singleHeight = -2;\n                let line = new HeightMapText(len, height);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            let result = HeightMap.of(nodes);\n            oracle.heightChanged = wasChanged || singleHeight < 0 || Math.abs(result.height - this.height) >= Epsilon ||\n                Math.abs(singleHeight - this.lines(oracle.doc, offset).lineHeight) >= Epsilon;\n            return result;\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Flag.Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Flag.Break */; }\n    blockAt(height, doc, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid ? this.left.blockAt(height, doc, top, offset)\n            : this.right.blockAt(height, doc, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, doc, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, doc, top, offset)\n            : this.right.lineAt(value, type, doc, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, doc, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, doc, top, offset).join(base);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, doc, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, doc, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, doc, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, doc, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, doc, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? deco.widget.estimatedHeight : 0;\n            if (height < 0)\n                height = this.oracle.lineHeight;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco.type));\n            }\n            else if (len || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* Flag.SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        if (block.type == BlockType.WidgetAfter && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (block.type != BlockType.WidgetBefore)\n            this.covering = block;\n    }\n    addLineDeco(height, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let doc = dom.ownerDocument, win = doc.defaultView || window;\n    let left = Math.max(0, rect.left), right = Math.min(win.innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(win.innerHeight, rect.bottom);\n    for (let parent = dom.parentNode; parent && parent != doc.body;) {\n        if (parent.nodeType == 1) {\n            let elt = parent;\n            let style = window.getComputedStyle(elt);\n            if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = elt.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = parent == dom.parentNode ? parentRect.bottom : Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? elt.offsetParent : elt.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: Math.max(left, right) - rect.left,\n        top: top - (rect.top + paddingTop), bottom: Math.max(top, bottom) - (rect.top + paddingTop) };\n}\nfunction fullPixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    return { left: 0, right: rect.right - rect.left,\n        top: paddingTop, bottom: rect.bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(wrapping) {\n        return Decoration.replace({ widget: new LineGapWidget(this.size, wrapping) }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ViewState {\n    constructor(state) {\n        this.state = state;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0;\n        this.paddingBottom = 0;\n        this.contentDOMWidth = 0;\n        this.contentDOMHeight = 0;\n        this.editorHeight = 0;\n        this.editorWidth = 0;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTarget = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        // Flag set when editor content was redrawn, so that the next\n        // measure stage knows it must read DOM layout\n        this.mustMeasureContent = true;\n        this.defaultTextDirection = Direction.LTR;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        let guessWrapping = state.facet(contentAttributes).some(v => typeof v != \"function\" && v.class == \"cm-lineWrapping\");\n        this.heightOracle = new HeightOracle(guessWrapping);\n        this.stateDeco = state.facet(decorations).filter(d => typeof d != \"function\");\n        this.heightMap = HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateViewportLines();\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineBlockAt(pos);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* VP.MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);\n    }\n    updateViewportLines() {\n        this.viewportLines = [];\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, block => {\n            this.viewportLines.push(this.scaler.scale == 1 ? block : scaleBlock(block, this.scaler));\n        });\n    }\n    update(update, scrollTarget = null) {\n        this.state = update.state;\n        let prevDeco = this.stateDeco;\n        this.stateDeco = this.state.facet(decorations).filter(d => typeof d != \"function\");\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(prevDeco, this.stateDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        this.heightMap = this.heightMap.applyChanges(this.stateDeco, update.startState.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* UpdateFlag.Height */;\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) ||\n            !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTarget);\n        let updateLines = !update.changes.empty || (update.flags & 2 /* UpdateFlag.Height */) ||\n            viewport.from != this.viewport.from || viewport.to != this.viewport.to;\n        this.viewport = viewport;\n        this.updateForViewport();\n        if (updateLines)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > (2000 /* LG.Margin */ << 1))\n            this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        update.flags |= this.computeVisibleRanges();\n        if (scrollTarget)\n            this.scrollTarget = scrollTarget;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc &&\n            !update.state.facet(nativeSelectionHidden))\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(view) {\n        let dom = view.contentDOM, style = window.getComputedStyle(dom);\n        let oracle = this.heightOracle;\n        let whiteSpace = style.whiteSpace;\n        this.defaultTextDirection = style.direction == \"rtl\" ? Direction.RTL : Direction.LTR;\n        let refresh = this.heightOracle.mustRefreshForWrapping(whiteSpace);\n        let measureContent = refresh || this.mustMeasureContent || this.contentDOMHeight != dom.clientHeight;\n        this.contentDOMHeight = dom.clientHeight;\n        this.mustMeasureContent = false;\n        let result = 0, bias = 0;\n        // Vertical padding\n        let paddingTop = parseInt(style.paddingTop) || 0, paddingBottom = parseInt(style.paddingBottom) || 0;\n        if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {\n            this.paddingTop = paddingTop;\n            this.paddingBottom = paddingBottom;\n            result |= 8 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */;\n        }\n        if (this.editorWidth != view.scrollDOM.clientWidth) {\n            if (oracle.lineWrapping)\n                measureContent = true;\n            this.editorWidth = view.scrollDOM.clientWidth;\n            result |= 8 /* UpdateFlag.Geometry */;\n        }\n        // Pixel viewport\n        let pixelViewport = (this.printing ? fullPixelRange : visiblePixelRange)(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        let inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (inView != this.inView) {\n            this.inView = inView;\n            if (inView)\n                measureContent = true;\n        }\n        if (!this.inView && !this.scrollTarget)\n            return 0;\n        let contentWidth = dom.clientWidth;\n        if (this.contentDOMWidth != contentWidth || this.editorHeight != view.scrollDOM.clientHeight) {\n            this.contentDOMWidth = contentWidth;\n            this.editorHeight = view.scrollDOM.clientHeight;\n            result |= 8 /* UpdateFlag.Geometry */;\n        }\n        if (measureContent) {\n            let lineHeights = view.docView.measureVisibleLineHeights(this.viewport);\n            if (oracle.mustRefreshForHeights(lineHeights))\n                refresh = true;\n            if (refresh || oracle.lineWrapping && Math.abs(contentWidth - this.contentDOMWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth } = view.docView.measureTextSize();\n                refresh = lineHeight > 0 && oracle.refresh(whiteSpace, lineHeight, charWidth, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    view.docView.minWidth = 0;\n                    result |= 8 /* UpdateFlag.Geometry */;\n                }\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n            oracle.heightChanged = false;\n            for (let vp of this.viewports) {\n                let heights = vp.from == this.viewport.from ? lineHeights : view.docView.measureVisibleLineHeights(vp);\n                this.heightMap = (refresh ? HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle, [new ChangedRange(0, 0, 0, view.state.doc.length)]) : this.heightMap).updateHeight(oracle, 0, refresh, new MeasuredHeights(vp.from, heights));\n            }\n            if (oracle.heightChanged)\n                result |= 2 /* UpdateFlag.Height */;\n        }\n        let viewportChange = !this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to);\n        if (viewportChange)\n            this.viewport = this.getViewport(bias, this.scrollTarget);\n        this.updateForViewport();\n        if ((result & 2 /* UpdateFlag.Height */) || viewportChange)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > (2000 /* LG.Margin */ << 1))\n            this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps, view));\n        result |= this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            view.docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom); }\n    getViewport(bias, scrollTarget) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* VP.Margin */ / 2));\n        let map = this.heightMap, doc = this.state.doc, { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* VP.Margin */, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* VP.Margin */, QueryType.ByHeight, doc, 0, 0).to);\n        // If scrollTarget is given, make sure the viewport includes that position\n        if (scrollTarget) {\n            let { head } = scrollTarget.range;\n            if (head < viewport.from || head > viewport.to) {\n                let viewHeight = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top);\n                let block = map.lineAt(head, QueryType.ByPos, doc, 0, 0), topPos;\n                if (scrollTarget.y == \"center\")\n                    topPos = (block.top + block.bottom) / 2 - viewHeight / 2;\n                else if (scrollTarget.y == \"start\" || scrollTarget.y == \"nearest\" && head < viewport.from)\n                    topPos = block.top;\n                else\n                    topPos = block.bottom - viewHeight;\n                viewport = new Viewport(map.lineAt(topPos - 1000 /* VP.Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(topPos + viewHeight + 1000 /* VP.Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        if (!this.inView)\n            return true;\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* VP.MinCoverMargin */, Math.min(-bias, 250 /* VP.MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* VP.MinCoverMargin */, Math.min(bias, 250 /* VP.MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* VP.Margin */ && bottom < visibleBottom + 2 * 1000 /* VP.Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current, mayMeasure) {\n        let wrapping = this.heightOracle.lineWrapping;\n        let margin = wrapping ? 10000 /* LG.MarginWrap */ : 2000 /* LG.Margin */, halfMargin = margin >> 1, doubleMargin = margin << 1;\n        // The non-wrapping logic won't work at all in predominantly right-to-left text.\n        if (this.defaultTextDirection != Direction.LTR && !wrapping)\n            return [];\n        let gaps = [];\n        let addGap = (from, to, line, structure) => {\n            if (to - from < halfMargin)\n                return;\n            let sel = this.state.selection.main, avoid = [sel.from];\n            if (!sel.empty)\n                avoid.push(sel.to);\n            for (let pos of avoid) {\n                if (pos > from && pos < to) {\n                    addGap(from, pos - 10 /* LG.SelectionMargin */, line, structure);\n                    addGap(pos + 10 /* LG.SelectionMargin */, to, line, structure);\n                    return;\n                }\n            }\n            let gap = find(current, gap => gap.from >= line.from && gap.to <= line.to &&\n                Math.abs(gap.from - from) < halfMargin && Math.abs(gap.to - to) < halfMargin &&\n                !avoid.some(pos => gap.from < pos && gap.to > pos));\n            if (!gap) {\n                // When scrolling down, snap gap ends to line starts to avoid shifts in wrapping\n                if (to < line.to && mayMeasure && wrapping &&\n                    mayMeasure.visibleRanges.some(r => r.from <= to && r.to >= to)) {\n                    let lineStart = mayMeasure.moveToLineBoundary(EditorSelection.cursor(to), false, true).head;\n                    if (lineStart > from)\n                        to = lineStart;\n                }\n                gap = new LineGap(from, to, this.gapSize(line, from, to, structure));\n            }\n            gaps.push(gap);\n        };\n        for (let line of this.viewportLines) {\n            if (line.length < doubleMargin)\n                continue;\n            let structure = lineStructure(line.from, line.to, this.stateDeco);\n            if (structure.total < doubleMargin)\n                continue;\n            let target = this.scrollTarget ? this.scrollTarget.range.head : null;\n            let viewFrom, viewTo;\n            if (wrapping) {\n                let marginHeight = (margin / this.heightOracle.lineLength) * this.heightOracle.lineHeight;\n                let top, bot;\n                if (target != null) {\n                    let targetFrac = findFraction(structure, target);\n                    let spaceFrac = ((this.visibleBottom - this.visibleTop) / 2 + marginHeight) / line.height;\n                    top = targetFrac - spaceFrac;\n                    bot = targetFrac + spaceFrac;\n                }\n                else {\n                    top = (this.visibleTop - line.top - marginHeight) / line.height;\n                    bot = (this.visibleBottom - line.top + marginHeight) / line.height;\n                }\n                viewFrom = findPosition(structure, top);\n                viewTo = findPosition(structure, bot);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                let marginWidth = margin * this.heightOracle.charWidth;\n                let left, right;\n                if (target != null) {\n                    let targetFrac = findFraction(structure, target);\n                    let spaceFrac = ((this.pixelViewport.right - this.pixelViewport.left) / 2 + marginWidth) / totalWidth;\n                    left = targetFrac - spaceFrac;\n                    right = targetFrac + spaceFrac;\n                }\n                else {\n                    left = (this.pixelViewport.left - marginWidth) / totalWidth;\n                    right = (this.pixelViewport.right + marginWidth) / totalWidth;\n                }\n                viewFrom = findPosition(structure, left);\n                viewTo = findPosition(structure, right);\n            }\n            if (viewFrom > line.from)\n                addGap(line.from, viewFrom, line, structure);\n            if (viewTo < line.to)\n                addGap(viewTo, line.to, line, structure);\n        }\n        return gaps;\n    }\n    gapSize(line, from, to, structure) {\n        let fraction = findFraction(structure, to) - findFraction(structure, from);\n        if (this.heightOracle.lineWrapping) {\n            return line.height * fraction;\n        }\n        else {\n            return structure.total * this.heightOracle.charWidth * fraction;\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this.heightOracle.lineWrapping)));\n        }\n    }\n    computeVisibleRanges() {\n        let deco = this.stateDeco;\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        let changed = ranges.length != this.visibleRanges.length ||\n            this.visibleRanges.some((r, i) => r.from != ranges[i].from || r.to != ranges[i].to);\n        this.visibleRanges = ranges;\n        return changed ? 4 /* UpdateFlag.Viewport */ : 0;\n    }\n    lineBlockAt(pos) {\n        return (pos >= this.viewport.from && pos <= this.viewport.to && this.viewportLines.find(b => b.from <= pos && b.to >= pos)) ||\n            scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, 0, 0), this.scaler);\n    }\n    lineBlockAtHeight(height) {\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height), QueryType.ByHeight, this.state.doc, 0, 0), this.scaler);\n    }\n    elementAtHeight(height) {\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height), this.state.doc, 0, 0), this.scaler);\n    }\n    get docHeight() {\n        return this.scaler.toDOM(this.heightMap.height);\n    }\n    get contentHeight() {\n        return this.docHeight + this.paddingTop + this.paddingBottom;\n    }\n}\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\nfunction lineStructure(from, to, stateDeco) {\n    let ranges = [], pos = from, total = 0;\n    RangeSet.spans(stateDeco, from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(doc, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, doc, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, doc, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* VP.MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top), bBottom = scaler.toDOM(block.bottom);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map(b => scaleBlock(b, scaler)) : block.type);\n}\n\nconst theme = /*@__PURE__*/Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = /*@__PURE__*/Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = /*@__PURE__*/StyleModule.newName(), baseLightID = /*@__PURE__*/StyleModule.newName(), baseDarkID = /*@__PURE__*/StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme$1 = /*@__PURE__*/buildTheme(\".\" + baseThemeID, {\n    \"&\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        flexShrink: 0,\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\",\n        \"&[contenteditable=true]\": {\n            WebkitUserModify: \"read-write-plaintext-only\",\n        }\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace_fallback: \"pre-wrap\",\n        whiteSpace: \"break-spaces\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\",\n        flexShrink: 1\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 6px\"\n    },\n    \".cm-layer\": {\n        contain: \"size style\",\n        \"& > *\": {\n            position: \"absolute\"\n        }\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n    \".cm-cursor, .cm-dropCursor\": {\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n    },\n    \".cm-cursor\": {\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \"&.cm-focused .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#cceeff44\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#99eeff33\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-gutters\": {\n        flexShrink: 0,\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#6c6c6c\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        minHeight: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    },\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-widgetBuffer\": {\n        verticalAlign: \"text-top\",\n        height: \"1em\",\n        width: 0,\n        display: \"inline\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\",\n        verticalAlign: \"top\",\n    },\n    \".cm-highlightSpace:before\": {\n        content: \"attr(data-display)\",\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        color: \"#888\"\n    },\n    \".cm-highlightTab\": {\n        backgroundImage: `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"20\"><path stroke=\"%23888\" stroke-width=\"1\" fill=\"none\" d=\"M1 10H196L190 5M190 15L196 10M197 4L197 16\"/></svg>')`,\n        backgroundSize: \"auto 100%\",\n        backgroundPosition: \"right 90%\",\n        backgroundRepeat: \"no-repeat\"\n    },\n    \".cm-trailingSpace\": {\n        backgroundColor: \"#ff332255\"\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"1px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nclass DOMChange {\n    constructor(view, start, end, typeOver) {\n        this.typeOver = typeOver;\n        this.bounds = null;\n        this.text = \"\";\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        if (view.state.readOnly && start > -1) {\n            // Ignore changes when the editor is read-only\n            this.newSel = null;\n        }\n        else if (start > -1 && (this.bounds = view.docView.domBoundsAround(start, end, 0))) {\n            let selPoints = iHead || iAnchor ? [] : selectionPoints(view);\n            let reader = new DOMReader(selPoints, view.state);\n            reader.readRange(this.bounds.startDOM, this.bounds.endDOM);\n            this.text = reader.text;\n            this.newSel = selectionFromPoints(selPoints, this.bounds.from);\n        }\n        else {\n            let domSel = view.observer.selectionRange;\n            let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n                !contains(view.contentDOM, domSel.focusNode)\n                ? view.state.selection.main.head\n                : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n            let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n                !contains(view.contentDOM, domSel.anchorNode)\n                ? view.state.selection.main.anchor\n                : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n            this.newSel = EditorSelection.single(anchor, head);\n        }\n    }\n}\nfunction applyDOMChange(view, domChange) {\n    let change;\n    let { newSel } = domChange, sel = view.state.selection.main;\n    if (domChange.bounds) {\n        let { from, to } = domChange.bounds;\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 ||\n            browser.android && domChange.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.doc.sliceString(from, to, LineBreakPlaceholder), domChange.text, preferredPos - from, preferredSide);\n        if (diff) {\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. DomChange drops one of those.\n            if (browser.chrome && view.inputState.lastKeyCode == 13 &&\n                diff.toB == diff.from + 2 && domChange.text.slice(diff.from, diff.toB) == LineBreakPlaceholder + LineBreakPlaceholder)\n                diff.toB--;\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: Text.of(domChange.text.slice(diff.from, diff.toB).split(LineBreakPlaceholder)) };\n        }\n    }\n    else if (newSel && (!view.hasFocus && view.state.facet(editable) || newSel.main.eq(sel))) {\n        newSel = null;\n    }\n    if (!change && !newSel)\n        return false;\n    if (!change && domChange.typeOver && !sel.empty && newSel && newSel.main.empty) {\n        // Heuristic to notice typing over a selected character\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    }\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4) {\n        // If the change is inside the selection and covers most of it,\n        // assume it is a selection replace (with identical characters at\n        // the start/end not included in the diff)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    }\n    else if ((browser.mac || browser.android) && change && change.from == change.to && change.from == sel.head - 1 &&\n        /^\\. ?$/.test(change.insert.toString())) {\n        // Detect insert-period-on-double-space Mac and Android behavior,\n        // and transform it into a regular space insert.\n        if (newSel && change.insert.length == 2)\n            newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);\n        change = { from: sel.from, to: sel.to, insert: Text.of([\" \"]) };\n    }\n    else if (browser.chrome && change && change.from == change.to && change.from == sel.head &&\n        change.insert.toString() == \"\\n \" && view.lineWrapping) {\n        // In Chrome, if you insert a space at the start of a wrapped\n        // line, it will actually insert a newline and a space, causing a\n        // bogus new line to be created in CodeMirror (#968)\n        if (newSel)\n            newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);\n        change = { from: sel.from, to: sel.to, insert: Text.of([\" \"]) };\n    }\n    if (change) {\n        let startState = view.state;\n        if (browser.ios && view.inputState.flushIOSKey(view))\n            return true;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events. (Some of these keys are also handled by beforeinput\n        // events and the pendingAndroidKey mechanism, but that's not\n        // reliable in all situations.)\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.insert.length == 1 && change.insert.lines == 2 &&\n                dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n                (change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Delete\", 46))))\n            return true;\n        let text = change.insert.toString();\n        if (view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text)))\n            return true;\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let tr;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n            (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length) &&\n            view.inputState.composing < 0) {\n            let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n            let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n            tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) + after));\n        }\n        else {\n            let changes = startState.changes(change);\n            let mainSel = newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength\n                ? newSel.main : undefined;\n            // Try to apply a composition change to all cursors\n            if (startState.selection.ranges.length > 1 && view.inputState.composing >= 0 &&\n                change.to <= sel.to && change.to >= sel.to - 10) {\n                let replaced = view.state.sliceDoc(change.from, change.to);\n                let compositionRange = compositionSurroundingNode(view) || view.state.doc.lineAt(sel.head);\n                let offset = sel.to - change.to, size = sel.to - sel.from;\n                tr = startState.changeByRange(range => {\n                    if (range.from == sel.from && range.to == sel.to)\n                        return { changes, range: mainSel || range.map(changes) };\n                    let to = range.to - offset, from = to - replaced.length;\n                    if (range.to - range.from != size || view.state.sliceDoc(from, to) != replaced ||\n                        // Unfortunately, there's no way to make multiple\n                        // changes in the same node work without aborting\n                        // composition, so cursors in the composition range are\n                        // ignored.\n                        compositionRange && range.to >= compositionRange.from && range.from <= compositionRange.to)\n                        return { range };\n                    let rangeChanges = startState.changes({ from, to, insert: change.insert }), selOff = range.to - sel.to;\n                    return {\n                        changes: rangeChanges,\n                        range: !mainSel ? range.map(rangeChanges) :\n                            EditorSelection.range(Math.max(0, mainSel.anchor + selOff), Math.max(0, mainSel.head + selOff))\n                    };\n                });\n            }\n            else {\n                tr = {\n                    changes,\n                    selection: mainSel && startState.selection.replaceRange(mainSel)\n                };\n            }\n        }\n        let userEvent = \"input.type\";\n        if (view.composing) {\n            userEvent += \".compose\";\n            if (view.inputState.compositionFirstChange) {\n                userEvent += \".start\";\n                view.inputState.compositionFirstChange = false;\n            }\n        }\n        view.dispatch(tr, { scrollIntoView: true, userEvent });\n        return true;\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, userEvent = \"select\";\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"select\")\n                scrollIntoView = true;\n            userEvent = view.inputState.lastSelectionOrigin;\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base, head + base) : null;\n}\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    attributes: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view) {\n        this.view = view;\n        this.active = false;\n        // The known selection. Kept in our own object, as opposed to just\n        // directly accessing the selection because:\n        //  - Safari doesn't report the right selection in shadow DOM\n        //  - Reading from the selection forces a DOM layout\n        //  - This way, we can ignore selectionchange events if we have\n        //    already seen the 'new' selection\n        this.selectionRange = new DOMSelectionState;\n        // Set when a selection change is detected, cleared on flush\n        this.selectionChanged = false;\n        this.delayedFlush = -1;\n        this.resizeTimeout = -1;\n        this.queue = [];\n        this.delayedAndroidKey = null;\n        this.flushingAndroidKey = -1;\n        this.lastChange = 0;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.resizeScroll = null;\n        this.resizeContent = null;\n        this.intersecting = false;\n        this.gapIntersection = null;\n        this.gaps = [];\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.onResize = this.onResize.bind(this);\n        this.onPrint = this.onPrint.bind(this);\n        this.onScroll = this.onScroll.bind(this);\n        if (typeof ResizeObserver == \"function\") {\n            this.resizeScroll = new ResizeObserver(() => {\n                var _a;\n                if (((_a = this.view.docView) === null || _a === void 0 ? void 0 : _a.lastUpdate) < Date.now() - 75)\n                    this.onResize();\n            });\n            this.resizeScroll.observe(view.scrollDOM);\n            this.resizeContent = new ResizeObserver(() => this.view.requestMeasure());\n            this.resizeContent.observe(view.contentDOM);\n        }\n        this.addWindowListeners(this.win = view.win);\n        this.start();\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries.length > 0 && (entries[entries.length - 1].intersectionRatio > 0) != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n            this.gapIntersection = new IntersectionObserver(entries => {\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)\n                    this.onScrollChanged(document.createEvent(\"Event\"));\n            }, {});\n        }\n        this.listenForScroll();\n        this.readSelectionRange();\n    }\n    onScrollChanged(e) {\n        this.view.inputState.runScrollHandlers(this.view, e);\n        if (this.intersecting)\n            this.view.measure();\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush(false);\n        this.onScrollChanged(e);\n    }\n    onResize() {\n        if (this.resizeTimeout < 0)\n            this.resizeTimeout = setTimeout(() => {\n                this.resizeTimeout = -1;\n                this.view.requestMeasure();\n            }, 50);\n    }\n    onPrint() {\n        this.view.viewState.printing = true;\n        this.view.measure();\n        setTimeout(() => {\n            this.view.viewState.printing = false;\n            this.view.requestMeasure();\n        }, 500);\n    }\n    updateGaps(gaps) {\n        if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {\n            this.gapIntersection.disconnect();\n            for (let gap of gaps)\n                this.gapIntersection.observe(gap);\n            this.gaps = gaps;\n        }\n    }\n    onSelectionChange(event) {\n        let wasChanged = this.selectionChanged;\n        if (!this.readSelectionRange() || this.delayedAndroidKey)\n            return;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event)) {\n            if (!wasChanged)\n                this.selectionChanged = false;\n            return;\n        }\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // Chrome Android has a similar issue when backspacing out a\n        // selection (#645).\n        if ((browser.ie && browser.ie_version <= 11 || browser.android && browser.chrome) && !view.state.selection.main.empty &&\n            // (Selection.isCollapsed isn't reliable on IE)\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush(false);\n    }\n    readSelectionRange() {\n        let { view } = this;\n        // The Selection object is broken in shadow roots in Safari. See\n        // https://github.com/codemirror/dev/issues/414\n        let range = browser.safari && view.root.nodeType == 11 &&\n            deepActiveElement(this.dom.ownerDocument) == this.dom &&\n            safariSelectionRangeHack(this.view) || getSelection(view.root);\n        if (!range || this.selectionRange.eq(range))\n            return false;\n        let local = hasSelection(this.dom, range);\n        // Detect the situation where the browser has, on focus, moved the\n        // selection to the start of the content element. Reset it to the\n        // position from the editor state.\n        if (local && !this.selectionChanged &&\n            view.inputState.lastFocusTime > Date.now() - 200 &&\n            view.inputState.lastTouchTime < Date.now() - 300 &&\n            atElementStart(this.dom, range)) {\n            this.view.inputState.lastFocusTime = 0;\n            view.docView.updateSelection();\n            return false;\n        }\n        this.selectionRange.setRange(range);\n        if (local)\n            this.selectionChanged = true;\n        return true;\n    }\n    setSelectionRange(anchor, head) {\n        this.selectionRange.set(anchor.node, anchor.offset, head.node, head.offset);\n        this.selectionChanged = false;\n    }\n    clearSelectionRange() {\n        this.selectionRange.set(null, 0, null, 0);\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.processRecords();\n        this.queue.length = 0;\n        this.selectionChanged = false;\n    }\n    // Chrome Android, especially in combination with GBoard, not only\n    // doesn't reliably fire regular key events, but also often\n    // surrounds the effect of enter or backspace with a bunch of\n    // composition events that, when interrupted, cause text duplication\n    // or other kinds of corruption. This hack makes the editor back off\n    // from handling DOM changes for a moment when such a key is\n    // detected (via beforeinput or keydown), and then tries to flush\n    // them or, if that has no effect, dispatches the given key.\n    delayAndroidKey(key, keyCode) {\n        var _a;\n        if (!this.delayedAndroidKey) {\n            let flush = () => {\n                let key = this.delayedAndroidKey;\n                if (key) {\n                    this.clearDelayedAndroidKey();\n                    if (!this.flush() && key.force)\n                        dispatchKey(this.dom, key.key, key.keyCode);\n                }\n            };\n            this.flushingAndroidKey = this.view.win.requestAnimationFrame(flush);\n        }\n        // Since backspace beforeinput is sometimes signalled spuriously,\n        // Enter always takes precedence.\n        if (!this.delayedAndroidKey || key == \"Enter\")\n            this.delayedAndroidKey = {\n                key, keyCode,\n                // Only run the key handler when no changes are detected if\n                // this isn't coming right after another change, in which case\n                // it is probably part of a weird chain of updates, and should\n                // be ignored if it returns the DOM to its previous state.\n                force: this.lastChange < Date.now() - 50 || !!((_a = this.delayedAndroidKey) === null || _a === void 0 ? void 0 : _a.force)\n            };\n    }\n    clearDelayedAndroidKey() {\n        this.win.cancelAnimationFrame(this.flushingAndroidKey);\n        this.delayedAndroidKey = null;\n        this.flushingAndroidKey = -1;\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = this.view.win.requestAnimationFrame(() => { this.delayedFlush = -1; this.flush(); });\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            this.view.win.cancelAnimationFrame(this.delayedFlush);\n            this.delayedFlush = -1;\n        }\n        this.flush();\n    }\n    processRecords() {\n        let records = this.queue;\n        for (let mut of this.observer.takeRecords())\n            records.push(mut);\n        if (records.length)\n            this.queue = [];\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        return { from, to, typeOver };\n    }\n    readChange() {\n        let { from, to, typeOver } = this.processRecords();\n        let newSel = this.selectionChanged && hasSelection(this.dom, this.selectionRange);\n        if (from < 0 && !newSel)\n            return null;\n        if (from > -1)\n            this.lastChange = Date.now();\n        this.view.inputState.lastFocusTime = 0;\n        this.selectionChanged = false;\n        return new DOMChange(this.view, from, to, typeOver);\n    }\n    // Apply pending changes, if any\n    flush(readSelection = true) {\n        // Completely hold off flushing when pending keys are setthe code\n        // managing those will make sure processRecords is called and the\n        // view is resynchronized after\n        if (this.delayedFlush >= 0 || this.delayedAndroidKey)\n            return false;\n        if (readSelection)\n            this.readSelectionRange();\n        let domChange = this.readChange();\n        if (!domChange)\n            return false;\n        let startState = this.view.state;\n        let handled = applyDOMChange(this.view, domChange);\n        // The view wasn't updated\n        if (this.view.state == startState)\n            this.view.update([]);\n        return handled;\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty(rec.type == \"attributes\");\n        if (rec.type == \"attributes\")\n            cView.dirty |= 4 /* Dirty.Attrs */;\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else if (rec.type == \"characterData\") {\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n        else {\n            return null;\n        }\n    }\n    setWindow(win) {\n        if (win != this.win) {\n            this.removeWindowListeners(this.win);\n            this.win = win;\n            this.addWindowListeners(this.win);\n        }\n    }\n    addWindowListeners(win) {\n        win.addEventListener(\"resize\", this.onResize);\n        win.addEventListener(\"beforeprint\", this.onPrint);\n        win.addEventListener(\"scroll\", this.onScroll);\n        win.document.addEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    removeWindowListeners(win) {\n        win.removeEventListener(\"scroll\", this.onScroll);\n        win.removeEventListener(\"resize\", this.onResize);\n        win.removeEventListener(\"beforeprint\", this.onPrint);\n        win.document.removeEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    destroy() {\n        var _a, _b, _c, _d;\n        this.stop();\n        (_a = this.intersection) === null || _a === void 0 ? void 0 : _a.disconnect();\n        (_b = this.gapIntersection) === null || _b === void 0 ? void 0 : _b.disconnect();\n        (_c = this.resizeScroll) === null || _c === void 0 ? void 0 : _c.disconnect();\n        (_d = this.resizeContent) === null || _d === void 0 ? void 0 : _d.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        this.removeWindowListeners(this.win);\n        clearTimeout(this.parentCheck);\n        clearTimeout(this.resizeTimeout);\n        this.win.cancelAnimationFrame(this.delayedFlush);\n        this.win.cancelAnimationFrame(this.flushingAndroidKey);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\n// Used to work around a Safari Selection/shadow DOM bug (#414)\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at itusing `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    view.dom.ownerDocument.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle  Updating  Idle (unchecked)  Measuring  Idle\n//                                               \n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    Construct a new view. You'll want to either provide a `parent`\n    option, or put `view.dom` into your document after creating a\n    view, so that the user can see the editor.\n    */\n    constructor(config = {}) {\n        this.plugins = [];\n        this.pluginMap = new Map;\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        this.destroyed = false;\n        /**\n        @internal\n        */\n        this.updateState = 2 /* UpdateState.Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: fixed; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        this._dispatch = config.dispatch || ((tr) => this.update([tr]));\n        this.dispatch = this.dispatch.bind(this);\n        this._root = (config.root || getRoot(config.parent) || document);\n        this.viewState = new ViewState(config.state || EditorState.create(config));\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec));\n        for (let plugin of this.plugins)\n            plugin.update(this);\n        this.observer = new DOMObserver(this);\n        this.inputState = new InputState(this);\n        this.inputState.ensureHandlers(this, this.plugins);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* UpdateState.Idle */;\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://en.wikipedia.org/wiki/Input_method), and at least\n    one change has been made in the current composition.\n    */\n    get composing() { return this.inputState.composing > 0; }\n    /**\n    Indicates whether the user is currently in composing state. Note\n    that on some platforms, like Android, this will be the case a\n    lot, since just putting the cursor on a word starts a\n    composition there.\n    */\n    get compositionStarted() { return this.inputState.composing >= 0; }\n    /**\n    The document or shadow root that the view lives in.\n    */\n    get root() { return this._root; }\n    /**\n    @internal\n    */\n    get win() { return this.dom.ownerDocument.defaultView || window; }\n    dispatch(...input) {\n        this._dispatch(input.length == 1 && input[0] instanceof Transaction ? input[0]\n            : this.state.update(...input));\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* UpdateState.Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, attrsChanged = false, update;\n        let state = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state = tr.state;\n        }\n        if (this.destroyed) {\n            this.viewState.state = state;\n            return;\n        }\n        // If there was a pending DOM change, eagerly read it and try to\n        // apply it after the given transactions.\n        let pendingKey = this.observer.delayedAndroidKey, domChange = null;\n        if (pendingKey) {\n            this.observer.clearDelayedAndroidKey();\n            domChange = this.observer.readChange();\n            // Only try to apply DOM changes if the transactions didn't\n            // change the doc or selection.\n            if (domChange && !this.state.doc.eq(state.doc) || !this.state.selection.eq(state.selection))\n                domChange = null;\n        }\n        else {\n            this.observer.clear();\n        }\n        // When the phrases change, redraw the editor\n        if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))\n            return this.setState(state);\n        update = ViewUpdate.create(this, state, transactions);\n        let scrollTarget = this.viewState.scrollTarget;\n        try {\n            this.updateState = 2 /* UpdateState.Updating */;\n            for (let tr of transactions) {\n                if (scrollTarget)\n                    scrollTarget = scrollTarget.map(tr.changes);\n                if (tr.scrollIntoView) {\n                    let { main } = tr.state.selection;\n                    scrollTarget = new ScrollTarget(main.empty ? main : EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));\n                }\n                for (let e of tr.effects)\n                    if (e.is(scrollIntoView))\n                        scrollTarget = e.value;\n            }\n            this.viewState.update(update, scrollTarget);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            attrsChanged = this.updateAttrs();\n            this.showAnnouncements(transactions);\n            this.docView.updateSelection(redrawn, transactions.some(tr => tr.isUserEvent(\"select.pointer\")));\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n        }\n        if (update.startState.facet(theme) != update.state.facet(theme))\n            this.viewState.mustMeasureContent = true;\n        if (redrawn || attrsChanged || scrollTarget || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n        if (domChange) {\n            if (!applyDOMChange(this, domChange) && pendingKey.force)\n                dispatchKey(this.contentDOM, pendingKey.key, pendingKey.keyCode);\n        }\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* UpdateState.Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        if (this.destroyed) {\n            this.viewState.state = newState;\n            return;\n        }\n        this.updateState = 2 /* UpdateState.Updating */;\n        let hadFocus = this.hasFocus;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec));\n            this.pluginMap.clear();\n            for (let plugin of this.plugins)\n                plugin.update(this);\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this, this.plugins);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n        }\n        if (hadFocus)\n            this.focus();\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.pluginMap.clear();\n            this.inputState.ensureHandlers(this, this.plugins);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.destroyed)\n            return;\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.measureScheduled = 0; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.forceFlush();\n        let updated = null;\n        let { scrollHeight, scrollTop, clientHeight } = this.scrollDOM;\n        let refHeight = scrollTop > scrollHeight - clientHeight - 4 ? scrollHeight : scrollTop;\n        try {\n            for (let i = 0;; i++) {\n                this.updateState = 1 /* UpdateState.Measuring */;\n                let oldViewport = this.viewport;\n                let refBlock = this.viewState.lineBlockAtHeight(refHeight);\n                let changed = this.viewState.measure(this);\n                if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)\n                    break;\n                if (i > 5) {\n                    console.warn(this.measureRequests.length\n                        ? \"Measure loop restarted more than 5 times\"\n                        : \"Viewport failed to stabilize\");\n                    break;\n                }\n                let measuring = [];\n                // Only run measure requests in this cycle when the viewport didn't change\n                if (!(changed & 4 /* UpdateFlag.Viewport */))\n                    [this.measureRequests, measuring] = [measuring, this.measureRequests];\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = ViewUpdate.create(this, this.state, []), redrawn = false, scrolled = false;\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* UpdateState.Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                    this.updateAttrs();\n                    redrawn = this.docView.update(update);\n                }\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            let m = measuring[i];\n                            if (m.write)\n                                m.write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (this.viewState.editorHeight) {\n                    if (this.viewState.scrollTarget) {\n                        this.docView.scrollIntoView(this.viewState.scrollTarget);\n                        this.viewState.scrollTarget = null;\n                        scrolled = true;\n                    }\n                    else {\n                        let diff = this.viewState.lineBlockAt(refBlock.from).top - refBlock.top;\n                        if (diff > 1 || diff < -1) {\n                            this.scrollDOM.scrollTop += diff;\n                            scrolled = true;\n                        }\n                    }\n                }\n                if (redrawn)\n                    this.docView.updateSelection(true);\n                if (this.viewport.from == oldViewport.from && this.viewport.to == oldViewport.to &&\n                    !scrolled && this.measureRequests.length == 0)\n                    break;\n            }\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n            this.measureScheduled = -1;\n        }\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = attrsFromFacet(this, editorAttributes, {\n            class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        let contentAttrs = {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            translate: \"no\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        };\n        if (this.state.readOnly)\n            contentAttrs[\"aria-readonly\"] = \"true\";\n        attrsFromFacet(this, contentAttributes, contentAttrs);\n        let changed = this.observer.ignore(() => {\n            let changedContent = updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n            let changedEditor = updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n            return changedContent || changedEditor;\n        });\n        this.editorAttrs = editorAttrs;\n        this.contentAttrs = contentAttrs;\n        return changed;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        StyleModule.mount(this.root, this.styleModules.concat(baseTheme$1).reverse());\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* UpdateState.Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* UpdateState.Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = this.win.requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (this.measureRequests.indexOf(request) > -1)\n                return;\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        let known = this.pluginMap.get(plugin);\n        if (known === undefined || known && known.spec != plugin)\n            this.pluginMap.set(plugin, known = this.plugins.find(p => p.spec == plugin) || null);\n        return known && known.update(this).value;\n    }\n    /**\n    The top position of the document, in screen coordinates. This\n    may be negative when the editor is scrolled down. Points\n    directly to the top of the first line, not above the padding.\n    */\n    get documentTop() {\n        return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;\n    }\n    /**\n    Reports the padding above and below the document.\n    */\n    get documentPadding() {\n        return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };\n    }\n    /**\n    Find the text line or block widget at the given vertical\n    position (which is interpreted as relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop)).\n    */\n    elementAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.elementAtHeight(height);\n    }\n    /**\n    Find the line block (see\n    [`lineBlockAt`](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) at the given\n    height, again interpreted relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop).\n    */\n    lineBlockAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.lineBlockAtHeight(height);\n    }\n    /**\n    Get the extent and vertical position of all [line\n    blocks](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) in the viewport. Positions\n    are relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop);\n    */\n    get viewportLineBlocks() {\n        return this.viewState.viewportLines;\n    }\n    /**\n    Find the line block around the given document position. A line\n    block is a range delimited on both sides by either a\n    non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^replace) line breaks, or the\n    start/end of the document. It will usually just hold a line of\n    text, but may be broken into multiple textblocks by block\n    widgets.\n    */\n    lineBlockAt(pos) {\n        return this.viewState.lineBlockAt(pos);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. In\n    bidirectional text, the line is traversed in visual order, using\n    the editor's [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n    When the start position was the last one on the line, the\n    returned position will be across the line break. If there is no\n    further line, the original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    \n    Note that for positions that aren't currently in\n    `visibleRanges`, the resulting DOM position isn't necessarily\n    meaningful (it may just point before or after a placeholder\n    element).\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == Direction.LTR) == (side > 0));\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor's content element.\n    */\n    get textDirection() { return this.viewState.defaultTextDirection; }\n    /**\n    Find the text direction of the block at the given position, as\n    assigned by CSS. If\n    [`perLineTextDirection`](https://codemirror.net/6/docs/ref/#view.EditorView^perLineTextDirection)\n    isn't enabled, or the given position is outside of the viewport,\n    this will always return the same as\n    [`textDirection`](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). Note that\n    this may trigger a DOM layout.\n    */\n    textDirectionAt(pos) {\n        let perLine = this.state.facet(perLineTextDirection);\n        if (!perLine || pos < this.viewport.from || pos > this.viewport.to)\n            return this.textDirection;\n        this.readMeasured();\n        return this.docView.textDirectionAt(pos);\n    }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirectionAt(line.from);\n        for (let entry of this.bidiCache)\n            if (entry.from == line.from && entry.dir == dir)\n                return entry.order;\n        let order = computeOrder(line.text, dir);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (this.dom.ownerDocument.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Update the [root](https://codemirror.net/6/docs/ref/##view.EditorViewConfig.root) in which the editor lives. This is only\n    necessary when moving the editor's existing DOM to a new window or shadow root.\n    */\n    setRoot(root) {\n        if (this._root != root) {\n            this._root = root;\n            this.observer.setWindow((root.nodeType == 9 ? root : root.ownerDocument).defaultView || window);\n            this.mountStyles();\n        }\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.plugins = [];\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.destroyed = true;\n    }\n    /**\n    Returns an effect that can be\n    [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a transaction to\n    cause it to scroll the given position or range into view.\n    */\n    static scrollIntoView(pos, options = {}) {\n        return scrollIntoView.of(new ScrollTarget(typeof pos == \"number\" ? EditorSelection.cursor(pos) : pos, options.y, options.x, options.yMargin, options.xMargin));\n    }\n    /**\n    Returns an extension that can be used to add DOM event handlers.\n    The value should be an object mapping event names to handler\n    functions. For any given event, such functions are ordered by\n    extension precedence, and the first handler to return true will\n    be assumed to have handled that event, and no other handlers or\n    built-in behavior will be activated for it. These are registered\n    on the [content element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except\n    for `scroll` handlers, which will be called any time the\n    editor's [scroll element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of\n    its parent nodes is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)to which the scope class will be\n    addedneed to be explicitly differentiated by adding an `&` to\n    the selector for that elementfor example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return Prec.lowest(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n    /**\n    Retrieve an editor view instance from the view's DOM\n    representation.\n    */\n    static findFromDOM(dom) {\n        var _a;\n        let content = dom.querySelector(\".cm-content\");\n        let cView = content && ContentView.get(content) || ContentView.get(dom);\n        return ((_a = cView === null || cView === void 0 ? void 0 : cView.rootView) === null || _a === void 0 ? void 0 : _a.view) || null;\n    }\n}\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nBy default, the editor assumes all its content has the same\n[text direction](https://codemirror.net/6/docs/ref/#view.Direction). Configure this with a `true`\nvalue to make it read the text direction of every (rendered)\nline separately.\n*/\nEditorView.perLineTextDirection = perLineTextDirection;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content DOM is editable.\nWhen its highest-precedence value is `false`, the element will\nnot have its `contenteditable` attribute set. (Note that this\ndoesn't affect API calls that change the editor content, even\nwhen those are bound to keys or buttons. See the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds a\nnew range to the existing selection or replaces it entirely. The\ndefault behavior is to check `event.metaKey` on macOS, and\n`event.ctrlKey` elsewhere.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. Decorations can be provided in two\nwaysdirectly, or via a function that takes an editor view.\n\nOnly decoration sets provided directly are allowed to influence\nthe editor's vertical layout structure. The ones provided as\nfunctions are called _after_ the new viewport has been computed,\nand thus **must not** introduce block widgets or replacing\ndecorations that cover line breaks.\n\nIf you want decorated ranges to behave like atomic units for\ncursor motion and deletion purposes, also provide the range set\ncontaining the decorations to\n[`EditorView.atomicRanges`](https://codemirror.net/6/docs/ref/#view.EditorView^atomicRanges).\n*/\nEditorView.decorations = decorations;\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nEditorView.atomicRanges = atomicRanges;\n/**\nFacet that allows extensions to provide additional scroll\nmargins (space around the sides of the scrolling element that\nshould be considered invisible). This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nEditorView.scrollMargins = scrollMargins;\n/**\nThis facet records whether a dark theme is active. The extension\nreturned by [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme) automatically\nincludes an instance of this when the `dark` option is set to\ntrue.\n*/\nEditorView.darkTheme = darkTheme;\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = /*@__PURE__*/EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = /*@__PURE__*/StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty)\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));\n        }\n        return result;\n    }\n}\nfunction attrsFromFacet(view, facet, base) {\n    for (let sources = view.state.facet(facet), i = sources.length - 1; i >= 0; i--) {\n        let source = sources[i], value = typeof source == \"function\" ? source(view) : source;\n        if (value)\n            combineAttrs(value, base);\n    }\n    return base;\n}\n\nconst currentPlatform = browser.mac ? \"mac\" : browser.windows ? \"win\" : browser.linux ? \"linux\" : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = /*@__PURE__*/Prec.default(/*@__PURE__*/EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n}));\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = /*@__PURE__*/Facet.define({ enables: handleKeyEvents });\nconst Keymaps = /*@__PURE__*/new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be a `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault) => {\n        var _a, _b;\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    run: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = { preventDefault: false, run: ((_b = (_a = scopeObj._any) === null || _a === void 0 ? void 0 : _a.run) === null || _b === void 0 ? void 0 : _b.slice()) || [] });\n        if (command)\n            binding.run.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n    };\n    for (let b of bindings) {\n        let scopes = b.scope ? b.scope.split(\" \") : [\"editor\"];\n        if (b.any)\n            for (let scope of scopes) {\n                let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n                if (!scopeObj._any)\n                    scopeObj._any = { preventDefault: false, run: [] };\n                for (let key in scopeObj)\n                    scopeObj[key].run.push(b.any);\n            }\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of scopes) {\n            add(scope, name, b.run, b.preventDefault);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = keyName(event);\n    let charCode = codePointAt(name, 0), isChar = codePointSize(charCode) == name.length && name != \" \";\n    let prefix = \"\", fallthrough = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)\n            storedPrefix = null;\n    }\n    let ran = new Set;\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.run)\n                if (!ran.has(cmd)) {\n                    ran.add(cmd);\n                    if (cmd(view, event))\n                        return true;\n                }\n            if (binding.preventDefault)\n                fallthrough = true;\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName, shiftName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)]))\n            return true;\n        if (isChar && (event.altKey || event.metaKey || event.ctrlKey) &&\n            // Ctrl-Alt may be used for AltGr on Windows\n            !(browser.windows && event.ctrlKey && event.altKey) &&\n            (baseName = base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))\n                return true;\n            else if (event.shiftKey && (shiftName = shift[event.keyCode]) != name && shiftName != baseName &&\n                runFor(scopeObj[prefix + modifiers(shiftName, event, false)]))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            if (runFor(scopeObj[prefix + modifiers(name, event, true)]))\n                return true;\n        }\n        if (runFor(scopeObj._any))\n            return true;\n    }\n    return fallthrough;\n}\n\n/**\nImplementation of [`LayerMarker`](https://codemirror.net/6/docs/ref/#view.LayerMarker) that creates\na rectangle at a given set of coordinates.\n*/\nclass RectangleMarker {\n    /**\n    Create a marker with the given class and dimensions. If `width`\n    is null, the DOM element will get no width style.\n    */\n    constructor(className, left, top, width, height) {\n        this.className = className;\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    update(elt, prev) {\n        if (prev.className != this.className)\n            return false;\n        this.adjust(elt);\n        return true;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width != null)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n    /**\n    Create a set of rectangles for the given selection range,\n    assigning them theclass`className`. Will create a single\n    rectangle for empty ranges, and a set of selection-style\n    rectangles covering the range's content (in a bidi-aware\n    way) for non-empty ones.\n    */\n    static forRange(view, className, range) {\n        if (range.empty) {\n            let pos = view.coordsAtPos(range.head, range.assoc || 1);\n            if (!pos)\n                return [];\n            let base = getBase(view);\n            return [new RectangleMarker(className, pos.left - base.left, pos.top - base.top, null, pos.bottom - pos.top)];\n        }\n        else {\n            return rectanglesForRange(view, className, range);\n        }\n    }\n}\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: BlockType.Text };\n}\nfunction blockAt(view, pos) {\n    let line = view.lineBlockAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction rectanglesForRange(view, className, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineStyle = window.getComputedStyle(content.firstChild);\n    let leftSide = contentRect.left + parseInt(lineStyle.paddingLeft) + Math.min(0, parseInt(lineStyle.textIndent));\n    let rightSide = contentRect.right - parseInt(lineStyle.paddingRight);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == BlockType.Text ? endBlock : null;\n    if (view.lineWrapping) {\n        if (visualStart)\n            visualStart = wrappedLine(view, from, visualStart);\n        if (visualEnd)\n            visualEnd = wrappedLine(view, to, visualEnd);\n    }\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - 1)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && view.elementAtHeight((top.bottom + bottom.top) / 2).type == BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new RectangleMarker(className, left - base.left, top - base.top - 0.01 /* C.Epsilon */, right - left, bottom - top + 0.01 /* C.Epsilon */);\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction sameMarker(a, b) {\n    return a.constructor == b.constructor && a.eq(b);\n}\nclass LayerView {\n    constructor(view, layer) {\n        this.view = view;\n        this.layer = layer;\n        this.drawn = [];\n        this.measureReq = { read: this.measure.bind(this), write: this.draw.bind(this) };\n        this.dom = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.dom.classList.add(\"cm-layer\");\n        if (layer.above)\n            this.dom.classList.add(\"cm-layer-above\");\n        if (layer.class)\n            this.dom.classList.add(layer.class);\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.setOrder(view.state);\n        view.requestMeasure(this.measureReq);\n        if (layer.mount)\n            layer.mount(this.dom, view);\n    }\n    update(update) {\n        if (update.startState.facet(layerOrder) != update.state.facet(layerOrder))\n            this.setOrder(update.state);\n        if (this.layer.update(update, this.dom) || update.geometryChanged)\n            update.view.requestMeasure(this.measureReq);\n    }\n    setOrder(state) {\n        let pos = 0, order = state.facet(layerOrder);\n        while (pos < order.length && order[pos] != this.layer)\n            pos++;\n        this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - pos);\n    }\n    measure() {\n        return this.layer.markers(this.view);\n    }\n    draw(markers) {\n        if (markers.length != this.drawn.length || markers.some((p, i) => !sameMarker(p, this.drawn[i]))) {\n            let old = this.dom.firstChild, oldI = 0;\n            for (let marker of markers) {\n                if (marker.update && old && marker.constructor && this.drawn[oldI].constructor &&\n                    marker.update(old, this.drawn[oldI])) {\n                    old = old.nextSibling;\n                    oldI++;\n                }\n                else {\n                    this.dom.insertBefore(marker.draw(), old);\n                }\n            }\n            while (old) {\n                let next = old.nextSibling;\n                old.remove();\n                old = next;\n            }\n            this.drawn = markers;\n        }\n    }\n    destroy() {\n        if (this.layer.destroy)\n            this.layer.destroy(this.dom, this.view);\n        this.dom.remove();\n    }\n}\nconst layerOrder = /*@__PURE__*/Facet.define();\n/**\nDefine a layer.\n*/\nfunction layer(config) {\n    return [\n        ViewPlugin.define(v => new LayerView(v, config)),\n        layerOrder.of(config)\n    ];\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        cursorLayer,\n        selectionLayer,\n        hideNativeSelection,\n        nativeSelectionHidden.of(true)\n    ];\n}\nfunction configChanged(update) {\n    return update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n}\nconst cursorLayer = /*@__PURE__*/layer({\n    above: true,\n    markers(view) {\n        let { state } = view, conf = state.facet(selectionConfig);\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let className = prim ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\";\n                let cursor = r.empty ? r : EditorSelection.cursor(r.head, r.head > r.anchor ? -1 : 1);\n                for (let piece of RectangleMarker.forRange(view, className, cursor))\n                    cursors.push(piece);\n            }\n        }\n        return cursors;\n    },\n    update(update, dom) {\n        if (update.transactions.some(tr => tr.selection))\n            dom.style.animationName = dom.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        let confChange = configChanged(update);\n        if (confChange)\n            setBlinkRate(update.state, dom);\n        return update.docChanged || update.selectionSet || confChange;\n    },\n    mount(dom, view) {\n        setBlinkRate(view.state, dom);\n    },\n    class: \"cm-cursorLayer\"\n});\nfunction setBlinkRate(state, dom) {\n    dom.style.animationDuration = state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n}\nconst selectionLayer = /*@__PURE__*/layer({\n    above: false,\n    markers(view) {\n        return view.state.selection.ranges.map(r => r.empty ? [] : RectangleMarker.forRange(view, \"cm-selectionBackground\", r))\n            .reduce((a, b) => a.concat(b));\n    },\n    update(update, dom) {\n        return update.docChanged || update.selectionSet || update.viewportChanged || configChanged(update);\n    },\n    class: \"cm-selectionLayer\"\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.theme(themeSpec));\n\nconst setDropCursorPos = /*@__PURE__*/StateEffect.define({\n    map(pos, mapping) { return pos == null ? null : mapping.mapPos(pos); }\n});\nconst dropCursorPos = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(pos, tr) {\n        if (pos != null)\n            pos = tr.changes.mapPos(pos);\n        return tr.effects.reduce((pos, e) => e.is(setDropCursorPos) ? e.value : pos, pos);\n    }\n});\nconst drawDropCursor = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.cursor = null;\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };\n    }\n    update(update) {\n        var _a;\n        let cursorPos = update.state.field(dropCursorPos);\n        if (cursorPos == null) {\n            if (this.cursor != null) {\n                (_a = this.cursor) === null || _a === void 0 ? void 0 : _a.remove();\n                this.cursor = null;\n            }\n        }\n        else {\n            if (!this.cursor) {\n                this.cursor = this.view.scrollDOM.appendChild(document.createElement(\"div\"));\n                this.cursor.className = \"cm-dropCursor\";\n            }\n            if (update.startState.field(dropCursorPos) != cursorPos || update.docChanged || update.geometryChanged)\n                this.view.requestMeasure(this.measureReq);\n        }\n    }\n    readPos() {\n        let pos = this.view.state.field(dropCursorPos);\n        let rect = pos != null && this.view.coordsAtPos(pos);\n        if (!rect)\n            return null;\n        let outer = this.view.scrollDOM.getBoundingClientRect();\n        return {\n            left: rect.left - outer.left + this.view.scrollDOM.scrollLeft,\n            top: rect.top - outer.top + this.view.scrollDOM.scrollTop,\n            height: rect.bottom - rect.top\n        };\n    }\n    drawCursor(pos) {\n        if (this.cursor) {\n            if (pos) {\n                this.cursor.style.left = pos.left + \"px\";\n                this.cursor.style.top = pos.top + \"px\";\n                this.cursor.style.height = pos.height + \"px\";\n            }\n            else {\n                this.cursor.style.left = \"-100000px\";\n            }\n        }\n    }\n    destroy() {\n        if (this.cursor)\n            this.cursor.remove();\n    }\n    setDropPos(pos) {\n        if (this.view.state.field(dropCursorPos) != pos)\n            this.view.dispatch({ effects: setDropCursorPos.of(pos) });\n    }\n}, {\n    eventHandlers: {\n        dragover(event) {\n            this.setDropPos(this.view.posAtCoords({ x: event.clientX, y: event.clientY }));\n        },\n        dragleave(event) {\n            if (event.target == this.view.contentDOM || !this.view.contentDOM.contains(event.relatedTarget))\n                this.setDropPos(null);\n        },\n        dragend() {\n            this.setDropPos(null);\n        },\n        drop() {\n            this.setDropPos(null);\n        }\n    }\n});\n/**\nDraws a cursor at the current drop position when something is\ndragged over the editor.\n*/\nfunction dropCursor() {\n    return [dropCursorPos, drawDropCursor];\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, m);\n    }\n}\nfunction matchRanges(view, maxLength) {\n    let visible = view.visibleRanges;\n    if (visible.length == 1 && visible[0].from == view.viewport.from &&\n        visible[0].to == view.viewport.to)\n        return visible;\n    let result = [];\n    for (let { from, to } of visible) {\n        from = Math.max(view.state.doc.lineAt(from).from, from - maxLength);\n        to = Math.min(view.state.doc.lineAt(to).to, to + maxLength);\n        if (result.length && result[result.length - 1].to >= from)\n            result[result.length - 1].to = to;\n        else\n            result.push({ from, to });\n    }\n    return result;\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        const { regexp, decoration, decorate, boundary, maxLength = 1000 } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        if (decorate) {\n            this.addMatch = (match, view, from, add) => decorate(add, from, from + match[0].length, match, view);\n        }\n        else if (typeof decoration == \"function\") {\n            this.addMatch = (match, view, from, add) => {\n                let deco = decoration(match, view, from);\n                if (deco)\n                    add(from, from + match[0].length, deco);\n            };\n        }\n        else if (decoration) {\n            this.addMatch = (match, _view, from, add) => add(from, from + match[0].length, decoration);\n        }\n        else {\n            throw new RangeError(\"Either 'decorate' or 'decoration' should be provided to MatchDecorator\");\n        }\n        this.boundary = boundary;\n        this.maxLength = maxLength;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new RangeSetBuilder(), add = build.add.bind(build);\n        for (let { from, to } of matchRanges(view, this.maxLength))\n            iterMatches(view.state.doc, this.regexp, from, to, (from, m) => this.addMatch(m, view, from, add));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                let add = (from, to, deco) => ranges.push(deco.range(from, to));\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from)\n                        this.addMatch(m, view, m.index + fromLine.from, add);\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, m) => this.addMatch(m, view, from, add));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = /*@__PURE__*/new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8237: \"left-to-right override\",\n    8238: \"right-to-left override\",\n    8294: \"left-to-right isolate\",\n    8295: \"right-to-left isolate\",\n    8297: \"pop directional isolate\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let config = combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = countColumn(line.text, size, pos - line.from);\n                        return Decoration.replace({ widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth) });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\nconst plugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor() {\n        this.height = 1000;\n        this.attrs = { style: \"padding-bottom: 1000px\" };\n    }\n    update(update) {\n        let { view } = update;\n        let height = view.viewState.editorHeight - view.defaultLineHeight - view.documentPadding.top - 0.5;\n        if (height != this.height) {\n            this.height = height;\n            this.attrs = { style: `padding-bottom: ${height}px` };\n        }\n    }\n});\n/**\nReturns an extension that makes sure the content has a bottom\nmargin equivalent to the height of the editor, minus one line\nheight, so that every line in the document can be scrolled to the\ntop of the editor.\n\nThis is only meaningful when the editor is scrollable, and should\nnot be enabled in editors that take the size of their content.\n*/\nfunction scrollPastEnd() {\n    return [plugin, contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.attrs) || null; })];\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = /*@__PURE__*/Decoration.line({ class: \"cm-activeLine\" });\nconst activeLineHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            let line = view.lineBlockAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholdera piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)]);\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            let start = findColumn(line.text, startCol, state.tabSize, true);\n            if (start < 0) {\n                ranges.push(EditorSelection.cursor(line.to));\n            }\n            else {\n                let end = findColumn(line.text, endCol, state.tabSize);\n                ranges.push(EditorSelection.range(line.from + start, line.from + end));\n            }\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : countColumn(line.text, view.state.tabSize, offset - line.from);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\nconst keys = {\n    Alt: [18, e => e.altKey],\n    Control: [17, e => e.ctrlKey],\n    Shift: [16, e => e.shiftKey],\n    Meta: [91, e => e.metaKey]\n};\nconst showCrosshair = { style: \"cursor: crosshair\" };\n/**\nReturns an extension that turns the pointer cursor into a\ncrosshair when a given modifier key, defaulting to Alt, is held\ndown. Can serve as a visual hint that rectangular selection is\ngoing to happen when paired with\n[`rectangularSelection`](https://codemirror.net/6/docs/ref/#view.rectangularSelection).\n*/\nfunction crosshairCursor(options = {}) {\n    let [code, getter] = keys[options.key || \"Alt\"];\n    let plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.isDown = false;\n        }\n        set(isDown) {\n            if (this.isDown != isDown) {\n                this.isDown = isDown;\n                this.view.update([]);\n            }\n        }\n    }, {\n        eventHandlers: {\n            keydown(e) {\n                this.set(e.keyCode == code || getter(e));\n            },\n            keyup(e) {\n                if (e.keyCode == code || !getter(e))\n                    this.set(false);\n            },\n            mousemove(e) {\n                this.set(getter(e));\n            }\n        }\n    });\n    return [\n        plugin,\n        EditorView.contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.isDown) ? showCrosshair : null; })\n    ];\n}\n\nconst Outside = \"-10000px\";\nclass TooltipViewManager {\n    constructor(view, facet, createTooltipView) {\n        this.facet = facet;\n        this.createTooltipView = createTooltipView;\n        this.input = view.state.facet(facet);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(createTooltipView);\n    }\n    update(update) {\n        var _a;\n        let input = update.state.facet(this.facet);\n        let tooltips = input.filter(x => x);\n        if (input === this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n            return false;\n        }\n        let tooltipViews = [];\n        for (let i = 0; i < tooltips.length; i++) {\n            let tip = tooltips[i], known = -1;\n            if (!tip)\n                continue;\n            for (let i = 0; i < this.tooltips.length; i++) {\n                let other = this.tooltips[i];\n                if (other && other.create == tip.create)\n                    known = i;\n            }\n            if (known < 0) {\n                tooltipViews[i] = this.createTooltipView(tip);\n            }\n            else {\n                let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                if (tooltipView.update)\n                    tooltipView.update(update);\n            }\n        }\n        for (let t of this.tooltipViews)\n            if (tooltipViews.indexOf(t) < 0) {\n                t.dom.remove();\n                (_a = t.destroy) === null || _a === void 0 ? void 0 : _a.call(t);\n            }\n        this.input = input;\n        this.tooltips = tooltips;\n        this.tooltipViews = tooltipViews;\n        return true;\n    }\n}\n/**\nCreates an extension that configures tooltip behavior.\n*/\nfunction tooltips(config = {}) {\n    return tooltipConfig.of(config);\n}\nfunction windowSpace(view) {\n    let { win } = view;\n    return { top: 0, left: 0, bottom: win.innerHeight, right: win.innerWidth };\n}\nconst tooltipConfig = /*@__PURE__*/Facet.define({\n    combine: values => {\n        var _a, _b, _c;\n        return ({\n            position: browser.ios ? \"absolute\" : ((_a = values.find(conf => conf.position)) === null || _a === void 0 ? void 0 : _a.position) || \"fixed\",\n            parent: ((_b = values.find(conf => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null,\n            tooltipSpace: ((_c = values.find(conf => conf.tooltipSpace)) === null || _c === void 0 ? void 0 : _c.tooltipSpace) || windowSpace,\n        });\n    }\n});\nconst tooltipPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.inView = true;\n        this.lastTransaction = 0;\n        this.measureTimeout = -1;\n        let config = view.state.facet(tooltipConfig);\n        this.position = config.position;\n        this.parent = config.parent;\n        this.classes = view.themeClasses;\n        this.createContainer();\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.manager = new TooltipViewManager(view, showTooltip, t => this.createTooltip(t));\n        this.intersectionObserver = typeof IntersectionObserver == \"function\" ? new IntersectionObserver(entries => {\n            if (Date.now() > this.lastTransaction - 50 &&\n                entries.length > 0 && entries[entries.length - 1].intersectionRatio < 1)\n                this.measureSoon();\n        }, { threshold: [1] }) : null;\n        this.observeIntersection();\n        view.win.addEventListener(\"resize\", this.measureSoon = this.measureSoon.bind(this));\n        this.maybeMeasure();\n    }\n    createContainer() {\n        if (this.parent) {\n            this.container = document.createElement(\"div\");\n            this.container.style.position = \"relative\";\n            this.container.className = this.view.themeClasses;\n            this.parent.appendChild(this.container);\n        }\n        else {\n            this.container = this.view.dom;\n        }\n    }\n    observeIntersection() {\n        if (this.intersectionObserver) {\n            this.intersectionObserver.disconnect();\n            for (let tooltip of this.manager.tooltipViews)\n                this.intersectionObserver.observe(tooltip.dom);\n        }\n    }\n    measureSoon() {\n        if (this.measureTimeout < 0)\n            this.measureTimeout = setTimeout(() => {\n                this.measureTimeout = -1;\n                this.maybeMeasure();\n            }, 50);\n    }\n    update(update) {\n        if (update.transactions.length)\n            this.lastTransaction = Date.now();\n        let updated = this.manager.update(update);\n        if (updated)\n            this.observeIntersection();\n        let shouldMeasure = updated || update.geometryChanged;\n        let newConfig = update.state.facet(tooltipConfig);\n        if (newConfig.position != this.position) {\n            this.position = newConfig.position;\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = this.position;\n            shouldMeasure = true;\n        }\n        if (newConfig.parent != this.parent) {\n            if (this.parent)\n                this.container.remove();\n            this.parent = newConfig.parent;\n            this.createContainer();\n            for (let t of this.manager.tooltipViews)\n                this.container.appendChild(t.dom);\n            shouldMeasure = true;\n        }\n        else if (this.parent && this.view.themeClasses != this.classes) {\n            this.classes = this.container.className = this.view.themeClasses;\n        }\n        if (shouldMeasure)\n            this.maybeMeasure();\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        if (tooltip.arrow && !tooltipView.dom.querySelector(\".cm-tooltip > .cm-tooltip-arrow\")) {\n            let arrow = document.createElement(\"div\");\n            arrow.className = \"cm-tooltip-arrow\";\n            tooltipView.dom.appendChild(arrow);\n        }\n        tooltipView.dom.style.position = this.position;\n        tooltipView.dom.style.top = Outside;\n        this.container.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        var _a, _b;\n        this.view.win.removeEventListener(\"resize\", this.measureSoon);\n        for (let tooltipView of this.manager.tooltipViews) {\n            tooltipView.dom.remove();\n            (_a = tooltipView.destroy) === null || _a === void 0 ? void 0 : _a.call(tooltipView);\n        }\n        (_b = this.intersectionObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n        clearTimeout(this.measureTimeout);\n    }\n    readMeasure() {\n        let editor = this.view.dom.getBoundingClientRect();\n        return {\n            editor,\n            parent: this.parent ? this.container.getBoundingClientRect() : editor,\n            pos: this.manager.tooltips.map((t, i) => {\n                let tv = this.manager.tooltipViews[i];\n                return tv.getCoords ? tv.getCoords(t.pos) : this.view.coordsAtPos(t.pos);\n            }),\n            size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            space: this.view.state.facet(tooltipConfig).tooltipSpace(this.view),\n        };\n    }\n    writeMeasure(measured) {\n        let { editor, space } = measured;\n        let others = [];\n        for (let i = 0; i < this.manager.tooltips.length; i++) {\n            let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= Math.max(editor.top, space.top) ||\n                pos.top >= Math.min(editor.bottom, space.bottom) ||\n                pos.right < Math.max(editor.left, space.left) - .1 ||\n                pos.left > Math.min(editor.right, space.right) + .1) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let arrow = tooltip.arrow ? tView.dom.querySelector(\".cm-tooltip-arrow\") : null;\n            let arrowHeight = arrow ? 7 /* Arrow.Size */ : 0;\n            let width = size.right - size.left, height = size.bottom - size.top;\n            let offset = tView.offset || noOffset, ltr = this.view.textDirection == Direction.LTR;\n            let left = size.width > space.right - space.left ? (ltr ? space.left : space.right - size.width)\n                : ltr ? Math.min(pos.left - (arrow ? 14 /* Arrow.Offset */ : 0) + offset.x, space.right - width)\n                    : Math.max(space.left, pos.left - width + (arrow ? 14 /* Arrow.Offset */ : 0) - offset.x);\n            let above = !!tooltip.above;\n            if (!tooltip.strictSide && (above\n                ? pos.top - (size.bottom - size.top) - offset.y < space.top\n                : pos.bottom + (size.bottom - size.top) + offset.y > space.bottom) &&\n                above == (space.bottom - pos.bottom > pos.top - space.top))\n                above = !above;\n            let spaceVert = (above ? pos.top - space.top : space.bottom - pos.bottom) - arrowHeight;\n            if (spaceVert < height && tView.resize !== false) {\n                if (spaceVert < this.view.defaultLineHeight) {\n                    dom.style.top = Outside;\n                    continue;\n                }\n                dom.style.height = (height = spaceVert) + \"px\";\n            }\n            else if (dom.style.height) {\n                dom.style.height = \"\";\n            }\n            let top = above ? pos.top - height - arrowHeight - offset.y : pos.bottom + arrowHeight + offset.y;\n            let right = left + width;\n            if (tView.overlap !== true)\n                for (let r of others)\n                    if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                        top = above ? r.top - height - 2 - arrowHeight : r.bottom + arrowHeight + 2;\n            if (this.position == \"absolute\") {\n                dom.style.top = (top - measured.parent.top) + \"px\";\n                dom.style.left = (left - measured.parent.left) + \"px\";\n            }\n            else {\n                dom.style.top = top + \"px\";\n                dom.style.left = left + \"px\";\n            }\n            if (arrow)\n                arrow.style.left = `${pos.left + (ltr ? offset.x : -offset.x) - (left + 14 /* Arrow.Offset */ - 7 /* Arrow.Size */)}px`;\n            if (tView.overlap !== true)\n                others.push({ left, top, right, bottom: top + height });\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned(measured.space);\n        }\n    }\n    maybeMeasure() {\n        if (this.manager.tooltips.length) {\n            if (this.view.inView)\n                this.view.requestMeasure(this.measureReq);\n            if (this.inView != this.view.inView) {\n                this.inView = this.view.inView;\n                if (!this.inView)\n                    for (let tv of this.manager.tooltipViews)\n                        tv.dom.style.top = Outside;\n            }\n        }\n    }\n}, {\n    eventHandlers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip\": {\n        zIndex: 100,\n        boxSizing: \"border-box\"\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #bbb\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&light .cm-tooltip-section:not(:first-child)\": {\n        borderTop: \"1px solid #bbb\",\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tooltip-arrow\": {\n        height: `${7 /* Arrow.Size */}px`,\n        width: `${7 /* Arrow.Size */ * 2}px`,\n        position: \"absolute\",\n        zIndex: -1,\n        overflow: \"hidden\",\n        \"&:before, &:after\": {\n            content: \"''\",\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            borderLeft: `${7 /* Arrow.Size */}px solid transparent`,\n            borderRight: `${7 /* Arrow.Size */}px solid transparent`,\n        },\n        \".cm-tooltip-above &\": {\n            bottom: `-${7 /* Arrow.Size */}px`,\n            \"&:before\": {\n                borderTop: `${7 /* Arrow.Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderTop: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                bottom: \"1px\"\n            }\n        },\n        \".cm-tooltip-below &\": {\n            top: `-${7 /* Arrow.Size */}px`,\n            \"&:before\": {\n                borderBottom: `${7 /* Arrow.Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderBottom: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                top: \"1px\"\n            }\n        },\n    },\n    \"&dark .cm-tooltip .cm-tooltip-arrow\": {\n        \"&:before\": {\n            borderTopColor: \"#333338\",\n            borderBottomColor: \"#333338\"\n        },\n        \"&:after\": {\n            borderTopColor: \"transparent\",\n            borderBottomColor: \"transparent\"\n        }\n    }\n});\nconst noOffset = { x: 0, y: 0 };\n/**\nFacet to which an extension can add a value to show a tooltip.\n*/\nconst showTooltip = /*@__PURE__*/Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst showHoverTooltip = /*@__PURE__*/Facet.define();\nclass HoverTooltipHost {\n    constructor(view) {\n        this.view = view;\n        this.mounted = false;\n        this.dom = document.createElement(\"div\");\n        this.dom.classList.add(\"cm-tooltip-hover\");\n        this.manager = new TooltipViewManager(view, showHoverTooltip, t => this.createHostedView(t));\n    }\n    // Needs to be static so that host tooltip instances always match\n    static create(view) {\n        return new HoverTooltipHost(view);\n    }\n    createHostedView(tooltip) {\n        let hostedView = tooltip.create(this.view);\n        hostedView.dom.classList.add(\"cm-tooltip-section\");\n        this.dom.appendChild(hostedView.dom);\n        if (this.mounted && hostedView.mount)\n            hostedView.mount(this.view);\n        return hostedView;\n    }\n    mount(view) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.mount)\n                hostedView.mount(view);\n        }\n        this.mounted = true;\n    }\n    positioned(space) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.positioned)\n                hostedView.positioned(space);\n        }\n    }\n    update(update) {\n        this.manager.update(update);\n    }\n}\nconst showHoverTooltipHost = /*@__PURE__*/showTooltip.compute([showHoverTooltip], state => {\n    let tooltips = state.facet(showHoverTooltip).filter(t => t);\n    if (tooltips.length === 0)\n        return null;\n    return {\n        pos: Math.min(...tooltips.map(t => t.pos)),\n        end: Math.max(...tooltips.filter(t => t.end != null).map(t => t.end)),\n        create: HoverTooltipHost.create,\n        above: tooltips[0].above,\n        arrow: tooltips.some(t => t.arrow),\n    };\n});\nclass HoverPlugin {\n    constructor(view, source, field, setHover, hoverTime) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.hoverTime = hoverTime;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.lastMove = { x: 0, y: 0, target: view.dom, time: 0 };\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let hovered = Date.now() - this.lastMove.time;\n        if (hovered < this.hoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n        else\n            this.startHover();\n    }\n    startHover() {\n        clearTimeout(this.restartTimeout);\n        let { lastMove } = this;\n        let pos = this.view.contentDOM.contains(lastMove.target) ? this.view.posAtCoords(lastMove) : null;\n        if (pos == null)\n            return;\n        let posCoords = this.view.coordsAtPos(pos);\n        if (posCoords == null || lastMove.y < posCoords.top || lastMove.y > posCoords.bottom ||\n            lastMove.x < posCoords.left - this.view.defaultCharacterWidth ||\n            lastMove.x > posCoords.right + this.view.defaultCharacterWidth)\n            return;\n        let bidi = this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n        let rtl = bidi && bidi.dir == Direction.RTL ? -1 : 1;\n        let open = this.source(this.view, pos, (lastMove.x < posCoords.left ? -rtl : rtl));\n        if (open === null || open === void 0 ? void 0 : open.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        this.view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(this.view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            this.view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMove = { x: event.clientX, y: event.clientY, target: event.target, time: Date.now() };\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(this.lastMove.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords(this.lastMove) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY, 6 /* Hover.MaxDist */))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave(e) {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active && !isInTooltip(e.relatedTarget))\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let range = document.createRange();\n    let fromDOM = view.domAtPos(from), toDOM = view.domAtPos(to);\n    range.setEnd(toDOM.node, toDOM.offset);\n    range.setStart(fromDOM.node, fromDOM.offset);\n    let rects = range.getClientRects();\n    range.detach();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        let dist = Math.max(rect.top - y, y - rect.bottom, rect.left - x, x - rect.right);\n        if (dist <= margin)\n            return true;\n    }\n    return false;\n}\n/**\nSet up a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos`, return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer isit will be -1 if the\npointer is before the position, 1 if after the position.\n\nNote that all hover tooltips are hosted within a single tooltip\ncontainer element. This allows multiple tooltips over the same\nrange to be \"merged\" together without overlapping.\n*/\nfunction hoverTooltip(source, options = {}) {\n    let setHover = StateEffect.define();\n    let hoverState = StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection) ||\n                options.hideOn && options.hideOn(tr, value)))\n                return null;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                value = copy;\n            }\n            for (let effect of tr.effects) {\n                if (effect.is(setHover))\n                    value = effect.value;\n                if (effect.is(closeHoverTooltipEffect))\n                    value = null;\n            }\n            return value;\n        },\n        provide: f => showHoverTooltip.from(f)\n    });\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, options.hoverTime || 300 /* Hover.Time */)),\n        showHoverTooltipHost\n    ];\n}\n/**\nGet the active tooltip view for a given tooltip, if available.\n*/\nfunction getTooltip(view, tooltip) {\n    let plugin = view.plugin(tooltipPlugin);\n    if (!plugin)\n        return null;\n    let found = plugin.manager.tooltips.indexOf(tooltip);\n    return found < 0 ? null : plugin.manager.tooltipViews[found];\n}\n/**\nReturns true if any hover tooltips are currently active.\n*/\nfunction hasHoverTooltips(state) {\n    return state.facet(showHoverTooltip).some(x => x);\n}\nconst closeHoverTooltipEffect = /*@__PURE__*/StateEffect.define();\n/**\nTransaction effect that closes all hover tooltips.\n*/\nconst closeHoverTooltips = /*@__PURE__*/closeHoverTooltipEffect.of(null);\n/**\nTell the tooltip extension to recompute the position of the active\ntooltips. This can be useful when something happens (such as a\nre-positioning or CSS change affecting the editor) that could\ninvalidate the existing tooltip positions.\n*/\nfunction repositionTooltips(view) {\n    var _a;\n    (_a = view.plugin(tooltipPlugin)) === null || _a === void 0 ? void 0 : _a.maybeMeasure();\n}\n\nconst panelConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        return value && { top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() };\n    })\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        for (let p of this.panels)\n            if (p.destroy && panels.indexOf(p) < 0)\n                p.destroy();\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = /*@__PURE__*/Facet.define({\n    enables: panelPlugin\n});\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n    /**\n    Called if the marker has a `toDOM` method and its representation\n    was removed from a gutter.\n    */\n    destroy(dom) { }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = MapMode.TrackBefore;\nGutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#view.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#view.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = /*@__PURE__*/Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => RangeSet.empty,\n    lineMarker: () => null,\n    lineMarkerChange: null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = /*@__PURE__*/Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst unfixGutters = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.prevViewport = view.viewport;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        this.syncGutters(false);\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n    }\n    update(update) {\n        if (this.updateGutters(update)) {\n            // Detach during sync when the viewport changed significantly\n            // (such as during scrolling), since for large updates that is\n            // faster.\n            let vpA = this.prevViewport, vpB = update.view.viewport;\n            let vpOverlap = Math.min(vpA.to, vpB.to) - Math.max(vpA.from, vpB.from);\n            this.syncGutters(vpOverlap < (vpB.to - vpB.from) * 0.8);\n        }\n        if (update.geometryChanged)\n            this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n        this.prevViewport = update.view.viewport;\n    }\n    syncGutters(detach) {\n        let after = this.dom.nextSibling;\n        if (detach)\n            this.dom.remove();\n        let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport, -this.view.documentPadding.top));\n        for (let line of this.view.viewportLineBlocks) {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                continue;\n            if (classSet.length)\n                classSet = [];\n            advanceCursor(lineClasses, classSet, line.from);\n            for (let cx of contexts)\n                cx.line(this.view, text, classSet);\n        }\n        for (let cx of contexts)\n            cx.finish();\n        if (detach)\n            this.view.scrollDOM.insertBefore(this.dom, after);\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters) {\n                g.dom.remove();\n                if (gutters.indexOf(g) < 0)\n                    g.destroy();\n            }\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        for (let view of this.gutters)\n            view.destroy();\n        this.dom.remove();\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        if (!value || value.gutters.length == 0 || !value.fixed)\n            return null;\n        return view.textDirection == Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport, height) {\n        this.gutter = gutter;\n        this.height = height;\n        this.i = 0;\n        this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line, extraMarkers) {\n        let localMarkers = [];\n        advanceCursor(this.cursor, localMarkers, line.from);\n        if (extraMarkers.length)\n            localMarkers = localMarkers.concat(extraMarkers);\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            gutter.elements[this.i].update(view, line.height, above, localMarkers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i) {\n            let last = gutter.elements.pop();\n            gutter.dom.removeChild(last.dom);\n            last.destroy();\n        }\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let target = event.target, y;\n                if (target != this.dom && this.dom.contains(target)) {\n                    while (target.parentNode != this.dom)\n                        target = target.parentNode;\n                    let rect = target.getBoundingClientRect();\n                    y = (rect.top + rect.bottom) / 2;\n                }\n                else {\n                    y = event.clientY;\n                }\n                let line = view.lineBlockAtHeight(y - view.documentTop);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to) ||\n            (this.config.lineMarkerChange ? this.config.lineMarkerChange(update) : false);\n    }\n    destroy() {\n        for (let elt of this.elements)\n            elt.destroy();\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.markers = [];\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutterElement\";\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (!sameMarkers(this.markers, markers))\n            this.setMarkers(view, markers);\n    }\n    setMarkers(view, markers) {\n        let cls = \"cm-gutterElement\", domPos = this.dom.firstChild;\n        for (let iNew = 0, iOld = 0;;) {\n            let skipTo = iOld, marker = iNew < markers.length ? markers[iNew++] : null, matched = false;\n            if (marker) {\n                let c = marker.elementClass;\n                if (c)\n                    cls += \" \" + c;\n                for (let i = iOld; i < this.markers.length; i++)\n                    if (this.markers[i].compare(marker)) {\n                        skipTo = i;\n                        matched = true;\n                        break;\n                    }\n            }\n            else {\n                skipTo = this.markers.length;\n            }\n            while (iOld < skipTo) {\n                let next = this.markers[iOld++];\n                if (next.toDOM) {\n                    next.destroy(domPos);\n                    let after = domPos.nextSibling;\n                    domPos.remove();\n                    domPos = after;\n                }\n            }\n            if (!marker)\n                break;\n            if (marker.toDOM) {\n                if (matched)\n                    domPos = domPos.nextSibling;\n                else\n                    this.dom.insertBefore(marker.toDOM(view), domPos);\n            }\n            if (matched)\n                iOld++;\n        }\n        this.dom.className = cls;\n        this.markers = markers;\n    }\n    destroy() {\n        this.setMarkers(null, []); // First argument not used unless creating markers\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = /*@__PURE__*/Facet.define();\nconst lineNumberConfig = /*@__PURE__*/Facet.define({\n    combine(values) {\n        return combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM() { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = /*@__PURE__*/activeGutters.compute([lineNumberConfig], state => ({\n    class: \"cm-lineNumbers\",\n    renderEmptyElements: false,\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    lineMarkerChange: update => update.startState.facet(lineNumberConfig) != update.state.facet(lineNumberConfig),\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    },\n    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers\n}));\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        gutters(),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = /*@__PURE__*/new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n};\nconst activeLineGutterHighlighter = /*@__PURE__*/gutterLineClass.compute([\"selection\"], state => {\n    let marks = [], last = -1;\n    for (let range of state.selection.ranges) {\n        let linePos = state.doc.lineAt(range.head).from;\n        if (linePos > last) {\n            last = linePos;\n            marks.push(activeLineGutterMarker.range(linePos));\n        }\n    }\n    return RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\nconst WhitespaceDeco = /*@__PURE__*/new Map();\nfunction getWhitespaceDeco(space) {\n    let deco = WhitespaceDeco.get(space);\n    if (!deco)\n        WhitespaceDeco.set(space, deco = Decoration.mark({\n            attributes: space === \"\\t\" ? {\n                class: \"cm-highlightTab\",\n            } : {\n                class: \"cm-highlightSpace\",\n                \"data-display\": space.replace(/ /g, \"\")\n            }\n        }));\n    return deco;\n}\nfunction matcher(decorator) {\n    return ViewPlugin.define(view => ({\n        decorations: decorator.createDeco(view),\n        update(u) {\n            this.decorations = decorator.updateDeco(u, this.decorations);\n        },\n    }), {\n        decorations: v => v.decorations\n    });\n}\nconst whitespaceHighlighter = /*@__PURE__*/matcher(/*@__PURE__*/new MatchDecorator({\n    regexp: /\\t| +/g,\n    decoration: match => getWhitespaceDeco(match[0]),\n    boundary: /\\S/,\n}));\n/**\nReturns an extension that highlights whitespace, adding a\n`cm-highlightSpace` class to stretches of spaces, and a\n`cm-highlightTab` class to individual tab characters. By default,\nthe former are shown as faint dots, and the latter as arrows.\n*/\nfunction highlightWhitespace() {\n    return whitespaceHighlighter;\n}\nconst trailingHighlighter = /*@__PURE__*/matcher(/*@__PURE__*/new MatchDecorator({\n    regexp: /\\s+$/g,\n    decoration: /*@__PURE__*/Decoration.mark({ class: \"cm-trailingSpace\" }),\n    boundary: /\\S/,\n}));\n/**\nReturns an extension that adds a `cm-trailingSpace` class to all\ntrailing whitespace.\n*/\nfunction highlightTrailingWhitespace() {\n    return trailingHighlighter;\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexport { BidiSpan, BlockInfo, BlockType, Decoration, Direction, EditorView, GutterMarker, MatchDecorator, RectangleMarker, ViewPlugin, ViewUpdate, WidgetType, __test, closeHoverTooltips, crosshairCursor, drawSelection, dropCursor, getPanel, getTooltip, gutter, gutterLineClass, gutters, hasHoverTooltips, highlightActiveLine, highlightActiveLineGutter, highlightSpecialChars, highlightTrailingWhitespace, highlightWhitespace, hoverTooltip, keymap, layer, lineNumberMarkers, lineNumbers, logException, panels, placeholder, rectangularSelection, repositionTooltips, runScopeHandlers, scrollPastEnd, showPanel, showTooltip, tooltips };\n","// FIXME profile adding a per-Tree TreeNode cache, validating it by\n// parent pointer\n/// The default maximum length of a `TreeBuffer` node.\nconst DefaultBufferLength = 1024;\nlet nextPropID = 0;\nclass Range {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\n/// Each [node type](#common.NodeType) or [individual tree](#common.Tree)\n/// can have metadata associated with it in props. Instances of this\n/// class represent prop names.\nclass NodeProp {\n    /// Create a new node prop type.\n    constructor(config = {}) {\n        this.id = nextPropID++;\n        this.perNode = !!config.perNode;\n        this.deserialize = config.deserialize || (() => {\n            throw new Error(\"This node type doesn't define a deserialize function\");\n        });\n    }\n    /// This is meant to be used with\n    /// [`NodeSet.extend`](#common.NodeSet.extend) or\n    /// [`LRParser.configure`](#lr.ParserConfig.props) to compute\n    /// prop values for each node type in the set. Takes a [match\n    /// object](#common.NodeType^match) or function that returns undefined\n    /// if the node type doesn't get this prop, and the prop's value if\n    /// it does.\n    add(match) {\n        if (this.perNode)\n            throw new RangeError(\"Can't add per-node props to node types\");\n        if (typeof match != \"function\")\n            match = NodeType.match(match);\n        return (type) => {\n            let result = match(type);\n            return result === undefined ? null : [this, result];\n        };\n    }\n}\n/// Prop that is used to describe matching delimiters. For opening\n/// delimiters, this holds an array of node names (written as a\n/// space-separated string when declaring this prop in a grammar)\n/// for the node types of closing delimiters that match it.\nNodeProp.closedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The inverse of [`closedBy`](#common.NodeProp^closedBy). This is\n/// attached to closing delimiters, holding an array of node names\n/// of types of matching opening delimiters.\nNodeProp.openedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// Used to assign node types to groups (for example, all node\n/// types that represent an expression could be tagged with an\n/// `\"Expression\"` group).\nNodeProp.group = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The hash of the [context](#lr.ContextTracker.constructor)\n/// that the node was parsed in, if any. Used to limit reuse of\n/// contextual nodes.\nNodeProp.contextHash = new NodeProp({ perNode: true });\n/// The distance beyond the end of the node that the tokenizer\n/// looked ahead for any of the tokens inside the node. (The LR\n/// parser only stores this when it is larger than 25, for\n/// efficiency reasons.)\nNodeProp.lookAhead = new NodeProp({ perNode: true });\n/// This per-node prop is used to replace a given node, or part of a\n/// node, with another tree. This is useful to include trees from\n/// different languages in mixed-language parsers.\nNodeProp.mounted = new NodeProp({ perNode: true });\n/// A mounted tree, which can be [stored](#common.NodeProp^mounted) on\n/// a tree node to indicate that parts of its content are\n/// represented by another tree.\nclass MountedTree {\n    constructor(\n    /// The inner tree.\n    tree, \n    /// If this is null, this tree replaces the entire node (it will\n    /// be included in the regular iteration instead of its host\n    /// node). If not, only the given ranges are considered to be\n    /// covered by this tree. This is used for trees that are mixed in\n    /// a way that isn't strictly hierarchical. Such mounted trees are\n    /// only entered by [`resolveInner`](#common.Tree.resolveInner)\n    /// and [`enter`](#common.SyntaxNode.enter).\n    overlay, \n    /// The parser used to create this subtree.\n    parser) {\n        this.tree = tree;\n        this.overlay = overlay;\n        this.parser = parser;\n    }\n}\nconst noProps = Object.create(null);\n/// Each node in a syntax tree has a node type associated with it.\nclass NodeType {\n    /// @internal\n    constructor(\n    /// The name of the node type. Not necessarily unique, but if the\n    /// grammar was written properly, different node types with the\n    /// same name within a node set should play the same semantic\n    /// role.\n    name, \n    /// @internal\n    props, \n    /// The id of this node in its set. Corresponds to the term ids\n    /// used in the parser.\n    id, \n    /// @internal\n    flags = 0) {\n        this.name = name;\n        this.props = props;\n        this.id = id;\n        this.flags = flags;\n    }\n    /// Define a node type.\n    static define(spec) {\n        let props = spec.props && spec.props.length ? Object.create(null) : noProps;\n        let flags = (spec.top ? 1 /* NodeFlag.Top */ : 0) | (spec.skipped ? 2 /* NodeFlag.Skipped */ : 0) |\n            (spec.error ? 4 /* NodeFlag.Error */ : 0) | (spec.name == null ? 8 /* NodeFlag.Anonymous */ : 0);\n        let type = new NodeType(spec.name || \"\", props, spec.id, flags);\n        if (spec.props)\n            for (let src of spec.props) {\n                if (!Array.isArray(src))\n                    src = src(type);\n                if (src) {\n                    if (src[0].perNode)\n                        throw new RangeError(\"Can't store a per-node prop on a node type\");\n                    props[src[0].id] = src[1];\n                }\n            }\n        return type;\n    }\n    /// Retrieves a node prop for this type. Will return `undefined` if\n    /// the prop isn't present on this node.\n    prop(prop) { return this.props[prop.id]; }\n    /// True when this is the top node of a grammar.\n    get isTop() { return (this.flags & 1 /* NodeFlag.Top */) > 0; }\n    /// True when this node is produced by a skip rule.\n    get isSkipped() { return (this.flags & 2 /* NodeFlag.Skipped */) > 0; }\n    /// Indicates whether this is an error node.\n    get isError() { return (this.flags & 4 /* NodeFlag.Error */) > 0; }\n    /// When true, this node type doesn't correspond to a user-declared\n    /// named node, for example because it is used to cache repetition.\n    get isAnonymous() { return (this.flags & 8 /* NodeFlag.Anonymous */) > 0; }\n    /// Returns true when this node's name or one of its\n    /// [groups](#common.NodeProp^group) matches the given string.\n    is(name) {\n        if (typeof name == 'string') {\n            if (this.name == name)\n                return true;\n            let group = this.prop(NodeProp.group);\n            return group ? group.indexOf(name) > -1 : false;\n        }\n        return this.id == name;\n    }\n    /// Create a function from node types to arbitrary values by\n    /// specifying an object whose property names are node or\n    /// [group](#common.NodeProp^group) names. Often useful with\n    /// [`NodeProp.add`](#common.NodeProp.add). You can put multiple\n    /// names, separated by spaces, in a single property name to map\n    /// multiple node names to a single value.\n    static match(map) {\n        let direct = Object.create(null);\n        for (let prop in map)\n            for (let name of prop.split(\" \"))\n                direct[name] = map[prop];\n        return (node) => {\n            for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {\n                let found = direct[i < 0 ? node.name : groups[i]];\n                if (found)\n                    return found;\n            }\n        };\n    }\n}\n/// An empty dummy node type to use when no actual type is available.\nNodeType.none = new NodeType(\"\", Object.create(null), 0, 8 /* NodeFlag.Anonymous */);\n/// A node set holds a collection of node types. It is used to\n/// compactly represent trees by storing their type ids, rather than a\n/// full pointer to the type object, in a numeric array. Each parser\n/// [has](#lr.LRParser.nodeSet) a node set, and [tree\n/// buffers](#common.TreeBuffer) can only store collections of nodes\n/// from the same set. A set can have a maximum of 2**16 (65536) node\n/// types in it, so that the ids fit into 16-bit typed array slots.\nclass NodeSet {\n    /// Create a set with the given types. The `id` property of each\n    /// type should correspond to its position within the array.\n    constructor(\n    /// The node types in this set, by id.\n    types) {\n        this.types = types;\n        for (let i = 0; i < types.length; i++)\n            if (types[i].id != i)\n                throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\");\n    }\n    /// Create a copy of this set with some node properties added. The\n    /// arguments to this method can be created with\n    /// [`NodeProp.add`](#common.NodeProp.add).\n    extend(...props) {\n        let newTypes = [];\n        for (let type of this.types) {\n            let newProps = null;\n            for (let source of props) {\n                let add = source(type);\n                if (add) {\n                    if (!newProps)\n                        newProps = Object.assign({}, type.props);\n                    newProps[add[0].id] = add[1];\n                }\n            }\n            newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);\n        }\n        return new NodeSet(newTypes);\n    }\n}\nconst CachedNode = new WeakMap(), CachedInnerNode = new WeakMap();\n/// Options that control iteration. Can be combined with the `|`\n/// operator to enable multiple ones.\nvar IterMode;\n(function (IterMode) {\n    /// When enabled, iteration will only visit [`Tree`](#common.Tree)\n    /// objects, not nodes packed into\n    /// [`TreeBuffer`](#common.TreeBuffer)s.\n    IterMode[IterMode[\"ExcludeBuffers\"] = 1] = \"ExcludeBuffers\";\n    /// Enable this to make iteration include anonymous nodes (such as\n    /// the nodes that wrap repeated grammar constructs into a balanced\n    /// tree).\n    IterMode[IterMode[\"IncludeAnonymous\"] = 2] = \"IncludeAnonymous\";\n    /// By default, regular [mounted](#common.NodeProp^mounted) nodes\n    /// replace their base node in iteration. Enable this to ignore them\n    /// instead.\n    IterMode[IterMode[\"IgnoreMounts\"] = 4] = \"IgnoreMounts\";\n    /// This option only applies in\n    /// [`enter`](#common.SyntaxNode.enter)-style methods. It tells the\n    /// library to not enter mounted overlays if one covers the given\n    /// position.\n    IterMode[IterMode[\"IgnoreOverlays\"] = 8] = \"IgnoreOverlays\";\n})(IterMode || (IterMode = {}));\n/// A piece of syntax tree. There are two ways to approach these\n/// trees: the way they are actually stored in memory, and the\n/// convenient way.\n///\n/// Syntax trees are stored as a tree of `Tree` and `TreeBuffer`\n/// objects. By packing detail information into `TreeBuffer` leaf\n/// nodes, the representation is made a lot more memory-efficient.\n///\n/// However, when you want to actually work with tree nodes, this\n/// representation is very awkward, so most client code will want to\n/// use the [`TreeCursor`](#common.TreeCursor) or\n/// [`SyntaxNode`](#common.SyntaxNode) interface instead, which provides\n/// a view on some part of this data structure, and can be used to\n/// move around to adjacent nodes.\nclass Tree {\n    /// Construct a new tree. See also [`Tree.build`](#common.Tree^build).\n    constructor(\n    /// The type of the top node.\n    type, \n    /// This node's child nodes.\n    children, \n    /// The positions (offsets relative to the start of this tree) of\n    /// the children.\n    positions, \n    /// The total length of this tree\n    length, \n    /// Per-node [node props](#common.NodeProp) to associate with this node.\n    props) {\n        this.type = type;\n        this.children = children;\n        this.positions = positions;\n        this.length = length;\n        /// @internal\n        this.props = null;\n        if (props && props.length) {\n            this.props = Object.create(null);\n            for (let [prop, value] of props)\n                this.props[typeof prop == \"number\" ? prop : prop.id] = value;\n        }\n    }\n    /// @internal\n    toString() {\n        let mounted = this.prop(NodeProp.mounted);\n        if (mounted && !mounted.overlay)\n            return mounted.tree.toString();\n        let children = \"\";\n        for (let ch of this.children) {\n            let str = ch.toString();\n            if (str) {\n                if (children)\n                    children += \",\";\n                children += str;\n            }\n        }\n        return !this.type.name ? children :\n            (/\\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) +\n                (children.length ? \"(\" + children + \")\" : \"\");\n    }\n    /// Get a [tree cursor](#common.TreeCursor) positioned at the top of\n    /// the tree. Mode can be used to [control](#common.IterMode) which\n    /// nodes the cursor visits.\n    cursor(mode = 0) {\n        return new TreeCursor(this.topNode, mode);\n    }\n    /// Get a [tree cursor](#common.TreeCursor) pointing into this tree\n    /// at the given position and side (see\n    /// [`moveTo`](#common.TreeCursor.moveTo).\n    cursorAt(pos, side = 0, mode = 0) {\n        let scope = CachedNode.get(this) || this.topNode;\n        let cursor = new TreeCursor(scope);\n        cursor.moveTo(pos, side);\n        CachedNode.set(this, cursor._tree);\n        return cursor;\n    }\n    /// Get a [syntax node](#common.SyntaxNode) object for the top of the\n    /// tree.\n    get topNode() {\n        return new TreeNode(this, 0, 0, null);\n    }\n    /// Get the [syntax node](#common.SyntaxNode) at the given position.\n    /// If `side` is -1, this will move into nodes that end at the\n    /// position. If 1, it'll move into nodes that start at the\n    /// position. With 0, it'll only enter nodes that cover the position\n    /// from both sides.\n    ///\n    /// Note that this will not enter\n    /// [overlays](#common.MountedTree.overlay), and you often want\n    /// [`resolveInner`](#common.Tree.resolveInner) instead.\n    resolve(pos, side = 0) {\n        let node = resolveNode(CachedNode.get(this) || this.topNode, pos, side, false);\n        CachedNode.set(this, node);\n        return node;\n    }\n    /// Like [`resolve`](#common.Tree.resolve), but will enter\n    /// [overlaid](#common.MountedTree.overlay) nodes, producing a syntax node\n    /// pointing into the innermost overlaid tree at the given position\n    /// (with parent links going through all parent structure, including\n    /// the host trees).\n    resolveInner(pos, side = 0) {\n        let node = resolveNode(CachedInnerNode.get(this) || this.topNode, pos, side, true);\n        CachedInnerNode.set(this, node);\n        return node;\n    }\n    /// Iterate over the tree and its children, calling `enter` for any\n    /// node that touches the `from`/`to` region (if given) before\n    /// running over such a node's children, and `leave` (if given) when\n    /// leaving the node. When `enter` returns `false`, that node will\n    /// not have its children iterated over (or `leave` called).\n    iterate(spec) {\n        let { enter, leave, from = 0, to = this.length } = spec;\n        for (let c = this.cursor((spec.mode || 0) | IterMode.IncludeAnonymous);;) {\n            let entered = false;\n            if (c.from <= to && c.to >= from && (c.type.isAnonymous || enter(c) !== false)) {\n                if (c.firstChild())\n                    continue;\n                entered = true;\n            }\n            for (;;) {\n                if (entered && leave && !c.type.isAnonymous)\n                    leave(c);\n                if (c.nextSibling())\n                    break;\n                if (!c.parent())\n                    return;\n                entered = true;\n            }\n        }\n    }\n    /// Get the value of the given [node prop](#common.NodeProp) for this\n    /// node. Works with both per-node and per-type props.\n    prop(prop) {\n        return !prop.perNode ? this.type.prop(prop) : this.props ? this.props[prop.id] : undefined;\n    }\n    /// Returns the node's [per-node props](#common.NodeProp.perNode) in a\n    /// format that can be passed to the [`Tree`](#common.Tree)\n    /// constructor.\n    get propValues() {\n        let result = [];\n        if (this.props)\n            for (let id in this.props)\n                result.push([+id, this.props[id]]);\n        return result;\n    }\n    /// Balance the direct children of this tree, producing a copy of\n    /// which may have children grouped into subtrees with type\n    /// [`NodeType.none`](#common.NodeType^none).\n    balance(config = {}) {\n        return this.children.length <= 8 /* Balance.BranchFactor */ ? this :\n            balanceRange(NodeType.none, this.children, this.positions, 0, this.children.length, 0, this.length, (children, positions, length) => new Tree(this.type, children, positions, length, this.propValues), config.makeTree || ((children, positions, length) => new Tree(NodeType.none, children, positions, length)));\n    }\n    /// Build a tree from a postfix-ordered buffer of node information,\n    /// or a cursor over such a buffer.\n    static build(data) { return buildTree(data); }\n}\n/// The empty tree\nTree.empty = new Tree(NodeType.none, [], [], 0);\nclass FlatBufferCursor {\n    constructor(buffer, index) {\n        this.buffer = buffer;\n        this.index = index;\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    get pos() { return this.index; }\n    next() { this.index -= 4; }\n    fork() { return new FlatBufferCursor(this.buffer, this.index); }\n}\n/// Tree buffers contain (type, start, end, endIndex) quads for each\n/// node. In such a buffer, nodes are stored in prefix order (parents\n/// before children, with the endIndex of the parent indicating which\n/// children belong to it).\nclass TreeBuffer {\n    /// Create a tree buffer.\n    constructor(\n    /// The buffer's content.\n    buffer, \n    /// The total length of the group of nodes in the buffer.\n    length, \n    /// The node set used in this buffer.\n    set) {\n        this.buffer = buffer;\n        this.length = length;\n        this.set = set;\n    }\n    /// @internal\n    get type() { return NodeType.none; }\n    /// @internal\n    toString() {\n        let result = [];\n        for (let index = 0; index < this.buffer.length;) {\n            result.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result.join(\",\");\n    }\n    /// @internal\n    childString(index) {\n        let id = this.buffer[index], endIndex = this.buffer[index + 3];\n        let type = this.set.types[id], result = type.name;\n        if (/\\W/.test(result) && !type.isError)\n            result = JSON.stringify(result);\n        index += 4;\n        if (endIndex == index)\n            return result;\n        let children = [];\n        while (index < endIndex) {\n            children.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result + \"(\" + children.join(\",\") + \")\";\n    }\n    /// @internal\n    findChild(startIndex, endIndex, dir, pos, side) {\n        let { buffer } = this, pick = -1;\n        for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {\n            if (checkSide(side, pos, buffer[i + 1], buffer[i + 2])) {\n                pick = i;\n                if (dir > 0)\n                    break;\n            }\n        }\n        return pick;\n    }\n    /// @internal\n    slice(startI, endI, from) {\n        let b = this.buffer;\n        let copy = new Uint16Array(endI - startI), len = 0;\n        for (let i = startI, j = 0; i < endI;) {\n            copy[j++] = b[i++];\n            copy[j++] = b[i++] - from;\n            let to = copy[j++] = b[i++] - from;\n            copy[j++] = b[i++] - startI;\n            len = Math.max(len, to);\n        }\n        return new TreeBuffer(copy, len, this.set);\n    }\n}\nfunction checkSide(side, pos, from, to) {\n    switch (side) {\n        case -2 /* Side.Before */: return from < pos;\n        case -1 /* Side.AtOrBefore */: return to >= pos && from < pos;\n        case 0 /* Side.Around */: return from < pos && to > pos;\n        case 1 /* Side.AtOrAfter */: return from <= pos && to > pos;\n        case 2 /* Side.After */: return to > pos;\n        case 4 /* Side.DontCare */: return true;\n    }\n}\nfunction enterUnfinishedNodesBefore(node, pos) {\n    let scan = node.childBefore(pos);\n    while (scan) {\n        let last = scan.lastChild;\n        if (!last || last.to != scan.to)\n            break;\n        if (last.type.isError && last.from == last.to) {\n            node = scan;\n            scan = last.prevSibling;\n        }\n        else {\n            scan = last;\n        }\n    }\n    return node;\n}\nfunction resolveNode(node, pos, side, overlays) {\n    var _a;\n    // Move up to a node that actually holds the position, if possible\n    while (node.from == node.to ||\n        (side < 1 ? node.from >= pos : node.from > pos) ||\n        (side > -1 ? node.to <= pos : node.to < pos)) {\n        let parent = !overlays && node instanceof TreeNode && node.index < 0 ? null : node.parent;\n        if (!parent)\n            return node;\n        node = parent;\n    }\n    let mode = overlays ? 0 : IterMode.IgnoreOverlays;\n    // Must go up out of overlays when those do not overlap with pos\n    if (overlays)\n        for (let scan = node, parent = scan.parent; parent; scan = parent, parent = scan.parent) {\n            if (scan instanceof TreeNode && scan.index < 0 && ((_a = parent.enter(pos, side, mode)) === null || _a === void 0 ? void 0 : _a.from) != scan.from)\n                node = parent;\n        }\n    for (;;) {\n        let inner = node.enter(pos, side, mode);\n        if (!inner)\n            return node;\n        node = inner;\n    }\n}\nclass TreeNode {\n    constructor(_tree, from, \n    // Index in parent node, set to -1 if the node is not a direct child of _parent.node (overlay)\n    index, _parent) {\n        this._tree = _tree;\n        this.from = from;\n        this.index = index;\n        this._parent = _parent;\n    }\n    get type() { return this._tree.type; }\n    get name() { return this._tree.type.name; }\n    get to() { return this.from + this._tree.length; }\n    nextChild(i, dir, pos, side, mode = 0) {\n        for (let parent = this;;) {\n            for (let { children, positions } = parent._tree, e = dir > 0 ? children.length : -1; i != e; i += dir) {\n                let next = children[i], start = positions[i] + parent.from;\n                if (!checkSide(side, pos, start, start + next.length))\n                    continue;\n                if (next instanceof TreeBuffer) {\n                    if (mode & IterMode.ExcludeBuffers)\n                        continue;\n                    let index = next.findChild(0, next.buffer.length, dir, pos - start, side);\n                    if (index > -1)\n                        return new BufferNode(new BufferContext(parent, next, i, start), null, index);\n                }\n                else if ((mode & IterMode.IncludeAnonymous) || (!next.type.isAnonymous || hasChild(next))) {\n                    let mounted;\n                    if (!(mode & IterMode.IgnoreMounts) &&\n                        next.props && (mounted = next.prop(NodeProp.mounted)) && !mounted.overlay)\n                        return new TreeNode(mounted.tree, start, i, parent);\n                    let inner = new TreeNode(next, start, i, parent);\n                    return (mode & IterMode.IncludeAnonymous) || !inner.type.isAnonymous ? inner\n                        : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, pos, side);\n                }\n            }\n            if ((mode & IterMode.IncludeAnonymous) || !parent.type.isAnonymous)\n                return null;\n            if (parent.index >= 0)\n                i = parent.index + dir;\n            else\n                i = dir < 0 ? -1 : parent._parent._tree.children.length;\n            parent = parent._parent;\n            if (!parent)\n                return null;\n        }\n    }\n    get firstChild() { return this.nextChild(0, 1, 0, 4 /* Side.DontCare */); }\n    get lastChild() { return this.nextChild(this._tree.children.length - 1, -1, 0, 4 /* Side.DontCare */); }\n    childAfter(pos) { return this.nextChild(0, 1, pos, 2 /* Side.After */); }\n    childBefore(pos) { return this.nextChild(this._tree.children.length - 1, -1, pos, -2 /* Side.Before */); }\n    enter(pos, side, mode = 0) {\n        let mounted;\n        if (!(mode & IterMode.IgnoreOverlays) && (mounted = this._tree.prop(NodeProp.mounted)) && mounted.overlay) {\n            let rPos = pos - this.from;\n            for (let { from, to } of mounted.overlay) {\n                if ((side > 0 ? from <= rPos : from < rPos) &&\n                    (side < 0 ? to >= rPos : to > rPos))\n                    return new TreeNode(mounted.tree, mounted.overlay[0].from + this.from, -1, this);\n            }\n        }\n        return this.nextChild(0, 1, pos, side, mode);\n    }\n    nextSignificantParent() {\n        let val = this;\n        while (val.type.isAnonymous && val._parent)\n            val = val._parent;\n        return val;\n    }\n    get parent() {\n        return this._parent ? this._parent.nextSignificantParent() : null;\n    }\n    get nextSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4 /* Side.DontCare */) : null;\n    }\n    get prevSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4 /* Side.DontCare */) : null;\n    }\n    cursor(mode = 0) { return new TreeCursor(this, mode); }\n    get tree() { return this._tree; }\n    toTree() { return this._tree; }\n    resolve(pos, side = 0) {\n        return resolveNode(this, pos, side, false);\n    }\n    resolveInner(pos, side = 0) {\n        return resolveNode(this, pos, side, true);\n    }\n    enterUnfinishedNodesBefore(pos) { return enterUnfinishedNodesBefore(this, pos); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n    /// @internal\n    toString() { return this._tree.toString(); }\n    get node() { return this; }\n    matchContext(context) { return matchNodeContext(this, context); }\n}\nfunction getChildren(node, type, before, after) {\n    let cur = node.cursor(), result = [];\n    if (!cur.firstChild())\n        return result;\n    if (before != null)\n        while (!cur.type.is(before))\n            if (!cur.nextSibling())\n                return result;\n    for (;;) {\n        if (after != null && cur.type.is(after))\n            return result;\n        if (cur.type.is(type))\n            result.push(cur.node);\n        if (!cur.nextSibling())\n            return after == null ? result : [];\n    }\n}\nfunction matchNodeContext(node, context, i = context.length - 1) {\n    for (let p = node.parent; i >= 0; p = p.parent) {\n        if (!p)\n            return false;\n        if (!p.type.isAnonymous) {\n            if (context[i] && context[i] != p.name)\n                return false;\n            i--;\n        }\n    }\n    return true;\n}\nclass BufferContext {\n    constructor(parent, buffer, index, start) {\n        this.parent = parent;\n        this.buffer = buffer;\n        this.index = index;\n        this.start = start;\n    }\n}\nclass BufferNode {\n    get name() { return this.type.name; }\n    get from() { return this.context.start + this.context.buffer.buffer[this.index + 1]; }\n    get to() { return this.context.start + this.context.buffer.buffer[this.index + 2]; }\n    constructor(context, _parent, index) {\n        this.context = context;\n        this._parent = _parent;\n        this.index = index;\n        this.type = context.buffer.set.types[context.buffer.buffer[index]];\n    }\n    child(dir, pos, side) {\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get firstChild() { return this.child(1, 0, 4 /* Side.DontCare */); }\n    get lastChild() { return this.child(-1, 0, 4 /* Side.DontCare */); }\n    childAfter(pos) { return this.child(1, pos, 2 /* Side.After */); }\n    childBefore(pos) { return this.child(-1, pos, -2 /* Side.Before */); }\n    enter(pos, side, mode = 0) {\n        if (mode & IterMode.ExcludeBuffers)\n            return null;\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], side > 0 ? 1 : -1, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get parent() {\n        return this._parent || this.context.parent.nextSignificantParent();\n    }\n    externalSibling(dir) {\n        return this._parent ? null : this.context.parent.nextChild(this.context.index + dir, dir, 0, 4 /* Side.DontCare */);\n    }\n    get nextSibling() {\n        let { buffer } = this.context;\n        let after = buffer.buffer[this.index + 3];\n        if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))\n            return new BufferNode(this.context, this._parent, after);\n        return this.externalSibling(1);\n    }\n    get prevSibling() {\n        let { buffer } = this.context;\n        let parentStart = this._parent ? this._parent.index + 4 : 0;\n        if (this.index == parentStart)\n            return this.externalSibling(-1);\n        return new BufferNode(this.context, this._parent, buffer.findChild(parentStart, this.index, -1, 0, 4 /* Side.DontCare */));\n    }\n    cursor(mode = 0) { return new TreeCursor(this, mode); }\n    get tree() { return null; }\n    toTree() {\n        let children = [], positions = [];\n        let { buffer } = this.context;\n        let startI = this.index + 4, endI = buffer.buffer[this.index + 3];\n        if (endI > startI) {\n            let from = buffer.buffer[this.index + 1];\n            children.push(buffer.slice(startI, endI, from));\n            positions.push(0);\n        }\n        return new Tree(this.type, children, positions, this.to - this.from);\n    }\n    resolve(pos, side = 0) {\n        return resolveNode(this, pos, side, false);\n    }\n    resolveInner(pos, side = 0) {\n        return resolveNode(this, pos, side, true);\n    }\n    enterUnfinishedNodesBefore(pos) { return enterUnfinishedNodesBefore(this, pos); }\n    /// @internal\n    toString() { return this.context.buffer.childString(this.index); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n    get node() { return this; }\n    matchContext(context) { return matchNodeContext(this, context); }\n}\n/// A tree cursor object focuses on a given node in a syntax tree, and\n/// allows you to move to adjacent nodes.\nclass TreeCursor {\n    /// Shorthand for `.type.name`.\n    get name() { return this.type.name; }\n    /// @internal\n    constructor(node, \n    /// @internal\n    mode = 0) {\n        this.mode = mode;\n        /// @internal\n        this.buffer = null;\n        this.stack = [];\n        /// @internal\n        this.index = 0;\n        this.bufferNode = null;\n        if (node instanceof TreeNode) {\n            this.yieldNode(node);\n        }\n        else {\n            this._tree = node.context.parent;\n            this.buffer = node.context;\n            for (let n = node._parent; n; n = n._parent)\n                this.stack.unshift(n.index);\n            this.bufferNode = node;\n            this.yieldBuf(node.index);\n        }\n    }\n    yieldNode(node) {\n        if (!node)\n            return false;\n        this._tree = node;\n        this.type = node.type;\n        this.from = node.from;\n        this.to = node.to;\n        return true;\n    }\n    yieldBuf(index, type) {\n        this.index = index;\n        let { start, buffer } = this.buffer;\n        this.type = type || buffer.set.types[buffer.buffer[index]];\n        this.from = start + buffer.buffer[index + 1];\n        this.to = start + buffer.buffer[index + 2];\n        return true;\n    }\n    yield(node) {\n        if (!node)\n            return false;\n        if (node instanceof TreeNode) {\n            this.buffer = null;\n            return this.yieldNode(node);\n        }\n        this.buffer = node.context;\n        return this.yieldBuf(node.index, node.type);\n    }\n    /// @internal\n    toString() {\n        return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();\n    }\n    /// @internal\n    enterChild(dir, pos, side) {\n        if (!this.buffer)\n            return this.yield(this._tree.nextChild(dir < 0 ? this._tree._tree.children.length - 1 : 0, dir, pos, side, this.mode));\n        let { buffer } = this.buffer;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.buffer.start, side);\n        if (index < 0)\n            return false;\n        this.stack.push(this.index);\n        return this.yieldBuf(index);\n    }\n    /// Move the cursor to this node's first child. When this returns\n    /// false, the node has no child, and the cursor has not been moved.\n    firstChild() { return this.enterChild(1, 0, 4 /* Side.DontCare */); }\n    /// Move the cursor to this node's last child.\n    lastChild() { return this.enterChild(-1, 0, 4 /* Side.DontCare */); }\n    /// Move the cursor to the first child that ends after `pos`.\n    childAfter(pos) { return this.enterChild(1, pos, 2 /* Side.After */); }\n    /// Move to the last child that starts before `pos`.\n    childBefore(pos) { return this.enterChild(-1, pos, -2 /* Side.Before */); }\n    /// Move the cursor to the child around `pos`. If side is -1 the\n    /// child may end at that position, when 1 it may start there. This\n    /// will also enter [overlaid](#common.MountedTree.overlay)\n    /// [mounted](#common.NodeProp^mounted) trees unless `overlays` is\n    /// set to false.\n    enter(pos, side, mode = this.mode) {\n        if (!this.buffer)\n            return this.yield(this._tree.enter(pos, side, mode));\n        return mode & IterMode.ExcludeBuffers ? false : this.enterChild(1, pos, side);\n    }\n    /// Move to the node's parent node, if this isn't the top node.\n    parent() {\n        if (!this.buffer)\n            return this.yieldNode((this.mode & IterMode.IncludeAnonymous) ? this._tree._parent : this._tree.parent);\n        if (this.stack.length)\n            return this.yieldBuf(this.stack.pop());\n        let parent = (this.mode & IterMode.IncludeAnonymous) ? this.buffer.parent : this.buffer.parent.nextSignificantParent();\n        this.buffer = null;\n        return this.yieldNode(parent);\n    }\n    /// @internal\n    sibling(dir) {\n        if (!this.buffer)\n            return !this._tree._parent ? false\n                : this.yield(this._tree.index < 0 ? null\n                    : this._tree._parent.nextChild(this._tree.index + dir, dir, 0, 4 /* Side.DontCare */, this.mode));\n        let { buffer } = this.buffer, d = this.stack.length - 1;\n        if (dir < 0) {\n            let parentStart = d < 0 ? 0 : this.stack[d] + 4;\n            if (this.index != parentStart)\n                return this.yieldBuf(buffer.findChild(parentStart, this.index, -1, 0, 4 /* Side.DontCare */));\n        }\n        else {\n            let after = buffer.buffer[this.index + 3];\n            if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))\n                return this.yieldBuf(after);\n        }\n        return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, 0, 4 /* Side.DontCare */, this.mode)) : false;\n    }\n    /// Move to this node's next sibling, if any.\n    nextSibling() { return this.sibling(1); }\n    /// Move to this node's previous sibling, if any.\n    prevSibling() { return this.sibling(-1); }\n    atLastNode(dir) {\n        let index, parent, { buffer } = this;\n        if (buffer) {\n            if (dir > 0) {\n                if (this.index < buffer.buffer.buffer.length)\n                    return false;\n            }\n            else {\n                for (let i = 0; i < this.index; i++)\n                    if (buffer.buffer.buffer[i + 3] < this.index)\n                        return false;\n            }\n            ({ index, parent } = buffer);\n        }\n        else {\n            ({ index, _parent: parent } = this._tree);\n        }\n        for (; parent; { index, _parent: parent } = parent) {\n            if (index > -1)\n                for (let i = index + dir, e = dir < 0 ? -1 : parent._tree.children.length; i != e; i += dir) {\n                    let child = parent._tree.children[i];\n                    if ((this.mode & IterMode.IncludeAnonymous) ||\n                        child instanceof TreeBuffer ||\n                        !child.type.isAnonymous ||\n                        hasChild(child))\n                        return false;\n                }\n        }\n        return true;\n    }\n    move(dir, enter) {\n        if (enter && this.enterChild(dir, 0, 4 /* Side.DontCare */))\n            return true;\n        for (;;) {\n            if (this.sibling(dir))\n                return true;\n            if (this.atLastNode(dir) || !this.parent())\n                return false;\n        }\n    }\n    /// Move to the next node in a\n    /// [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order,_NLR)\n    /// traversal, going from a node to its first child or, if the\n    /// current node is empty or `enter` is false, its next sibling or\n    /// the next sibling of the first parent node that has one.\n    next(enter = true) { return this.move(1, enter); }\n    /// Move to the next node in a last-to-first pre-order traveral. A\n    /// node is followed by its last child or, if it has none, its\n    /// previous sibling or the previous sibling of the first parent\n    /// node that has one.\n    prev(enter = true) { return this.move(-1, enter); }\n    /// Move the cursor to the innermost node that covers `pos`. If\n    /// `side` is -1, it will enter nodes that end at `pos`. If it is 1,\n    /// it will enter nodes that start at `pos`.\n    moveTo(pos, side = 0) {\n        // Move up to a node that actually holds the position, if possible\n        while (this.from == this.to ||\n            (side < 1 ? this.from >= pos : this.from > pos) ||\n            (side > -1 ? this.to <= pos : this.to < pos))\n            if (!this.parent())\n                break;\n        // Then scan down into child nodes as far as possible\n        while (this.enterChild(1, pos, side)) { }\n        return this;\n    }\n    /// Get a [syntax node](#common.SyntaxNode) at the cursor's current\n    /// position.\n    get node() {\n        if (!this.buffer)\n            return this._tree;\n        let cache = this.bufferNode, result = null, depth = 0;\n        if (cache && cache.context == this.buffer) {\n            scan: for (let index = this.index, d = this.stack.length; d >= 0;) {\n                for (let c = cache; c; c = c._parent)\n                    if (c.index == index) {\n                        if (index == this.index)\n                            return c;\n                        result = c;\n                        depth = d + 1;\n                        break scan;\n                    }\n                index = this.stack[--d];\n            }\n        }\n        for (let i = depth; i < this.stack.length; i++)\n            result = new BufferNode(this.buffer, result, this.stack[i]);\n        return this.bufferNode = new BufferNode(this.buffer, result, this.index);\n    }\n    /// Get the [tree](#common.Tree) that represents the current node, if\n    /// any. Will return null when the node is in a [tree\n    /// buffer](#common.TreeBuffer).\n    get tree() {\n        return this.buffer ? null : this._tree._tree;\n    }\n    /// Iterate over the current node and all its descendants, calling\n    /// `enter` when entering a node and `leave`, if given, when leaving\n    /// one. When `enter` returns `false`, any children of that node are\n    /// skipped, and `leave` isn't called for it.\n    iterate(enter, leave) {\n        for (let depth = 0;;) {\n            let mustLeave = false;\n            if (this.type.isAnonymous || enter(this) !== false) {\n                if (this.firstChild()) {\n                    depth++;\n                    continue;\n                }\n                if (!this.type.isAnonymous)\n                    mustLeave = true;\n            }\n            for (;;) {\n                if (mustLeave && leave)\n                    leave(this);\n                mustLeave = this.type.isAnonymous;\n                if (this.nextSibling())\n                    break;\n                if (!depth)\n                    return;\n                this.parent();\n                depth--;\n                mustLeave = true;\n            }\n        }\n    }\n    /// Test whether the current node matches a given contexta sequence\n    /// of direct parent node names. Empty strings in the context array\n    /// are treated as wildcards.\n    matchContext(context) {\n        if (!this.buffer)\n            return matchNodeContext(this.node, context);\n        let { buffer } = this.buffer, { types } = buffer.set;\n        for (let i = context.length - 1, d = this.stack.length - 1; i >= 0; d--) {\n            if (d < 0)\n                return matchNodeContext(this.node, context, i);\n            let type = types[buffer.buffer[this.stack[d]]];\n            if (!type.isAnonymous) {\n                if (context[i] && context[i] != type.name)\n                    return false;\n                i--;\n            }\n        }\n        return true;\n    }\n}\nfunction hasChild(tree) {\n    return tree.children.some(ch => ch instanceof TreeBuffer || !ch.type.isAnonymous || hasChild(ch));\n}\nfunction buildTree(data) {\n    var _a;\n    let { buffer, nodeSet, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length } = data;\n    let cursor = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;\n    let types = nodeSet.types;\n    let contextHash = 0, lookAhead = 0;\n    function takeNode(parentStart, minPos, children, positions, inRepeat) {\n        let { id, start, end, size } = cursor;\n        let lookAheadAtStart = lookAhead;\n        while (size < 0) {\n            cursor.next();\n            if (size == -1 /* SpecialRecord.Reuse */) {\n                let node = reused[id];\n                children.push(node);\n                positions.push(start - parentStart);\n                return;\n            }\n            else if (size == -3 /* SpecialRecord.ContextChange */) { // Context change\n                contextHash = id;\n                return;\n            }\n            else if (size == -4 /* SpecialRecord.LookAhead */) {\n                lookAhead = id;\n                return;\n            }\n            else {\n                throw new RangeError(`Unrecognized record size: ${size}`);\n            }\n        }\n        let type = types[id], node, buffer;\n        let startPos = start - parentStart;\n        if (end - start <= maxBufferLength && (buffer = findBufferSize(cursor.pos - minPos, inRepeat))) {\n            // Small enough for a buffer, and no reused nodes inside\n            let data = new Uint16Array(buffer.size - buffer.skip);\n            let endPos = cursor.pos - buffer.size, index = data.length;\n            while (cursor.pos > endPos)\n                index = copyToBuffer(buffer.start, data, index);\n            node = new TreeBuffer(data, end - buffer.start, nodeSet);\n            startPos = buffer.start - parentStart;\n        }\n        else { // Make it a node\n            let endPos = cursor.pos - size;\n            cursor.next();\n            let localChildren = [], localPositions = [];\n            let localInRepeat = id >= minRepeatType ? id : -1;\n            let lastGroup = 0, lastEnd = end;\n            while (cursor.pos > endPos) {\n                if (localInRepeat >= 0 && cursor.id == localInRepeat && cursor.size >= 0) {\n                    if (cursor.end <= lastEnd - maxBufferLength) {\n                        makeRepeatLeaf(localChildren, localPositions, start, lastGroup, cursor.end, lastEnd, localInRepeat, lookAheadAtStart);\n                        lastGroup = localChildren.length;\n                        lastEnd = cursor.end;\n                    }\n                    cursor.next();\n                }\n                else {\n                    takeNode(start, endPos, localChildren, localPositions, localInRepeat);\n                }\n            }\n            if (localInRepeat >= 0 && lastGroup > 0 && lastGroup < localChildren.length)\n                makeRepeatLeaf(localChildren, localPositions, start, lastGroup, start, lastEnd, localInRepeat, lookAheadAtStart);\n            localChildren.reverse();\n            localPositions.reverse();\n            if (localInRepeat > -1 && lastGroup > 0) {\n                let make = makeBalanced(type);\n                node = balanceRange(type, localChildren, localPositions, 0, localChildren.length, 0, end - start, make, make);\n            }\n            else {\n                node = makeTree(type, localChildren, localPositions, end - start, lookAheadAtStart - end);\n            }\n        }\n        children.push(node);\n        positions.push(startPos);\n    }\n    function makeBalanced(type) {\n        return (children, positions, length) => {\n            let lookAhead = 0, lastI = children.length - 1, last, lookAheadProp;\n            if (lastI >= 0 && (last = children[lastI]) instanceof Tree) {\n                if (!lastI && last.type == type && last.length == length)\n                    return last;\n                if (lookAheadProp = last.prop(NodeProp.lookAhead))\n                    lookAhead = positions[lastI] + last.length + lookAheadProp;\n            }\n            return makeTree(type, children, positions, length, lookAhead);\n        };\n    }\n    function makeRepeatLeaf(children, positions, base, i, from, to, type, lookAhead) {\n        let localChildren = [], localPositions = [];\n        while (children.length > i) {\n            localChildren.push(children.pop());\n            localPositions.push(positions.pop() + base - from);\n        }\n        children.push(makeTree(nodeSet.types[type], localChildren, localPositions, to - from, lookAhead - to));\n        positions.push(from - base);\n    }\n    function makeTree(type, children, positions, length, lookAhead = 0, props) {\n        if (contextHash) {\n            let pair = [NodeProp.contextHash, contextHash];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        if (lookAhead > 25) {\n            let pair = [NodeProp.lookAhead, lookAhead];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        return new Tree(type, children, positions, length, props);\n    }\n    function findBufferSize(maxSize, inRepeat) {\n        // Scan through the buffer to find previous siblings that fit\n        // together in a TreeBuffer, and don't contain any reused nodes\n        // (which can't be stored in a buffer).\n        // If `inRepeat` is > -1, ignore node boundaries of that type for\n        // nesting, but make sure the end falls either at the start\n        // (`maxSize`) or before such a node.\n        let fork = cursor.fork();\n        let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;\n        let result = { size: 0, start: 0, skip: 0 };\n        scan: for (let minPos = fork.pos - maxSize; fork.pos > minPos;) {\n            let nodeSize = fork.size;\n            // Pretend nested repeat nodes of the same type don't exist\n            if (fork.id == inRepeat && nodeSize >= 0) {\n                // Except that we store the current state as a valid return\n                // value.\n                result.size = size;\n                result.start = start;\n                result.skip = skip;\n                skip += 4;\n                size += 4;\n                fork.next();\n                continue;\n            }\n            let startPos = fork.pos - nodeSize;\n            if (nodeSize < 0 || startPos < minPos || fork.start < minStart)\n                break;\n            let localSkipped = fork.id >= minRepeatType ? 4 : 0;\n            let nodeStart = fork.start;\n            fork.next();\n            while (fork.pos > startPos) {\n                if (fork.size < 0) {\n                    if (fork.size == -3 /* SpecialRecord.ContextChange */)\n                        localSkipped += 4;\n                    else\n                        break scan;\n                }\n                else if (fork.id >= minRepeatType) {\n                    localSkipped += 4;\n                }\n                fork.next();\n            }\n            start = nodeStart;\n            size += nodeSize;\n            skip += localSkipped;\n        }\n        if (inRepeat < 0 || size == maxSize) {\n            result.size = size;\n            result.start = start;\n            result.skip = skip;\n        }\n        return result.size > 4 ? result : undefined;\n    }\n    function copyToBuffer(bufferStart, buffer, index) {\n        let { id, start, end, size } = cursor;\n        cursor.next();\n        if (size >= 0 && id < minRepeatType) {\n            let startIndex = index;\n            if (size > 4) {\n                let endPos = cursor.pos - (size - 4);\n                while (cursor.pos > endPos)\n                    index = copyToBuffer(bufferStart, buffer, index);\n            }\n            buffer[--index] = startIndex;\n            buffer[--index] = end - bufferStart;\n            buffer[--index] = start - bufferStart;\n            buffer[--index] = id;\n        }\n        else if (size == -3 /* SpecialRecord.ContextChange */) {\n            contextHash = id;\n        }\n        else if (size == -4 /* SpecialRecord.LookAhead */) {\n            lookAhead = id;\n        }\n        return index;\n    }\n    let children = [], positions = [];\n    while (cursor.pos > 0)\n        takeNode(data.start || 0, data.bufferStart || 0, children, positions, -1);\n    let length = (_a = data.length) !== null && _a !== void 0 ? _a : (children.length ? positions[0] + children[0].length : 0);\n    return new Tree(types[data.topID], children.reverse(), positions.reverse(), length);\n}\nconst nodeSizeCache = new WeakMap;\nfunction nodeSize(balanceType, node) {\n    if (!balanceType.isAnonymous || node instanceof TreeBuffer || node.type != balanceType)\n        return 1;\n    let size = nodeSizeCache.get(node);\n    if (size == null) {\n        size = 1;\n        for (let child of node.children) {\n            if (child.type != balanceType || !(child instanceof Tree)) {\n                size = 1;\n                break;\n            }\n            size += nodeSize(balanceType, child);\n        }\n        nodeSizeCache.set(node, size);\n    }\n    return size;\n}\nfunction balanceRange(\n// The type the balanced tree's inner nodes.\nbalanceType, \n// The direct children and their positions\nchildren, positions, \n// The index range in children/positions to use\nfrom, to, \n// The start position of the nodes, relative to their parent.\nstart, \n// Length of the outer node\nlength, \n// Function to build the top node of the balanced tree\nmkTop, \n// Function to build internal nodes for the balanced tree\nmkTree) {\n    let total = 0;\n    for (let i = from; i < to; i++)\n        total += nodeSize(balanceType, children[i]);\n    let maxChild = Math.ceil((total * 1.5) / 8 /* Balance.BranchFactor */);\n    let localChildren = [], localPositions = [];\n    function divide(children, positions, from, to, offset) {\n        for (let i = from; i < to;) {\n            let groupFrom = i, groupStart = positions[i], groupSize = nodeSize(balanceType, children[i]);\n            i++;\n            for (; i < to; i++) {\n                let nextSize = nodeSize(balanceType, children[i]);\n                if (groupSize + nextSize >= maxChild)\n                    break;\n                groupSize += nextSize;\n            }\n            if (i == groupFrom + 1) {\n                if (groupSize > maxChild) {\n                    let only = children[groupFrom]; // Only trees can have a size > 1\n                    divide(only.children, only.positions, 0, only.children.length, positions[groupFrom] + offset);\n                    continue;\n                }\n                localChildren.push(children[groupFrom]);\n            }\n            else {\n                let length = positions[i - 1] + children[i - 1].length - groupStart;\n                localChildren.push(balanceRange(balanceType, children, positions, groupFrom, i, groupStart, length, null, mkTree));\n            }\n            localPositions.push(groupStart + offset - start);\n        }\n    }\n    divide(children, positions, from, to, 0);\n    return (mkTop || mkTree)(localChildren, localPositions, length);\n}\n/// Provides a way to associate values with pieces of trees. As long\n/// as that part of the tree is reused, the associated values can be\n/// retrieved from an updated tree.\nclass NodeWeakMap {\n    constructor() {\n        this.map = new WeakMap();\n    }\n    setBuffer(buffer, index, value) {\n        let inner = this.map.get(buffer);\n        if (!inner)\n            this.map.set(buffer, inner = new Map);\n        inner.set(index, value);\n    }\n    getBuffer(buffer, index) {\n        let inner = this.map.get(buffer);\n        return inner && inner.get(index);\n    }\n    /// Set the value for this syntax node.\n    set(node, value) {\n        if (node instanceof BufferNode)\n            this.setBuffer(node.context.buffer, node.index, value);\n        else if (node instanceof TreeNode)\n            this.map.set(node.tree, value);\n    }\n    /// Retrieve value for this syntax node, if it exists in the map.\n    get(node) {\n        return node instanceof BufferNode ? this.getBuffer(node.context.buffer, node.index)\n            : node instanceof TreeNode ? this.map.get(node.tree) : undefined;\n    }\n    /// Set the value for the node that a cursor currently points to.\n    cursorSet(cursor, value) {\n        if (cursor.buffer)\n            this.setBuffer(cursor.buffer.buffer, cursor.index, value);\n        else\n            this.map.set(cursor.tree, value);\n    }\n    /// Retrieve the value for the node that a cursor currently points\n    /// to.\n    cursorGet(cursor) {\n        return cursor.buffer ? this.getBuffer(cursor.buffer.buffer, cursor.index) : this.map.get(cursor.tree);\n    }\n}\n\n/// Tree fragments are used during [incremental\n/// parsing](#common.Parser.startParse) to track parts of old trees\n/// that can be reused in a new parse. An array of fragments is used\n/// to track regions of an old tree whose nodes might be reused in new\n/// parses. Use the static\n/// [`applyChanges`](#common.TreeFragment^applyChanges) method to\n/// update fragments for document changes.\nclass TreeFragment {\n    /// Construct a tree fragment. You'll usually want to use\n    /// [`addTree`](#common.TreeFragment^addTree) and\n    /// [`applyChanges`](#common.TreeFragment^applyChanges) instead of\n    /// calling this directly.\n    constructor(\n    /// The start of the unchanged range pointed to by this fragment.\n    /// This refers to an offset in the _updated_ document (as opposed\n    /// to the original tree).\n    from, \n    /// The end of the unchanged range.\n    to, \n    /// The tree that this fragment is based on.\n    tree, \n    /// The offset between the fragment's tree and the document that\n    /// this fragment can be used against. Add this when going from\n    /// document to tree positions, subtract it to go from tree to\n    /// document positions.\n    offset, openStart = false, openEnd = false) {\n        this.from = from;\n        this.to = to;\n        this.tree = tree;\n        this.offset = offset;\n        this.open = (openStart ? 1 /* Open.Start */ : 0) | (openEnd ? 2 /* Open.End */ : 0);\n    }\n    /// Whether the start of the fragment represents the start of a\n    /// parse, or the end of a change. (In the second case, it may not\n    /// be safe to reuse some nodes at the start, depending on the\n    /// parsing algorithm.)\n    get openStart() { return (this.open & 1 /* Open.Start */) > 0; }\n    /// Whether the end of the fragment represents the end of a\n    /// full-document parse, or the start of a change.\n    get openEnd() { return (this.open & 2 /* Open.End */) > 0; }\n    /// Create a set of fragments from a freshly parsed tree, or update\n    /// an existing set of fragments by replacing the ones that overlap\n    /// with a tree with content from the new tree. When `partial` is\n    /// true, the parse is treated as incomplete, and the resulting\n    /// fragment has [`openEnd`](#common.TreeFragment.openEnd) set to\n    /// true.\n    static addTree(tree, fragments = [], partial = false) {\n        let result = [new TreeFragment(0, tree.length, tree, 0, false, partial)];\n        for (let f of fragments)\n            if (f.to > tree.length)\n                result.push(f);\n        return result;\n    }\n    /// Apply a set of edits to an array of fragments, removing or\n    /// splitting fragments as necessary to remove edited ranges, and\n    /// adjusting offsets for fragments that moved.\n    static applyChanges(fragments, changes, minGap = 128) {\n        if (!changes.length)\n            return fragments;\n        let result = [];\n        let fI = 1, nextF = fragments.length ? fragments[0] : null;\n        for (let cI = 0, pos = 0, off = 0;; cI++) {\n            let nextC = cI < changes.length ? changes[cI] : null;\n            let nextPos = nextC ? nextC.fromA : 1e9;\n            if (nextPos - pos >= minGap)\n                while (nextF && nextF.from < nextPos) {\n                    let cut = nextF;\n                    if (pos >= cut.from || nextPos <= cut.to || off) {\n                        let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;\n                        cut = fFrom >= fTo ? null : new TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, cI > 0, !!nextC);\n                    }\n                    if (cut)\n                        result.push(cut);\n                    if (nextF.to > nextPos)\n                        break;\n                    nextF = fI < fragments.length ? fragments[fI++] : null;\n                }\n            if (!nextC)\n                break;\n            pos = nextC.toA;\n            off = nextC.toA - nextC.toB;\n        }\n        return result;\n    }\n}\n/// A superclass that parsers should extend.\nclass Parser {\n    /// Start a parse, returning a [partial parse](#common.PartialParse)\n    /// object. [`fragments`](#common.TreeFragment) can be passed in to\n    /// make the parse incremental.\n    ///\n    /// By default, the entire input is parsed. You can pass `ranges`,\n    /// which should be a sorted array of non-empty, non-overlapping\n    /// ranges, to parse only those ranges. The tree returned in that\n    /// case will start at `ranges[0].from`.\n    startParse(input, fragments, ranges) {\n        if (typeof input == \"string\")\n            input = new StringInput(input);\n        ranges = !ranges ? [new Range(0, input.length)] : ranges.length ? ranges.map(r => new Range(r.from, r.to)) : [new Range(0, 0)];\n        return this.createParse(input, fragments || [], ranges);\n    }\n    /// Run a full parse, returning the resulting tree.\n    parse(input, fragments, ranges) {\n        let parse = this.startParse(input, fragments, ranges);\n        for (;;) {\n            let done = parse.advance();\n            if (done)\n                return done;\n        }\n    }\n}\nclass StringInput {\n    constructor(string) {\n        this.string = string;\n    }\n    get length() { return this.string.length; }\n    chunk(from) { return this.string.slice(from); }\n    get lineChunks() { return false; }\n    read(from, to) { return this.string.slice(from, to); }\n}\n\n/// Create a parse wrapper that, after the inner parse completes,\n/// scans its tree for mixed language regions with the `nest`\n/// function, runs the resulting [inner parses](#common.NestedParse),\n/// and then [mounts](#common.NodeProp^mounted) their results onto the\n/// tree.\nfunction parseMixed(nest) {\n    return (parse, input, fragments, ranges) => new MixedParse(parse, nest, input, fragments, ranges);\n}\nclass InnerParse {\n    constructor(parser, parse, overlay, target, ranges) {\n        this.parser = parser;\n        this.parse = parse;\n        this.overlay = overlay;\n        this.target = target;\n        this.ranges = ranges;\n    }\n}\nclass ActiveOverlay {\n    constructor(parser, predicate, mounts, index, start, target, prev) {\n        this.parser = parser;\n        this.predicate = predicate;\n        this.mounts = mounts;\n        this.index = index;\n        this.start = start;\n        this.target = target;\n        this.prev = prev;\n        this.depth = 0;\n        this.ranges = [];\n    }\n}\nconst stoppedInner = new NodeProp({ perNode: true });\nclass MixedParse {\n    constructor(base, nest, input, fragments, ranges) {\n        this.nest = nest;\n        this.input = input;\n        this.fragments = fragments;\n        this.ranges = ranges;\n        this.inner = [];\n        this.innerDone = 0;\n        this.baseTree = null;\n        this.stoppedAt = null;\n        this.baseParse = base;\n    }\n    advance() {\n        if (this.baseParse) {\n            let done = this.baseParse.advance();\n            if (!done)\n                return null;\n            this.baseParse = null;\n            this.baseTree = done;\n            this.startInner();\n            if (this.stoppedAt != null)\n                for (let inner of this.inner)\n                    inner.parse.stopAt(this.stoppedAt);\n        }\n        if (this.innerDone == this.inner.length) {\n            let result = this.baseTree;\n            if (this.stoppedAt != null)\n                result = new Tree(result.type, result.children, result.positions, result.length, result.propValues.concat([[stoppedInner, this.stoppedAt]]));\n            return result;\n        }\n        let inner = this.inner[this.innerDone], done = inner.parse.advance();\n        if (done) {\n            this.innerDone++;\n            // This is a somewhat dodgy but super helpful hack where we\n            // patch up nodes created by the inner parse (and thus\n            // presumably not aliased anywhere else) to hold the information\n            // about the inner parse.\n            let props = Object.assign(Object.create(null), inner.target.props);\n            props[NodeProp.mounted.id] = new MountedTree(done, inner.overlay, inner.parser);\n            inner.target.props = props;\n        }\n        return null;\n    }\n    get parsedPos() {\n        if (this.baseParse)\n            return 0;\n        let pos = this.input.length;\n        for (let i = this.innerDone; i < this.inner.length; i++) {\n            if (this.inner[i].ranges[0].from < pos)\n                pos = Math.min(pos, this.inner[i].parse.parsedPos);\n        }\n        return pos;\n    }\n    stopAt(pos) {\n        this.stoppedAt = pos;\n        if (this.baseParse)\n            this.baseParse.stopAt(pos);\n        else\n            for (let i = this.innerDone; i < this.inner.length; i++)\n                this.inner[i].parse.stopAt(pos);\n    }\n    startInner() {\n        let fragmentCursor = new FragmentCursor(this.fragments);\n        let overlay = null;\n        let covered = null;\n        let cursor = new TreeCursor(new TreeNode(this.baseTree, this.ranges[0].from, 0, null), IterMode.IncludeAnonymous | IterMode.IgnoreMounts);\n        scan: for (let nest, isCovered; this.stoppedAt == null || cursor.from < this.stoppedAt;) {\n            let enter = true, range;\n            if (fragmentCursor.hasNode(cursor)) {\n                if (overlay) {\n                    let match = overlay.mounts.find(m => m.frag.from <= cursor.from && m.frag.to >= cursor.to && m.mount.overlay);\n                    if (match)\n                        for (let r of match.mount.overlay) {\n                            let from = r.from + match.pos, to = r.to + match.pos;\n                            if (from >= cursor.from && to <= cursor.to && !overlay.ranges.some(r => r.from < to && r.to > from))\n                                overlay.ranges.push({ from, to });\n                        }\n                }\n                enter = false;\n            }\n            else if (covered && (isCovered = checkCover(covered.ranges, cursor.from, cursor.to))) {\n                enter = isCovered != 2 /* Cover.Full */;\n            }\n            else if (!cursor.type.isAnonymous && cursor.from < cursor.to && (nest = this.nest(cursor, this.input))) {\n                if (!cursor.tree)\n                    materialize(cursor);\n                let oldMounts = fragmentCursor.findMounts(cursor.from, nest.parser);\n                if (typeof nest.overlay == \"function\") {\n                    overlay = new ActiveOverlay(nest.parser, nest.overlay, oldMounts, this.inner.length, cursor.from, cursor.tree, overlay);\n                }\n                else {\n                    let ranges = punchRanges(this.ranges, nest.overlay || [new Range(cursor.from, cursor.to)]);\n                    if (ranges.length)\n                        this.inner.push(new InnerParse(nest.parser, nest.parser.startParse(this.input, enterFragments(oldMounts, ranges), ranges), nest.overlay ? nest.overlay.map(r => new Range(r.from - cursor.from, r.to - cursor.from)) : null, cursor.tree, ranges));\n                    if (!nest.overlay)\n                        enter = false;\n                    else if (ranges.length)\n                        covered = { ranges, depth: 0, prev: covered };\n                }\n            }\n            else if (overlay && (range = overlay.predicate(cursor))) {\n                if (range === true)\n                    range = new Range(cursor.from, cursor.to);\n                if (range.from < range.to)\n                    overlay.ranges.push(range);\n            }\n            if (enter && cursor.firstChild()) {\n                if (overlay)\n                    overlay.depth++;\n                if (covered)\n                    covered.depth++;\n            }\n            else {\n                for (;;) {\n                    if (cursor.nextSibling())\n                        break;\n                    if (!cursor.parent())\n                        break scan;\n                    if (overlay && !--overlay.depth) {\n                        let ranges = punchRanges(this.ranges, overlay.ranges);\n                        if (ranges.length)\n                            this.inner.splice(overlay.index, 0, new InnerParse(overlay.parser, overlay.parser.startParse(this.input, enterFragments(overlay.mounts, ranges), ranges), overlay.ranges.map(r => new Range(r.from - overlay.start, r.to - overlay.start)), overlay.target, ranges));\n                        overlay = overlay.prev;\n                    }\n                    if (covered && !--covered.depth)\n                        covered = covered.prev;\n                }\n            }\n        }\n    }\n}\nfunction checkCover(covered, from, to) {\n    for (let range of covered) {\n        if (range.from >= to)\n            break;\n        if (range.to > from)\n            return range.from <= from && range.to >= to ? 2 /* Cover.Full */ : 1 /* Cover.Partial */;\n    }\n    return 0 /* Cover.None */;\n}\n// Take a piece of buffer and convert it into a stand-alone\n// TreeBuffer.\nfunction sliceBuf(buf, startI, endI, nodes, positions, off) {\n    if (startI < endI) {\n        let from = buf.buffer[startI + 1];\n        nodes.push(buf.slice(startI, endI, from));\n        positions.push(from - off);\n    }\n}\n// This function takes a node that's in a buffer, and converts it, and\n// its parent buffer nodes, into a Tree. This is again acting on the\n// assumption that the trees and buffers have been constructed by the\n// parse that was ran via the mix parser, and thus aren't shared with\n// any other code, making violations of the immutability safe.\nfunction materialize(cursor) {\n    let { node } = cursor, depth = 0;\n    // Scan up to the nearest tree\n    do {\n        cursor.parent();\n        depth++;\n    } while (!cursor.tree);\n    // Find the index of the buffer in that tree\n    let i = 0, base = cursor.tree, off = 0;\n    for (;; i++) {\n        off = base.positions[i] + cursor.from;\n        if (off <= node.from && off + base.children[i].length >= node.to)\n            break;\n    }\n    let buf = base.children[i], b = buf.buffer;\n    // Split a level in the buffer, putting the nodes before and after\n    // the child that contains `node` into new buffers.\n    function split(startI, endI, type, innerOffset, length) {\n        let i = startI;\n        while (b[i + 2] + off <= node.from)\n            i = b[i + 3];\n        let children = [], positions = [];\n        sliceBuf(buf, startI, i, children, positions, innerOffset);\n        let from = b[i + 1], to = b[i + 2];\n        let isTarget = from + off == node.from && to + off == node.to && b[i] == node.type.id;\n        children.push(isTarget ? node.toTree() : split(i + 4, b[i + 3], buf.set.types[b[i]], from, to - from));\n        positions.push(from - innerOffset);\n        sliceBuf(buf, b[i + 3], endI, children, positions, innerOffset);\n        return new Tree(type, children, positions, length);\n    }\n    base.children[i] = split(0, b.length, NodeType.none, 0, buf.length);\n    // Move the cursor back to the target node\n    for (let d = 0; d <= depth; d++)\n        cursor.childAfter(node.from);\n}\nclass StructureCursor {\n    constructor(root, offset) {\n        this.offset = offset;\n        this.done = false;\n        this.cursor = root.cursor(IterMode.IncludeAnonymous | IterMode.IgnoreMounts);\n    }\n    // Move to the first node (in pre-order) that starts at or after `pos`.\n    moveTo(pos) {\n        let { cursor } = this, p = pos - this.offset;\n        while (!this.done && cursor.from < p) {\n            if (cursor.to >= pos && cursor.enter(p, 1, IterMode.IgnoreOverlays | IterMode.ExcludeBuffers)) ;\n            else if (!cursor.next(false))\n                this.done = true;\n        }\n    }\n    hasNode(cursor) {\n        this.moveTo(cursor.from);\n        if (!this.done && this.cursor.from + this.offset == cursor.from && this.cursor.tree) {\n            for (let tree = this.cursor.tree;;) {\n                if (tree == cursor.tree)\n                    return true;\n                if (tree.children.length && tree.positions[0] == 0 && tree.children[0] instanceof Tree)\n                    tree = tree.children[0];\n                else\n                    break;\n            }\n        }\n        return false;\n    }\n}\nclass FragmentCursor {\n    constructor(fragments) {\n        var _a;\n        this.fragments = fragments;\n        this.curTo = 0;\n        this.fragI = 0;\n        if (fragments.length) {\n            let first = this.curFrag = fragments[0];\n            this.curTo = (_a = first.tree.prop(stoppedInner)) !== null && _a !== void 0 ? _a : first.to;\n            this.inner = new StructureCursor(first.tree, -first.offset);\n        }\n        else {\n            this.curFrag = this.inner = null;\n        }\n    }\n    hasNode(node) {\n        while (this.curFrag && node.from >= this.curTo)\n            this.nextFrag();\n        return this.curFrag && this.curFrag.from <= node.from && this.curTo >= node.to && this.inner.hasNode(node);\n    }\n    nextFrag() {\n        var _a;\n        this.fragI++;\n        if (this.fragI == this.fragments.length) {\n            this.curFrag = this.inner = null;\n        }\n        else {\n            let frag = this.curFrag = this.fragments[this.fragI];\n            this.curTo = (_a = frag.tree.prop(stoppedInner)) !== null && _a !== void 0 ? _a : frag.to;\n            this.inner = new StructureCursor(frag.tree, -frag.offset);\n        }\n    }\n    findMounts(pos, parser) {\n        var _a;\n        let result = [];\n        if (this.inner) {\n            this.inner.cursor.moveTo(pos, 1);\n            for (let pos = this.inner.cursor.node; pos; pos = pos.parent) {\n                let mount = (_a = pos.tree) === null || _a === void 0 ? void 0 : _a.prop(NodeProp.mounted);\n                if (mount && mount.parser == parser) {\n                    for (let i = this.fragI; i < this.fragments.length; i++) {\n                        let frag = this.fragments[i];\n                        if (frag.from >= pos.to)\n                            break;\n                        if (frag.tree == this.curFrag.tree)\n                            result.push({\n                                frag,\n                                pos: pos.from - frag.offset,\n                                mount\n                            });\n                    }\n                }\n            }\n        }\n        return result;\n    }\n}\nfunction punchRanges(outer, ranges) {\n    let copy = null, current = ranges;\n    for (let i = 1, j = 0; i < outer.length; i++) {\n        let gapFrom = outer[i - 1].to, gapTo = outer[i].from;\n        for (; j < current.length; j++) {\n            let r = current[j];\n            if (r.from >= gapTo)\n                break;\n            if (r.to <= gapFrom)\n                continue;\n            if (!copy)\n                current = copy = ranges.slice();\n            if (r.from < gapFrom) {\n                copy[j] = new Range(r.from, gapFrom);\n                if (r.to > gapTo)\n                    copy.splice(j + 1, 0, new Range(gapTo, r.to));\n            }\n            else if (r.to > gapTo) {\n                copy[j--] = new Range(gapTo, r.to);\n            }\n            else {\n                copy.splice(j--, 1);\n            }\n        }\n    }\n    return current;\n}\nfunction findCoverChanges(a, b, from, to) {\n    let iA = 0, iB = 0, inA = false, inB = false, pos = -1e9;\n    let result = [];\n    for (;;) {\n        let nextA = iA == a.length ? 1e9 : inA ? a[iA].to : a[iA].from;\n        let nextB = iB == b.length ? 1e9 : inB ? b[iB].to : b[iB].from;\n        if (inA != inB) {\n            let start = Math.max(pos, from), end = Math.min(nextA, nextB, to);\n            if (start < end)\n                result.push(new Range(start, end));\n        }\n        pos = Math.min(nextA, nextB);\n        if (pos == 1e9)\n            break;\n        if (nextA == pos) {\n            if (!inA)\n                inA = true;\n            else {\n                inA = false;\n                iA++;\n            }\n        }\n        if (nextB == pos) {\n            if (!inB)\n                inB = true;\n            else {\n                inB = false;\n                iB++;\n            }\n        }\n    }\n    return result;\n}\n// Given a number of fragments for the outer tree, and a set of ranges\n// to parse, find fragments for inner trees mounted around those\n// ranges, if any.\nfunction enterFragments(mounts, ranges) {\n    let result = [];\n    for (let { pos, mount, frag } of mounts) {\n        let startPos = pos + (mount.overlay ? mount.overlay[0].from : 0), endPos = startPos + mount.tree.length;\n        let from = Math.max(frag.from, startPos), to = Math.min(frag.to, endPos);\n        if (mount.overlay) {\n            let overlay = mount.overlay.map(r => new Range(r.from + pos, r.to + pos));\n            let changes = findCoverChanges(ranges, overlay, from, to);\n            for (let i = 0, pos = from;; i++) {\n                let last = i == changes.length, end = last ? to : changes[i].from;\n                if (end > pos)\n                    result.push(new TreeFragment(pos, end, mount.tree, -startPos, frag.from >= pos || frag.openStart, frag.to <= end || frag.openEnd));\n                if (last)\n                    break;\n                pos = changes[i].to;\n            }\n        }\n        else {\n            result.push(new TreeFragment(from, to, mount.tree, -startPos, frag.from >= startPos || frag.openStart, frag.to <= endPos || frag.openEnd));\n        }\n    }\n    return result;\n}\n\nexport { DefaultBufferLength, IterMode, MountedTree, NodeProp, NodeSet, NodeType, NodeWeakMap, Parser, Tree, TreeBuffer, TreeCursor, TreeFragment, parseMixed };\n","import { NodeProp } from '@lezer/common';\n\nlet nextTagID = 0;\n/// Highlighting tags are markers that denote a highlighting category.\n/// They are [associated](#highlight.styleTags) with parts of a syntax\n/// tree by a language mode, and then mapped to an actual CSS style by\n/// a [highlighter](#highlight.Highlighter).\n///\n/// Because syntax tree node types and highlight styles have to be\n/// able to talk the same language, CodeMirror uses a mostly _closed_\n/// [vocabulary](#highlight.tags) of syntax tags (as opposed to\n/// traditional open string-based systems, which make it hard for\n/// highlighting themes to cover all the tokens produced by the\n/// various languages).\n///\n/// It _is_ possible to [define](#highlight.Tag^define) your own\n/// highlighting tags for system-internal use (where you control both\n/// the language package and the highlighter), but such tags will not\n/// be picked up by regular highlighters (though you can derive them\n/// from standard tags to allow highlighters to fall back to those).\nclass Tag {\n    /// @internal\n    constructor(\n    /// The set of this tag and all its parent tags, starting with\n    /// this one itself and sorted in order of decreasing specificity.\n    set, \n    /// The base unmodified tag that this one is based on, if it's\n    /// modified @internal\n    base, \n    /// The modifiers applied to this.base @internal\n    modified) {\n        this.set = set;\n        this.base = base;\n        this.modified = modified;\n        /// @internal\n        this.id = nextTagID++;\n    }\n    /// Define a new tag. If `parent` is given, the tag is treated as a\n    /// sub-tag of that parent, and\n    /// [highlighters](#highlight.tagHighlighter) that don't mention\n    /// this tag will try to fall back to the parent tag (or grandparent\n    /// tag, etc).\n    static define(parent) {\n        if (parent === null || parent === void 0 ? void 0 : parent.base)\n            throw new Error(\"Can not derive from a modified tag\");\n        let tag = new Tag([], null, []);\n        tag.set.push(tag);\n        if (parent)\n            for (let t of parent.set)\n                tag.set.push(t);\n        return tag;\n    }\n    /// Define a tag _modifier_, which is a function that, given a tag,\n    /// will return a tag that is a subtag of the original. Applying the\n    /// same modifier to a twice tag will return the same value (`m1(t1)\n    /// == m1(t1)`) and applying multiple modifiers will, regardless or\n    /// order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).\n    ///\n    /// When multiple modifiers are applied to a given base tag, each\n    /// smaller set of modifiers is registered as a parent, so that for\n    /// example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,\n    /// `m1(m3(t1)`, and so on.\n    static defineModifier() {\n        let mod = new Modifier;\n        return (tag) => {\n            if (tag.modified.indexOf(mod) > -1)\n                return tag;\n            return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));\n        };\n    }\n}\nlet nextModifierID = 0;\nclass Modifier {\n    constructor() {\n        this.instances = [];\n        this.id = nextModifierID++;\n    }\n    static get(base, mods) {\n        if (!mods.length)\n            return base;\n        let exists = mods[0].instances.find(t => t.base == base && sameArray(mods, t.modified));\n        if (exists)\n            return exists;\n        let set = [], tag = new Tag(set, base, mods);\n        for (let m of mods)\n            m.instances.push(tag);\n        let configs = powerSet(mods);\n        for (let parent of base.set)\n            if (!parent.modified.length)\n                for (let config of configs)\n                    set.push(Modifier.get(parent, config));\n        return tag;\n    }\n}\nfunction sameArray(a, b) {\n    return a.length == b.length && a.every((x, i) => x == b[i]);\n}\nfunction powerSet(array) {\n    let sets = [[]];\n    for (let i = 0; i < array.length; i++) {\n        for (let j = 0, e = sets.length; j < e; j++) {\n            sets.push(sets[j].concat(array[i]));\n        }\n    }\n    return sets.sort((a, b) => b.length - a.length);\n}\n/// This function is used to add a set of tags to a language syntax\n/// via [`NodeSet.extend`](#common.NodeSet.extend) or\n/// [`LRParser.configure`](#lr.LRParser.configure).\n///\n/// The argument object maps node selectors to [highlighting\n/// tags](#highlight.Tag) or arrays of tags.\n///\n/// Node selectors may hold one or more (space-separated) node paths.\n/// Such a path can be a [node name](#common.NodeType.name), or\n/// multiple node names (or `*` wildcards) separated by slash\n/// characters, as in `\"Block/Declaration/VariableName\"`. Such a path\n/// matches the final node but only if its direct parent nodes are the\n/// other nodes mentioned. A `*` in such a path matches any parent,\n/// but only a single levelwildcards that match multiple parents\n/// aren't supported, both for efficiency reasons and because Lezer\n/// trees make it rather hard to reason about what they would match.)\n///\n/// A path can be ended with `/...` to indicate that the tag assigned\n/// to the node should also apply to all child nodes, even if they\n/// match their own style (by default, only the innermost style is\n/// used).\n///\n/// When a path ends in `!`, as in `Attribute!`, no further matching\n/// happens for the node's child nodes, and the entire node gets the\n/// given style.\n///\n/// In this notation, node names that contain `/`, `!`, `*`, or `...`\n/// must be quoted as JSON strings.\n///\n/// For example:\n///\n/// ```javascript\n/// parser.withProps(\n///   styleTags({\n///     // Style Number and BigNumber nodes\n///     \"Number BigNumber\": tags.number,\n///     // Style Escape nodes whose parent is String\n///     \"String/Escape\": tags.escape,\n///     // Style anything inside Attributes nodes\n///     \"Attributes!\": tags.meta,\n///     // Add a style to all content inside Italic nodes\n///     \"Italic/...\": tags.emphasis,\n///     // Style InvalidString nodes as both `string` and `invalid`\n///     \"InvalidString\": [tags.string, tags.invalid],\n///     // Style the node named \"/\" as punctuation\n///     '\"/\"': tags.punctuation\n///   })\n/// )\n/// ```\nfunction styleTags(spec) {\n    let byName = Object.create(null);\n    for (let prop in spec) {\n        let tags = spec[prop];\n        if (!Array.isArray(tags))\n            tags = [tags];\n        for (let part of prop.split(\" \"))\n            if (part) {\n                let pieces = [], mode = 2 /* Mode.Normal */, rest = part;\n                for (let pos = 0;;) {\n                    if (rest == \"...\" && pos > 0 && pos + 3 == part.length) {\n                        mode = 1 /* Mode.Inherit */;\n                        break;\n                    }\n                    let m = /^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(rest);\n                    if (!m)\n                        throw new RangeError(\"Invalid path: \" + part);\n                    pieces.push(m[0] == \"*\" ? \"\" : m[0][0] == '\"' ? JSON.parse(m[0]) : m[0]);\n                    pos += m[0].length;\n                    if (pos == part.length)\n                        break;\n                    let next = part[pos++];\n                    if (pos == part.length && next == \"!\") {\n                        mode = 0 /* Mode.Opaque */;\n                        break;\n                    }\n                    if (next != \"/\")\n                        throw new RangeError(\"Invalid path: \" + part);\n                    rest = part.slice(pos);\n                }\n                let last = pieces.length - 1, inner = pieces[last];\n                if (!inner)\n                    throw new RangeError(\"Invalid path: \" + part);\n                let rule = new Rule(tags, mode, last > 0 ? pieces.slice(0, last) : null);\n                byName[inner] = rule.sort(byName[inner]);\n            }\n    }\n    return ruleNodeProp.add(byName);\n}\nconst ruleNodeProp = new NodeProp();\nclass Rule {\n    constructor(tags, mode, context, next) {\n        this.tags = tags;\n        this.mode = mode;\n        this.context = context;\n        this.next = next;\n    }\n    get opaque() { return this.mode == 0 /* Mode.Opaque */; }\n    get inherit() { return this.mode == 1 /* Mode.Inherit */; }\n    sort(other) {\n        if (!other || other.depth < this.depth) {\n            this.next = other;\n            return this;\n        }\n        other.next = this.sort(other.next);\n        return other;\n    }\n    get depth() { return this.context ? this.context.length : 0; }\n}\nRule.empty = new Rule([], 2 /* Mode.Normal */, null);\n/// Define a [highlighter](#highlight.Highlighter) from an array of\n/// tag/class pairs. Classes associated with more specific tags will\n/// take precedence.\nfunction tagHighlighter(tags, options) {\n    let map = Object.create(null);\n    for (let style of tags) {\n        if (!Array.isArray(style.tag))\n            map[style.tag.id] = style.class;\n        else\n            for (let tag of style.tag)\n                map[tag.id] = style.class;\n    }\n    let { scope, all = null } = options || {};\n    return {\n        style: (tags) => {\n            let cls = all;\n            for (let tag of tags) {\n                for (let sub of tag.set) {\n                    let tagClass = map[sub.id];\n                    if (tagClass) {\n                        cls = cls ? cls + \" \" + tagClass : tagClass;\n                        break;\n                    }\n                }\n            }\n            return cls;\n        },\n        scope\n    };\n}\nfunction highlightTags(highlighters, tags) {\n    let result = null;\n    for (let highlighter of highlighters) {\n        let value = highlighter.style(tags);\n        if (value)\n            result = result ? result + \" \" + value : value;\n    }\n    return result;\n}\n/// Highlight the given [tree](#common.Tree) with the given\n/// [highlighter](#highlight.Highlighter).\nfunction highlightTree(tree, highlighter, \n/// Assign styling to a region of the text. Will be called, in order\n/// of position, for any ranges where more than zero classes apply.\n/// `classes` is a space separated string of CSS classes.\nputStyle, \n/// The start of the range to highlight.\nfrom = 0, \n/// The end of the range.\nto = tree.length) {\n    let builder = new HighlightBuilder(from, Array.isArray(highlighter) ? highlighter : [highlighter], putStyle);\n    builder.highlightRange(tree.cursor(), from, to, \"\", builder.highlighters);\n    builder.flush(to);\n}\nclass HighlightBuilder {\n    constructor(at, highlighters, span) {\n        this.at = at;\n        this.highlighters = highlighters;\n        this.span = span;\n        this.class = \"\";\n    }\n    startSpan(at, cls) {\n        if (cls != this.class) {\n            this.flush(at);\n            if (at > this.at)\n                this.at = at;\n            this.class = cls;\n        }\n    }\n    flush(to) {\n        if (to > this.at && this.class)\n            this.span(this.at, to, this.class);\n    }\n    highlightRange(cursor, from, to, inheritedClass, highlighters) {\n        let { type, from: start, to: end } = cursor;\n        if (start >= to || end <= from)\n            return;\n        if (type.isTop)\n            highlighters = this.highlighters.filter(h => !h.scope || h.scope(type));\n        let cls = inheritedClass;\n        let rule = getStyleTags(cursor) || Rule.empty;\n        let tagCls = highlightTags(highlighters, rule.tags);\n        if (tagCls) {\n            if (cls)\n                cls += \" \";\n            cls += tagCls;\n            if (rule.mode == 1 /* Mode.Inherit */)\n                inheritedClass += (inheritedClass ? \" \" : \"\") + tagCls;\n        }\n        this.startSpan(cursor.from, cls);\n        if (rule.opaque)\n            return;\n        let mounted = cursor.tree && cursor.tree.prop(NodeProp.mounted);\n        if (mounted && mounted.overlay) {\n            let inner = cursor.node.enter(mounted.overlay[0].from + start, 1);\n            let innerHighlighters = this.highlighters.filter(h => !h.scope || h.scope(mounted.tree.type));\n            let hasChild = cursor.firstChild();\n            for (let i = 0, pos = start;; i++) {\n                let next = i < mounted.overlay.length ? mounted.overlay[i] : null;\n                let nextPos = next ? next.from + start : end;\n                let rangeFrom = Math.max(from, pos), rangeTo = Math.min(to, nextPos);\n                if (rangeFrom < rangeTo && hasChild) {\n                    while (cursor.from < rangeTo) {\n                        this.highlightRange(cursor, rangeFrom, rangeTo, inheritedClass, highlighters);\n                        this.startSpan(Math.min(rangeTo, cursor.to), cls);\n                        if (cursor.to >= nextPos || !cursor.nextSibling())\n                            break;\n                    }\n                }\n                if (!next || nextPos > to)\n                    break;\n                pos = next.to + start;\n                if (pos > from) {\n                    this.highlightRange(inner.cursor(), Math.max(from, next.from + start), Math.min(to, pos), inheritedClass, innerHighlighters);\n                    this.startSpan(pos, cls);\n                }\n            }\n            if (hasChild)\n                cursor.parent();\n        }\n        else if (cursor.firstChild()) {\n            do {\n                if (cursor.to <= from)\n                    continue;\n                if (cursor.from >= to)\n                    break;\n                this.highlightRange(cursor, from, to, inheritedClass, highlighters);\n                this.startSpan(Math.min(to, cursor.to), cls);\n            } while (cursor.nextSibling());\n            cursor.parent();\n        }\n    }\n}\n/// Match a syntax node's [highlight rules](#highlight.styleTags). If\n/// there's a match, return its set of tags, and whether it is\n/// opaque (uses a `!`) or applies to all child nodes (`/...`).\nfunction getStyleTags(node) {\n    let rule = node.type.prop(ruleNodeProp);\n    while (rule && rule.context && !node.matchContext(rule.context))\n        rule = rule.next;\n    return rule || null;\n}\nconst t = Tag.define;\nconst comment = t(), name = t(), typeName = t(name), propertyName = t(name), literal = t(), string = t(literal), number = t(literal), content = t(), heading = t(content), keyword = t(), operator = t(), punctuation = t(), bracket = t(punctuation), meta = t();\n/// The default set of highlighting [tags](#highlight.Tag).\n///\n/// This collection is heavily biased towards programming languages,\n/// and necessarily incomplete. A full ontology of syntactic\n/// constructs would fill a stack of books, and be impractical to\n/// write themes for. So try to make do with this set. If all else\n/// fails, [open an\n/// issue](https://github.com/codemirror/codemirror.next) to propose a\n/// new tag, or [define](#highlight.Tag^define) a local custom tag for\n/// your use case.\n///\n/// Note that it is not obligatory to always attach the most specific\n/// tag possible to an elementif your grammar can't easily\n/// distinguish a certain type of element (such as a local variable),\n/// it is okay to style it as its more general variant (a variable).\n/// \n/// For tags that extend some parent tag, the documentation links to\n/// the parent.\nconst tags = {\n    /// A comment.\n    comment,\n    /// A line [comment](#highlight.tags.comment).\n    lineComment: t(comment),\n    /// A block [comment](#highlight.tags.comment).\n    blockComment: t(comment),\n    /// A documentation [comment](#highlight.tags.comment).\n    docComment: t(comment),\n    /// Any kind of identifier.\n    name,\n    /// The [name](#highlight.tags.name) of a variable.\n    variableName: t(name),\n    /// A type [name](#highlight.tags.name).\n    typeName: typeName,\n    /// A tag name (subtag of [`typeName`](#highlight.tags.typeName)).\n    tagName: t(typeName),\n    /// A property or field [name](#highlight.tags.name).\n    propertyName: propertyName,\n    /// An attribute name (subtag of [`propertyName`](#highlight.tags.propertyName)).\n    attributeName: t(propertyName),\n    /// The [name](#highlight.tags.name) of a class.\n    className: t(name),\n    /// A label [name](#highlight.tags.name).\n    labelName: t(name),\n    /// A namespace [name](#highlight.tags.name).\n    namespace: t(name),\n    /// The [name](#highlight.tags.name) of a macro.\n    macroName: t(name),\n    /// A literal value.\n    literal,\n    /// A string [literal](#highlight.tags.literal).\n    string,\n    /// A documentation [string](#highlight.tags.string).\n    docString: t(string),\n    /// A character literal (subtag of [string](#highlight.tags.string)).\n    character: t(string),\n    /// An attribute value (subtag of [string](#highlight.tags.string)).\n    attributeValue: t(string),\n    /// A number [literal](#highlight.tags.literal).\n    number,\n    /// An integer [number](#highlight.tags.number) literal.\n    integer: t(number),\n    /// A floating-point [number](#highlight.tags.number) literal.\n    float: t(number),\n    /// A boolean [literal](#highlight.tags.literal).\n    bool: t(literal),\n    /// Regular expression [literal](#highlight.tags.literal).\n    regexp: t(literal),\n    /// An escape [literal](#highlight.tags.literal), for example a\n    /// backslash escape in a string.\n    escape: t(literal),\n    /// A color [literal](#highlight.tags.literal).\n    color: t(literal),\n    /// A URL [literal](#highlight.tags.literal).\n    url: t(literal),\n    /// A language keyword.\n    keyword,\n    /// The [keyword](#highlight.tags.keyword) for the self or this\n    /// object.\n    self: t(keyword),\n    /// The [keyword](#highlight.tags.keyword) for null.\n    null: t(keyword),\n    /// A [keyword](#highlight.tags.keyword) denoting some atomic value.\n    atom: t(keyword),\n    /// A [keyword](#highlight.tags.keyword) that represents a unit.\n    unit: t(keyword),\n    /// A modifier [keyword](#highlight.tags.keyword).\n    modifier: t(keyword),\n    /// A [keyword](#highlight.tags.keyword) that acts as an operator.\n    operatorKeyword: t(keyword),\n    /// A control-flow related [keyword](#highlight.tags.keyword).\n    controlKeyword: t(keyword),\n    /// A [keyword](#highlight.tags.keyword) that defines something.\n    definitionKeyword: t(keyword),\n    /// A [keyword](#highlight.tags.keyword) related to defining or\n    /// interfacing with modules.\n    moduleKeyword: t(keyword),\n    /// An operator.\n    operator,\n    /// An [operator](#highlight.tags.operator) that dereferences something.\n    derefOperator: t(operator),\n    /// Arithmetic-related [operator](#highlight.tags.operator).\n    arithmeticOperator: t(operator),\n    /// Logical [operator](#highlight.tags.operator).\n    logicOperator: t(operator),\n    /// Bit [operator](#highlight.tags.operator).\n    bitwiseOperator: t(operator),\n    /// Comparison [operator](#highlight.tags.operator).\n    compareOperator: t(operator),\n    /// [Operator](#highlight.tags.operator) that updates its operand.\n    updateOperator: t(operator),\n    /// [Operator](#highlight.tags.operator) that defines something.\n    definitionOperator: t(operator),\n    /// Type-related [operator](#highlight.tags.operator).\n    typeOperator: t(operator),\n    /// Control-flow [operator](#highlight.tags.operator).\n    controlOperator: t(operator),\n    /// Program or markup punctuation.\n    punctuation,\n    /// [Punctuation](#highlight.tags.punctuation) that separates\n    /// things.\n    separator: t(punctuation),\n    /// Bracket-style [punctuation](#highlight.tags.punctuation).\n    bracket,\n    /// Angle [brackets](#highlight.tags.bracket) (usually `<` and `>`\n    /// tokens).\n    angleBracket: t(bracket),\n    /// Square [brackets](#highlight.tags.bracket) (usually `[` and `]`\n    /// tokens).\n    squareBracket: t(bracket),\n    /// Parentheses (usually `(` and `)` tokens). Subtag of\n    /// [bracket](#highlight.tags.bracket).\n    paren: t(bracket),\n    /// Braces (usually `{` and `}` tokens). Subtag of\n    /// [bracket](#highlight.tags.bracket).\n    brace: t(bracket),\n    /// Content, for example plain text in XML or markup documents.\n    content,\n    /// [Content](#highlight.tags.content) that represents a heading.\n    heading,\n    /// A level 1 [heading](#highlight.tags.heading).\n    heading1: t(heading),\n    /// A level 2 [heading](#highlight.tags.heading).\n    heading2: t(heading),\n    /// A level 3 [heading](#highlight.tags.heading).\n    heading3: t(heading),\n    /// A level 4 [heading](#highlight.tags.heading).\n    heading4: t(heading),\n    /// A level 5 [heading](#highlight.tags.heading).\n    heading5: t(heading),\n    /// A level 6 [heading](#highlight.tags.heading).\n    heading6: t(heading),\n    /// A prose separator (such as a horizontal rule).\n    contentSeparator: t(content),\n    /// [Content](#highlight.tags.content) that represents a list.\n    list: t(content),\n    /// [Content](#highlight.tags.content) that represents a quote.\n    quote: t(content),\n    /// [Content](#highlight.tags.content) that is emphasized.\n    emphasis: t(content),\n    /// [Content](#highlight.tags.content) that is styled strong.\n    strong: t(content),\n    /// [Content](#highlight.tags.content) that is part of a link.\n    link: t(content),\n    /// [Content](#highlight.tags.content) that is styled as code or\n    /// monospace.\n    monospace: t(content),\n    /// [Content](#highlight.tags.content) that has a strike-through\n    /// style.\n    strikethrough: t(content),\n    /// Inserted text in a change-tracking format.\n    inserted: t(),\n    /// Deleted text.\n    deleted: t(),\n    /// Changed text.\n    changed: t(),\n    /// An invalid or unsyntactic element.\n    invalid: t(),\n    /// Metadata or meta-instruction.\n    meta,\n    /// [Metadata](#highlight.tags.meta) that applies to the entire\n    /// document.\n    documentMeta: t(meta),\n    /// [Metadata](#highlight.tags.meta) that annotates or adds\n    /// attributes to a given syntactic element.\n    annotation: t(meta),\n    /// Processing instruction or preprocessor directive. Subtag of\n    /// [meta](#highlight.tags.meta).\n    processingInstruction: t(meta),\n    /// [Modifier](#highlight.Tag^defineModifier) that indicates that a\n    /// given element is being defined. Expected to be used with the\n    /// various [name](#highlight.tags.name) tags.\n    definition: Tag.defineModifier(),\n    /// [Modifier](#highlight.Tag^defineModifier) that indicates that\n    /// something is constant. Mostly expected to be used with\n    /// [variable names](#highlight.tags.variableName).\n    constant: Tag.defineModifier(),\n    /// [Modifier](#highlight.Tag^defineModifier) used to indicate that\n    /// a [variable](#highlight.tags.variableName) or [property\n    /// name](#highlight.tags.propertyName) is being called or defined\n    /// as a function.\n    function: Tag.defineModifier(),\n    /// [Modifier](#highlight.Tag^defineModifier) that can be applied to\n    /// [names](#highlight.tags.name) to indicate that they belong to\n    /// the language's standard environment.\n    standard: Tag.defineModifier(),\n    /// [Modifier](#highlight.Tag^defineModifier) that indicates a given\n    /// [names](#highlight.tags.name) is local to some scope.\n    local: Tag.defineModifier(),\n    /// A generic variant [modifier](#highlight.Tag^defineModifier) that\n    /// can be used to tag language-specific alternative variants of\n    /// some common tag. It is recommended for themes to define special\n    /// forms of at least the [string](#highlight.tags.string) and\n    /// [variable name](#highlight.tags.variableName) tags, since those\n    /// come up a lot.\n    special: Tag.defineModifier()\n};\n/// This is a highlighter that adds stable, predictable classes to\n/// tokens, for styling with external CSS.\n///\n/// The following tags are mapped to their name prefixed with `\"tok-\"`\n/// (for example `\"tok-comment\"`):\n///\n/// * [`link`](#highlight.tags.link)\n/// * [`heading`](#highlight.tags.heading)\n/// * [`emphasis`](#highlight.tags.emphasis)\n/// * [`strong`](#highlight.tags.strong)\n/// * [`keyword`](#highlight.tags.keyword)\n/// * [`atom`](#highlight.tags.atom)\n/// * [`bool`](#highlight.tags.bool)\n/// * [`url`](#highlight.tags.url)\n/// * [`labelName`](#highlight.tags.labelName)\n/// * [`inserted`](#highlight.tags.inserted)\n/// * [`deleted`](#highlight.tags.deleted)\n/// * [`literal`](#highlight.tags.literal)\n/// * [`string`](#highlight.tags.string)\n/// * [`number`](#highlight.tags.number)\n/// * [`variableName`](#highlight.tags.variableName)\n/// * [`typeName`](#highlight.tags.typeName)\n/// * [`namespace`](#highlight.tags.namespace)\n/// * [`className`](#highlight.tags.className)\n/// * [`macroName`](#highlight.tags.macroName)\n/// * [`propertyName`](#highlight.tags.propertyName)\n/// * [`operator`](#highlight.tags.operator)\n/// * [`comment`](#highlight.tags.comment)\n/// * [`meta`](#highlight.tags.meta)\n/// * [`punctuation`](#highlight.tags.punctuation)\n/// * [`invalid`](#highlight.tags.invalid)\n///\n/// In addition, these mappings are provided:\n///\n/// * [`regexp`](#highlight.tags.regexp),\n///   [`escape`](#highlight.tags.escape), and\n///   [`special`](#highlight.tags.special)[`(string)`](#highlight.tags.string)\n///   are mapped to `\"tok-string2\"`\n/// * [`special`](#highlight.tags.special)[`(variableName)`](#highlight.tags.variableName)\n///   to `\"tok-variableName2\"`\n/// * [`local`](#highlight.tags.local)[`(variableName)`](#highlight.tags.variableName)\n///   to `\"tok-variableName tok-local\"`\n/// * [`definition`](#highlight.tags.definition)[`(variableName)`](#highlight.tags.variableName)\n///   to `\"tok-variableName tok-definition\"`\n/// * [`definition`](#highlight.tags.definition)[`(propertyName)`](#highlight.tags.propertyName)\n///   to `\"tok-propertyName tok-definition\"`\nconst classHighlighter = tagHighlighter([\n    { tag: tags.link, class: \"tok-link\" },\n    { tag: tags.heading, class: \"tok-heading\" },\n    { tag: tags.emphasis, class: \"tok-emphasis\" },\n    { tag: tags.strong, class: \"tok-strong\" },\n    { tag: tags.keyword, class: \"tok-keyword\" },\n    { tag: tags.atom, class: \"tok-atom\" },\n    { tag: tags.bool, class: \"tok-bool\" },\n    { tag: tags.url, class: \"tok-url\" },\n    { tag: tags.labelName, class: \"tok-labelName\" },\n    { tag: tags.inserted, class: \"tok-inserted\" },\n    { tag: tags.deleted, class: \"tok-deleted\" },\n    { tag: tags.literal, class: \"tok-literal\" },\n    { tag: tags.string, class: \"tok-string\" },\n    { tag: tags.number, class: \"tok-number\" },\n    { tag: [tags.regexp, tags.escape, tags.special(tags.string)], class: \"tok-string2\" },\n    { tag: tags.variableName, class: \"tok-variableName\" },\n    { tag: tags.local(tags.variableName), class: \"tok-variableName tok-local\" },\n    { tag: tags.definition(tags.variableName), class: \"tok-variableName tok-definition\" },\n    { tag: tags.special(tags.variableName), class: \"tok-variableName2\" },\n    { tag: tags.definition(tags.propertyName), class: \"tok-propertyName tok-definition\" },\n    { tag: tags.typeName, class: \"tok-typeName\" },\n    { tag: tags.namespace, class: \"tok-namespace\" },\n    { tag: tags.className, class: \"tok-className\" },\n    { tag: tags.macroName, class: \"tok-macroName\" },\n    { tag: tags.propertyName, class: \"tok-propertyName\" },\n    { tag: tags.operator, class: \"tok-operator\" },\n    { tag: tags.comment, class: \"tok-comment\" },\n    { tag: tags.meta, class: \"tok-meta\" },\n    { tag: tags.invalid, class: \"tok-invalid\" },\n    { tag: tags.punctuation, class: \"tok-punctuation\" }\n]);\n\nexport { Tag, classHighlighter, getStyleTags, highlightTree, styleTags, tagHighlighter, tags };\n","import { NodeProp, IterMode, Tree, TreeFragment, Parser, NodeType, NodeSet } from '@lezer/common';\nimport { StateEffect, StateField, Facet, EditorState, countColumn, combineConfig, RangeSet, RangeSetBuilder, Prec } from '@codemirror/state';\nimport { ViewPlugin, logException, EditorView, Decoration, WidgetType, gutter, GutterMarker } from '@codemirror/view';\nimport { tags, tagHighlighter, highlightTree, styleTags } from '@lezer/highlight';\nimport { StyleModule } from 'style-mod';\n\nvar _a;\n/**\nNode prop stored in a parser's top syntax node to provide the\nfacet that stores language-specific data for that language.\n*/\nconst languageDataProp = /*@__PURE__*/new NodeProp();\n/**\nHelper function to define a facet (to be added to the top syntax\nnode(s) for a language via\n[`languageDataProp`](https://codemirror.net/6/docs/ref/#language.languageDataProp)), that will be\nused to associate language data with the language. You\nprobably only need this when subclassing\n[`Language`](https://codemirror.net/6/docs/ref/#language.Language).\n*/\nfunction defineLanguageFacet(baseData) {\n    return Facet.define({\n        combine: baseData ? values => values.concat(baseData) : undefined\n    });\n}\n/**\nA language object manages parsing and per-language\n[metadata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt). Parse data is\nmanaged as a [Lezer](https://lezer.codemirror.net) tree. The class\ncan be used directly, via the [`LRLanguage`](https://codemirror.net/6/docs/ref/#language.LRLanguage)\nsubclass for [Lezer](https://lezer.codemirror.net/) LR parsers, or\nvia the [`StreamLanguage`](https://codemirror.net/6/docs/ref/#language.StreamLanguage) subclass\nfor stream parsers.\n*/\nclass Language {\n    /**\n    Construct a language object. If you need to invoke this\n    directly, first define a data facet with\n    [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet), and then\n    configure your parser to [attach](https://codemirror.net/6/docs/ref/#language.languageDataProp) it\n    to the language's outer syntax node.\n    */\n    constructor(\n    /**\n    The [language data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) facet\n    used for this language.\n    */\n    data, parser, extraExtensions = [], \n    /**\n    A language name.\n    */\n    name = \"\") {\n        this.data = data;\n        this.name = name;\n        // Kludge to define EditorState.tree as a debugging helper,\n        // without the EditorState package actually knowing about\n        // languages and lezer trees.\n        if (!EditorState.prototype.hasOwnProperty(\"tree\"))\n            Object.defineProperty(EditorState.prototype, \"tree\", { get() { return syntaxTree(this); } });\n        this.parser = parser;\n        this.extension = [\n            language.of(this),\n            EditorState.languageData.of((state, pos, side) => state.facet(languageDataFacetAt(state, pos, side)))\n        ].concat(extraExtensions);\n    }\n    /**\n    Query whether this language is active at the given position.\n    */\n    isActiveAt(state, pos, side = -1) {\n        return languageDataFacetAt(state, pos, side) == this.data;\n    }\n    /**\n    Find the document regions that were parsed using this language.\n    The returned regions will _include_ any nested languages rooted\n    in this language, when those exist.\n    */\n    findRegions(state) {\n        let lang = state.facet(language);\n        if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)\n            return [{ from: 0, to: state.doc.length }];\n        if (!lang || !lang.allowsNesting)\n            return [];\n        let result = [];\n        let explore = (tree, from) => {\n            if (tree.prop(languageDataProp) == this.data) {\n                result.push({ from, to: from + tree.length });\n                return;\n            }\n            let mount = tree.prop(NodeProp.mounted);\n            if (mount) {\n                if (mount.tree.prop(languageDataProp) == this.data) {\n                    if (mount.overlay)\n                        for (let r of mount.overlay)\n                            result.push({ from: r.from + from, to: r.to + from });\n                    else\n                        result.push({ from: from, to: from + tree.length });\n                    return;\n                }\n                else if (mount.overlay) {\n                    let size = result.length;\n                    explore(mount.tree, mount.overlay[0].from + from);\n                    if (result.length > size)\n                        return;\n                }\n            }\n            for (let i = 0; i < tree.children.length; i++) {\n                let ch = tree.children[i];\n                if (ch instanceof Tree)\n                    explore(ch, tree.positions[i] + from);\n            }\n        };\n        explore(syntaxTree(state), 0);\n        return result;\n    }\n    /**\n    Indicates whether this language allows nested languages. The\n    default implementation returns true.\n    */\n    get allowsNesting() { return true; }\n}\n/**\n@internal\n*/\nLanguage.setState = /*@__PURE__*/StateEffect.define();\nfunction languageDataFacetAt(state, pos, side) {\n    let topLang = state.facet(language);\n    if (!topLang)\n        return null;\n    let facet = topLang.data;\n    if (topLang.allowsNesting) {\n        for (let node = syntaxTree(state).topNode; node; node = node.enter(pos, side, IterMode.ExcludeBuffers))\n            facet = node.type.prop(languageDataProp) || facet;\n    }\n    return facet;\n}\n/**\nA subclass of [`Language`](https://codemirror.net/6/docs/ref/#language.Language) for use with Lezer\n[LR parsers](https://lezer.codemirror.net/docs/ref#lr.LRParser)\nparsers.\n*/\nclass LRLanguage extends Language {\n    constructor(data, parser, name) {\n        super(data, parser, [], name);\n        this.parser = parser;\n    }\n    /**\n    Define a language from a parser.\n    */\n    static define(spec) {\n        let data = defineLanguageFacet(spec.languageData);\n        return new LRLanguage(data, spec.parser.configure({\n            props: [languageDataProp.add(type => type.isTop ? data : undefined)]\n        }), spec.name);\n    }\n    /**\n    Create a new instance of this language with a reconfigured\n    version of its parser and optionally a new name.\n    */\n    configure(options, name) {\n        return new LRLanguage(this.data, this.parser.configure(options), name || this.name);\n    }\n    get allowsNesting() { return this.parser.hasWrappers(); }\n}\n/**\nGet the syntax tree for a state, which is the current (possibly\nincomplete) parse tree of the active\n[language](https://codemirror.net/6/docs/ref/#language.Language), or the empty tree if there is no\nlanguage available.\n*/\nfunction syntaxTree(state) {\n    let field = state.field(Language.state, false);\n    return field ? field.tree : Tree.empty;\n}\n/**\nTry to get a parse tree that spans at least up to `upto`. The\nmethod will do at most `timeout` milliseconds of work to parse\nup to that point if the tree isn't already available.\n*/\nfunction ensureSyntaxTree(state, upto, timeout = 50) {\n    var _a;\n    let parse = (_a = state.field(Language.state, false)) === null || _a === void 0 ? void 0 : _a.context;\n    if (!parse)\n        return null;\n    let oldVieport = parse.viewport;\n    parse.updateViewport({ from: 0, to: upto });\n    let result = parse.isDone(upto) || parse.work(timeout, upto) ? parse.tree : null;\n    parse.updateViewport(oldVieport);\n    return result;\n}\n/**\nQueries whether there is a full syntax tree available up to the\ngiven document position. If there isn't, the background parse\nprocess _might_ still be working and update the tree further, but\nthere is no guarantee of thatthe parser will [stop\nworking](https://codemirror.net/6/docs/ref/#language.syntaxParserRunning) when it has spent a\ncertain amount of time or has moved beyond the visible viewport.\nAlways returns false if no language has been enabled.\n*/\nfunction syntaxTreeAvailable(state, upto = state.doc.length) {\n    var _a;\n    return ((_a = state.field(Language.state, false)) === null || _a === void 0 ? void 0 : _a.context.isDone(upto)) || false;\n}\n/**\nMove parsing forward, and update the editor state afterwards to\nreflect the new tree. Will work for at most `timeout`\nmilliseconds. Returns true if the parser managed get to the given\nposition in that time.\n*/\nfunction forceParsing(view, upto = view.viewport.to, timeout = 100) {\n    let success = ensureSyntaxTree(view.state, upto, timeout);\n    if (success != syntaxTree(view.state))\n        view.dispatch({});\n    return !!success;\n}\n/**\nTells you whether the language parser is planning to do more\nparsing work (in a `requestIdleCallback` pseudo-thread) or has\nstopped running, either because it parsed the entire document,\nbecause it spent too much time and was cut off, or because there\nis no language parser enabled.\n*/\nfunction syntaxParserRunning(view) {\n    var _a;\n    return ((_a = view.plugin(parseWorker)) === null || _a === void 0 ? void 0 : _a.isWorking()) || false;\n}\n// Lezer-style Input object for a Text document.\nclass DocInput {\n    constructor(doc, length = doc.length) {\n        this.doc = doc;\n        this.length = length;\n        this.cursorPos = 0;\n        this.string = \"\";\n        this.cursor = doc.iter();\n    }\n    syncTo(pos) {\n        this.string = this.cursor.next(pos - this.cursorPos).value;\n        this.cursorPos = pos + this.string.length;\n        return this.cursorPos - this.string.length;\n    }\n    chunk(pos) {\n        this.syncTo(pos);\n        return this.string;\n    }\n    get lineChunks() { return true; }\n    read(from, to) {\n        let stringStart = this.cursorPos - this.string.length;\n        if (from < stringStart || to >= this.cursorPos)\n            return this.doc.sliceString(from, to);\n        else\n            return this.string.slice(from - stringStart, to - stringStart);\n    }\n}\nlet currentContext = null;\n/**\nA parse context provided to parsers working on the editor content.\n*/\nclass ParseContext {\n    constructor(parser, \n    /**\n    The current editor state.\n    */\n    state, \n    /**\n    Tree fragments that can be reused by incremental re-parses.\n    */\n    fragments = [], \n    /**\n    @internal\n    */\n    tree, \n    /**\n    @internal\n    */\n    treeLen, \n    /**\n    The current editor viewport (or some overapproximation\n    thereof). Intended to be used for opportunistically avoiding\n    work (in which case\n    [`skipUntilInView`](https://codemirror.net/6/docs/ref/#language.ParseContext.skipUntilInView)\n    should be called to make sure the parser is restarted when the\n    skipped region becomes visible).\n    */\n    viewport, \n    /**\n    @internal\n    */\n    skipped, \n    /**\n    This is where skipping parsers can register a promise that,\n    when resolved, will schedule a new parse. It is cleared when\n    the parse worker picks up the promise. @internal\n    */\n    scheduleOn) {\n        this.parser = parser;\n        this.state = state;\n        this.fragments = fragments;\n        this.tree = tree;\n        this.treeLen = treeLen;\n        this.viewport = viewport;\n        this.skipped = skipped;\n        this.scheduleOn = scheduleOn;\n        this.parse = null;\n        /**\n        @internal\n        */\n        this.tempSkipped = [];\n    }\n    /**\n    @internal\n    */\n    static create(parser, state, viewport) {\n        return new ParseContext(parser, state, [], Tree.empty, 0, viewport, [], null);\n    }\n    startParse() {\n        return this.parser.startParse(new DocInput(this.state.doc), this.fragments);\n    }\n    /**\n    @internal\n    */\n    work(until, upto) {\n        if (upto != null && upto >= this.state.doc.length)\n            upto = undefined;\n        if (this.tree != Tree.empty && this.isDone(upto !== null && upto !== void 0 ? upto : this.state.doc.length)) {\n            this.takeTree();\n            return true;\n        }\n        return this.withContext(() => {\n            var _a;\n            if (typeof until == \"number\") {\n                let endTime = Date.now() + until;\n                until = () => Date.now() > endTime;\n            }\n            if (!this.parse)\n                this.parse = this.startParse();\n            if (upto != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > upto) &&\n                upto < this.state.doc.length)\n                this.parse.stopAt(upto);\n            for (;;) {\n                let done = this.parse.advance();\n                if (done) {\n                    this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done, this.fragments, this.parse.stoppedAt != null));\n                    this.treeLen = (_a = this.parse.stoppedAt) !== null && _a !== void 0 ? _a : this.state.doc.length;\n                    this.tree = done;\n                    this.parse = null;\n                    if (this.treeLen < (upto !== null && upto !== void 0 ? upto : this.state.doc.length))\n                        this.parse = this.startParse();\n                    else\n                        return true;\n                }\n                if (until())\n                    return false;\n            }\n        });\n    }\n    /**\n    @internal\n    */\n    takeTree() {\n        let pos, tree;\n        if (this.parse && (pos = this.parse.parsedPos) >= this.treeLen) {\n            if (this.parse.stoppedAt == null || this.parse.stoppedAt > pos)\n                this.parse.stopAt(pos);\n            this.withContext(() => { while (!(tree = this.parse.advance())) { } });\n            this.treeLen = pos;\n            this.tree = tree;\n            this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));\n            this.parse = null;\n        }\n    }\n    withContext(f) {\n        let prev = currentContext;\n        currentContext = this;\n        try {\n            return f();\n        }\n        finally {\n            currentContext = prev;\n        }\n    }\n    withoutTempSkipped(fragments) {\n        for (let r; r = this.tempSkipped.pop();)\n            fragments = cutFragments(fragments, r.from, r.to);\n        return fragments;\n    }\n    /**\n    @internal\n    */\n    changes(changes, newState) {\n        let { fragments, tree, treeLen, viewport, skipped } = this;\n        this.takeTree();\n        if (!changes.empty) {\n            let ranges = [];\n            changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({ fromA, toA, fromB, toB }));\n            fragments = TreeFragment.applyChanges(fragments, ranges);\n            tree = Tree.empty;\n            treeLen = 0;\n            viewport = { from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1) };\n            if (this.skipped.length) {\n                skipped = [];\n                for (let r of this.skipped) {\n                    let from = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);\n                    if (from < to)\n                        skipped.push({ from, to });\n                }\n            }\n        }\n        return new ParseContext(this.parser, newState, fragments, tree, treeLen, viewport, skipped, this.scheduleOn);\n    }\n    /**\n    @internal\n    */\n    updateViewport(viewport) {\n        if (this.viewport.from == viewport.from && this.viewport.to == viewport.to)\n            return false;\n        this.viewport = viewport;\n        let startLen = this.skipped.length;\n        for (let i = 0; i < this.skipped.length; i++) {\n            let { from, to } = this.skipped[i];\n            if (from < viewport.to && to > viewport.from) {\n                this.fragments = cutFragments(this.fragments, from, to);\n                this.skipped.splice(i--, 1);\n            }\n        }\n        if (this.skipped.length >= startLen)\n            return false;\n        this.reset();\n        return true;\n    }\n    /**\n    @internal\n    */\n    reset() {\n        if (this.parse) {\n            this.takeTree();\n            this.parse = null;\n        }\n    }\n    /**\n    Notify the parse scheduler that the given region was skipped\n    because it wasn't in view, and the parse should be restarted\n    when it comes into view.\n    */\n    skipUntilInView(from, to) {\n        this.skipped.push({ from, to });\n    }\n    /**\n    Returns a parser intended to be used as placeholder when\n    asynchronously loading a nested parser. It'll skip its input and\n    mark it as not-really-parsed, so that the next update will parse\n    it again.\n    \n    When `until` is given, a reparse will be scheduled when that\n    promise resolves.\n    */\n    static getSkippingParser(until) {\n        return new class extends Parser {\n            createParse(input, fragments, ranges) {\n                let from = ranges[0].from, to = ranges[ranges.length - 1].to;\n                let parser = {\n                    parsedPos: from,\n                    advance() {\n                        let cx = currentContext;\n                        if (cx) {\n                            for (let r of ranges)\n                                cx.tempSkipped.push(r);\n                            if (until)\n                                cx.scheduleOn = cx.scheduleOn ? Promise.all([cx.scheduleOn, until]) : until;\n                        }\n                        this.parsedPos = to;\n                        return new Tree(NodeType.none, [], [], to - from);\n                    },\n                    stoppedAt: null,\n                    stopAt() { }\n                };\n                return parser;\n            }\n        };\n    }\n    /**\n    @internal\n    */\n    isDone(upto) {\n        upto = Math.min(upto, this.state.doc.length);\n        let frags = this.fragments;\n        return this.treeLen >= upto && frags.length && frags[0].from == 0 && frags[0].to >= upto;\n    }\n    /**\n    Get the context for the current parse, or `null` if no editor\n    parse is in progress.\n    */\n    static get() { return currentContext; }\n}\nfunction cutFragments(fragments, from, to) {\n    return TreeFragment.applyChanges(fragments, [{ fromA: from, toA: to, fromB: from, toB: to }]);\n}\nclass LanguageState {\n    constructor(\n    // A mutable parse state that is used to preserve work done during\n    // the lifetime of a state when moving to the next state.\n    context) {\n        this.context = context;\n        this.tree = context.tree;\n    }\n    apply(tr) {\n        if (!tr.docChanged && this.tree == this.context.tree)\n            return this;\n        let newCx = this.context.changes(tr.changes, tr.state);\n        // If the previous parse wasn't done, go forward only up to its\n        // end position or the end of the viewport, to avoid slowing down\n        // state updates with parse work beyond the viewport.\n        let upto = this.context.treeLen == tr.startState.doc.length ? undefined\n            : Math.max(tr.changes.mapPos(this.context.treeLen), newCx.viewport.to);\n        if (!newCx.work(20 /* Work.Apply */, upto))\n            newCx.takeTree();\n        return new LanguageState(newCx);\n    }\n    static init(state) {\n        let vpTo = Math.min(3000 /* Work.InitViewport */, state.doc.length);\n        let parseState = ParseContext.create(state.facet(language).parser, state, { from: 0, to: vpTo });\n        if (!parseState.work(20 /* Work.Apply */, vpTo))\n            parseState.takeTree();\n        return new LanguageState(parseState);\n    }\n}\nLanguage.state = /*@__PURE__*/StateField.define({\n    create: LanguageState.init,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(Language.setState))\n                return e.value;\n        if (tr.startState.facet(language) != tr.state.facet(language))\n            return LanguageState.init(tr.state);\n        return value.apply(tr);\n    }\n});\nlet requestIdle = (callback) => {\n    let timeout = setTimeout(() => callback(), 500 /* Work.MaxPause */);\n    return () => clearTimeout(timeout);\n};\nif (typeof requestIdleCallback != \"undefined\")\n    requestIdle = (callback) => {\n        let idle = -1, timeout = setTimeout(() => {\n            idle = requestIdleCallback(callback, { timeout: 500 /* Work.MaxPause */ - 100 /* Work.MinPause */ });\n        }, 100 /* Work.MinPause */);\n        return () => idle < 0 ? clearTimeout(timeout) : cancelIdleCallback(idle);\n    };\nconst isInputPending = typeof navigator != \"undefined\" && ((_a = navigator.scheduling) === null || _a === void 0 ? void 0 : _a.isInputPending)\n    ? () => navigator.scheduling.isInputPending() : null;\nconst parseWorker = /*@__PURE__*/ViewPlugin.fromClass(class ParseWorker {\n    constructor(view) {\n        this.view = view;\n        this.working = null;\n        this.workScheduled = 0;\n        // End of the current time chunk\n        this.chunkEnd = -1;\n        // Milliseconds of budget left for this chunk\n        this.chunkBudget = -1;\n        this.work = this.work.bind(this);\n        this.scheduleWork();\n    }\n    update(update) {\n        let cx = this.view.state.field(Language.state).context;\n        if (cx.updateViewport(update.view.viewport) || this.view.viewport.to > cx.treeLen)\n            this.scheduleWork();\n        if (update.docChanged) {\n            if (this.view.hasFocus)\n                this.chunkBudget += 50 /* Work.ChangeBonus */;\n            this.scheduleWork();\n        }\n        this.checkAsyncSchedule(cx);\n    }\n    scheduleWork() {\n        if (this.working)\n            return;\n        let { state } = this.view, field = state.field(Language.state);\n        if (field.tree != field.context.tree || !field.context.isDone(state.doc.length))\n            this.working = requestIdle(this.work);\n    }\n    work(deadline) {\n        this.working = null;\n        let now = Date.now();\n        if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) { // Start a new chunk\n            this.chunkEnd = now + 30000 /* Work.ChunkTime */;\n            this.chunkBudget = 3000 /* Work.ChunkBudget */;\n        }\n        if (this.chunkBudget <= 0)\n            return; // No more budget\n        let { state, viewport: { to: vpTo } } = this.view, field = state.field(Language.state);\n        if (field.tree == field.context.tree && field.context.isDone(vpTo + 100000 /* Work.MaxParseAhead */))\n            return;\n        let endTime = Date.now() + Math.min(this.chunkBudget, 100 /* Work.Slice */, deadline && !isInputPending ? Math.max(25 /* Work.MinSlice */, deadline.timeRemaining() - 5) : 1e9);\n        let viewportFirst = field.context.treeLen < vpTo && state.doc.length > vpTo + 1000;\n        let done = field.context.work(() => {\n            return isInputPending && isInputPending() || Date.now() > endTime;\n        }, vpTo + (viewportFirst ? 0 : 100000 /* Work.MaxParseAhead */));\n        this.chunkBudget -= Date.now() - now;\n        if (done || this.chunkBudget <= 0) {\n            field.context.takeTree();\n            this.view.dispatch({ effects: Language.setState.of(new LanguageState(field.context)) });\n        }\n        if (this.chunkBudget > 0 && !(done && !viewportFirst))\n            this.scheduleWork();\n        this.checkAsyncSchedule(field.context);\n    }\n    checkAsyncSchedule(cx) {\n        if (cx.scheduleOn) {\n            this.workScheduled++;\n            cx.scheduleOn\n                .then(() => this.scheduleWork())\n                .catch(err => logException(this.view.state, err))\n                .then(() => this.workScheduled--);\n            cx.scheduleOn = null;\n        }\n    }\n    destroy() {\n        if (this.working)\n            this.working();\n    }\n    isWorking() {\n        return !!(this.working || this.workScheduled > 0);\n    }\n}, {\n    eventHandlers: { focus() { this.scheduleWork(); } }\n});\n/**\nThe facet used to associate a language with an editor state. Used\nby `Language` object's `extension` property (so you don't need to\nmanually wrap your languages in this). Can be used to access the\ncurrent language on a state.\n*/\nconst language = /*@__PURE__*/Facet.define({\n    combine(languages) { return languages.length ? languages[0] : null; },\n    enables: language => [\n        Language.state,\n        parseWorker,\n        EditorView.contentAttributes.compute([language], state => {\n            let lang = state.facet(language);\n            return lang && lang.name ? { \"data-language\": lang.name } : {};\n        })\n    ]\n});\n/**\nThis class bundles a [language](https://codemirror.net/6/docs/ref/#language.Language) with an\noptional set of supporting extensions. Language packages are\nencouraged to export a function that optionally takes a\nconfiguration object and returns a `LanguageSupport` instance, as\nthe main way for client code to use the package.\n*/\nclass LanguageSupport {\n    /**\n    Create a language support object.\n    */\n    constructor(\n    /**\n    The language object.\n    */\n    language, \n    /**\n    An optional set of supporting extensions. When nesting a\n    language in another language, the outer language is encouraged\n    to include the supporting extensions for its inner languages\n    in its own set of support extensions.\n    */\n    support = []) {\n        this.language = language;\n        this.support = support;\n        this.extension = [language, support];\n    }\n}\n/**\nLanguage descriptions are used to store metadata about languages\nand to dynamically load them. Their main role is finding the\nappropriate language for a filename or dynamically loading nested\nparsers.\n*/\nclass LanguageDescription {\n    constructor(\n    /**\n    The name of this language.\n    */\n    name, \n    /**\n    Alternative names for the mode (lowercased, includes `this.name`).\n    */\n    alias, \n    /**\n    File extensions associated with this language.\n    */\n    extensions, \n    /**\n    Optional filename pattern that should be associated with this\n    language.\n    */\n    filename, loadFunc, \n    /**\n    If the language has been loaded, this will hold its value.\n    */\n    support = undefined) {\n        this.name = name;\n        this.alias = alias;\n        this.extensions = extensions;\n        this.filename = filename;\n        this.loadFunc = loadFunc;\n        this.support = support;\n        this.loading = null;\n    }\n    /**\n    Start loading the the language. Will return a promise that\n    resolves to a [`LanguageSupport`](https://codemirror.net/6/docs/ref/#language.LanguageSupport)\n    object when the language successfully loads.\n    */\n    load() {\n        return this.loading || (this.loading = this.loadFunc().then(support => this.support = support, err => { this.loading = null; throw err; }));\n    }\n    /**\n    Create a language description.\n    */\n    static of(spec) {\n        let { load, support } = spec;\n        if (!load) {\n            if (!support)\n                throw new RangeError(\"Must pass either 'load' or 'support' to LanguageDescription.of\");\n            load = () => Promise.resolve(support);\n        }\n        return new LanguageDescription(spec.name, (spec.alias || []).concat(spec.name).map(s => s.toLowerCase()), spec.extensions || [], spec.filename, load, support);\n    }\n    /**\n    Look for a language in the given array of descriptions that\n    matches the filename. Will first match\n    [`filename`](https://codemirror.net/6/docs/ref/#language.LanguageDescription.filename) patterns,\n    and then [extensions](https://codemirror.net/6/docs/ref/#language.LanguageDescription.extensions),\n    and return the first language that matches.\n    */\n    static matchFilename(descs, filename) {\n        for (let d of descs)\n            if (d.filename && d.filename.test(filename))\n                return d;\n        let ext = /\\.([^.]+)$/.exec(filename);\n        if (ext)\n            for (let d of descs)\n                if (d.extensions.indexOf(ext[1]) > -1)\n                    return d;\n        return null;\n    }\n    /**\n    Look for a language whose name or alias matches the the given\n    name (case-insensitively). If `fuzzy` is true, and no direct\n    matchs is found, this'll also search for a language whose name\n    or alias occurs in the string (for names shorter than three\n    characters, only when surrounded by non-word characters).\n    */\n    static matchLanguageName(descs, name, fuzzy = true) {\n        name = name.toLowerCase();\n        for (let d of descs)\n            if (d.alias.some(a => a == name))\n                return d;\n        if (fuzzy)\n            for (let d of descs)\n                for (let a of d.alias) {\n                    let found = name.indexOf(a);\n                    if (found > -1 && (a.length > 2 || !/\\w/.test(name[found - 1]) && !/\\w/.test(name[found + a.length])))\n                        return d;\n                }\n        return null;\n    }\n}\n\n/**\nFacet that defines a way to provide a function that computes the\nappropriate indentation depth, as a column number (see\n[`indentString`](https://codemirror.net/6/docs/ref/#language.indentString)), at the start of a given\nline. A return value of `null` indicates no indentation can be\ndetermined, and the line should inherit the indentation of the one\nabove it. A return value of `undefined` defers to the next indent\nservice.\n*/\nconst indentService = /*@__PURE__*/Facet.define();\n/**\nFacet for overriding the unit by which indentation happens.\nShould be a string consisting either entirely of spaces or\nentirely of tabs. When not set, this defaults to 2 spaces.\n*/\nconst indentUnit = /*@__PURE__*/Facet.define({\n    combine: values => {\n        if (!values.length)\n            return \"  \";\n        if (!/^(?: +|\\t+)$/.test(values[0]))\n            throw new Error(\"Invalid indent unit: \" + JSON.stringify(values[0]));\n        return values[0];\n    }\n});\n/**\nReturn the _column width_ of an indent unit in the state.\nDetermined by the [`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit)\nfacet, and [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) when that\ncontains tabs.\n*/\nfunction getIndentUnit(state) {\n    let unit = state.facet(indentUnit);\n    return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;\n}\n/**\nCreate an indentation string that covers columns 0 to `cols`.\nWill use tabs for as much of the columns as possible when the\n[`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit) facet contains\ntabs.\n*/\nfunction indentString(state, cols) {\n    let result = \"\", ts = state.tabSize;\n    if (state.facet(indentUnit).charCodeAt(0) == 9)\n        while (cols >= ts) {\n            result += \"\\t\";\n            cols -= ts;\n        }\n    for (let i = 0; i < cols; i++)\n        result += \" \";\n    return result;\n}\n/**\nGet the indentation, as a column number, at the given position.\nWill first consult any [indent services](https://codemirror.net/6/docs/ref/#language.indentService)\nthat are registered, and if none of those return an indentation,\nthis will check the syntax tree for the [indent node\nprop](https://codemirror.net/6/docs/ref/#language.indentNodeProp) and use that if found. Returns a\nnumber when an indentation could be determined, and null\notherwise.\n*/\nfunction getIndentation(context, pos) {\n    if (context instanceof EditorState)\n        context = new IndentContext(context);\n    for (let service of context.state.facet(indentService)) {\n        let result = service(context, pos);\n        if (result !== undefined)\n            return result;\n    }\n    let tree = syntaxTree(context.state);\n    return tree ? syntaxIndentation(context, tree, pos) : null;\n}\n/**\nCreate a change set that auto-indents all lines touched by the\ngiven document range.\n*/\nfunction indentRange(state, from, to) {\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => { var _a; return (_a = updated[start]) !== null && _a !== void 0 ? _a : -1; } });\n    let changes = [];\n    for (let pos = from; pos <= to;) {\n        let line = state.doc.lineAt(pos);\n        pos = line.to + 1;\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            continue;\n        if (!/\\S/.test(line.text))\n            indent = 0;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    }\n    return state.changes(changes);\n}\n/**\nIndentation contexts are used when calling [indentation\nservices](https://codemirror.net/6/docs/ref/#language.indentService). They provide helper utilities\nuseful in indentation logic, and can selectively override the\nindentation reported for some lines.\n*/\nclass IndentContext {\n    /**\n    Create an indent context.\n    */\n    constructor(\n    /**\n    The editor state.\n    */\n    state, \n    /**\n    @internal\n    */\n    options = {}) {\n        this.state = state;\n        this.options = options;\n        this.unit = getIndentUnit(state);\n    }\n    /**\n    Get a description of the line at the given position, taking\n    [simulated line\n    breaks](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    into account. If there is such a break at `pos`, the `bias`\n    argument determines whether the part of the line line before or\n    after the break is used.\n    */\n    lineAt(pos, bias = 1) {\n        let line = this.state.doc.lineAt(pos);\n        let { simulateBreak, simulateDoubleBreak } = this.options;\n        if (simulateBreak != null && simulateBreak >= line.from && simulateBreak <= line.to) {\n            if (simulateDoubleBreak && simulateBreak == pos)\n                return { text: \"\", from: pos };\n            else if (bias < 0 ? simulateBreak < pos : simulateBreak <= pos)\n                return { text: line.text.slice(simulateBreak - line.from), from: simulateBreak };\n            else\n                return { text: line.text.slice(0, simulateBreak - line.from), from: line.from };\n        }\n        return line;\n    }\n    /**\n    Get the text directly after `pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    textAfterPos(pos, bias = 1) {\n        if (this.options.simulateDoubleBreak && pos == this.options.simulateBreak)\n            return \"\";\n        let { text, from } = this.lineAt(pos, bias);\n        return text.slice(pos - from, Math.min(text.length, pos + 100 - from));\n    }\n    /**\n    Find the column for the given position.\n    */\n    column(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let result = this.countColumn(text, pos - from);\n        let override = this.options.overrideIndentation ? this.options.overrideIndentation(from) : -1;\n        if (override > -1)\n            result += override - this.countColumn(text, text.search(/\\S|$/));\n        return result;\n    }\n    /**\n    Find the column position (taking tabs into account) of the given\n    position in the given string.\n    */\n    countColumn(line, pos = line.length) {\n        return countColumn(line, this.state.tabSize, pos);\n    }\n    /**\n    Find the indentation column of the line at the given point.\n    */\n    lineIndent(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let override = this.options.overrideIndentation;\n        if (override) {\n            let overriden = override(from);\n            if (overriden > -1)\n                return overriden;\n        }\n        return this.countColumn(text, text.search(/\\S|$/));\n    }\n    /**\n    Returns the [simulated line\n    break](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    for this context, if any.\n    */\n    get simulatedBreak() {\n        return this.options.simulateBreak || null;\n    }\n}\n/**\nA syntax tree node prop used to associate indentation strategies\nwith node types. Such a strategy is a function from an indentation\ncontext to a column number (see also\n[`indentString`](https://codemirror.net/6/docs/ref/#language.indentString)) or null, where null\nindicates that no definitive indentation can be determined.\n*/\nconst indentNodeProp = /*@__PURE__*/new NodeProp();\n// Compute the indentation for a given position from the syntax tree.\nfunction syntaxIndentation(cx, ast, pos) {\n    return indentFrom(ast.resolveInner(pos).enterUnfinishedNodesBefore(pos), pos, cx);\n}\nfunction ignoreClosed(cx) {\n    return cx.pos == cx.options.simulateBreak && cx.options.simulateDoubleBreak;\n}\nfunction indentStrategy(tree) {\n    let strategy = tree.type.prop(indentNodeProp);\n    if (strategy)\n        return strategy;\n    let first = tree.firstChild, close;\n    if (first && (close = first.type.prop(NodeProp.closedBy))) {\n        let last = tree.lastChild, closed = last && close.indexOf(last.name) > -1;\n        return cx => delimitedStrategy(cx, true, 1, undefined, closed && !ignoreClosed(cx) ? last.from : undefined);\n    }\n    return tree.parent == null ? topIndent : null;\n}\nfunction indentFrom(node, pos, base) {\n    for (; node; node = node.parent) {\n        let strategy = indentStrategy(node);\n        if (strategy)\n            return strategy(TreeIndentContext.create(base, pos, node));\n    }\n    return null;\n}\nfunction topIndent() { return 0; }\n/**\nObjects of this type provide context information and helper\nmethods to indentation functions registered on syntax nodes.\n*/\nclass TreeIndentContext extends IndentContext {\n    constructor(base, \n    /**\n    The position at which indentation is being computed.\n    */\n    pos, \n    /**\n    The syntax tree node to which the indentation strategy\n    applies.\n    */\n    node) {\n        super(base.state, base.options);\n        this.base = base;\n        this.pos = pos;\n        this.node = node;\n    }\n    /**\n    @internal\n    */\n    static create(base, pos, node) {\n        return new TreeIndentContext(base, pos, node);\n    }\n    /**\n    Get the text directly after `this.pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    get textAfter() {\n        return this.textAfterPos(this.pos);\n    }\n    /**\n    Get the indentation at the reference line for `this.node`, which\n    is the line on which it starts, unless there is a node that is\n    _not_ a parent of this node covering the start of that line. If\n    so, the line at the start of that node is tried, again skipping\n    on if it is covered by another such node.\n    */\n    get baseIndent() {\n        let line = this.state.doc.lineAt(this.node.from);\n        // Skip line starts that are covered by a sibling (or cousin, etc)\n        for (;;) {\n            let atBreak = this.node.resolve(line.from);\n            while (atBreak.parent && atBreak.parent.from == atBreak.from)\n                atBreak = atBreak.parent;\n            if (isParent(atBreak, this.node))\n                break;\n            line = this.state.doc.lineAt(atBreak.from);\n        }\n        return this.lineIndent(line.from);\n    }\n    /**\n    Continue looking for indentations in the node's parent nodes,\n    and return the result of that.\n    */\n    continue() {\n        let parent = this.node.parent;\n        return parent ? indentFrom(parent, this.pos, this.base) : 0;\n    }\n}\nfunction isParent(parent, of) {\n    for (let cur = of; cur; cur = cur.parent)\n        if (parent == cur)\n            return true;\n    return false;\n}\n// Check whether a delimited node is aligned (meaning there are\n// non-skipped nodes on the same line as the opening delimiter). And\n// if so, return the opening token.\nfunction bracketedAligned(context) {\n    let tree = context.node;\n    let openToken = tree.childAfter(tree.from), last = tree.lastChild;\n    if (!openToken)\n        return null;\n    let sim = context.options.simulateBreak;\n    let openLine = context.state.doc.lineAt(openToken.from);\n    let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);\n    for (let pos = openToken.to;;) {\n        let next = tree.childAfter(pos);\n        if (!next || next == last)\n            return null;\n        if (!next.type.isSkipped)\n            return next.from < lineEnd ? openToken : null;\n        pos = next.to;\n    }\n}\n/**\nAn indentation strategy for delimited (usually bracketed) nodes.\nWill, by default, indent one unit more than the parent's base\nindent unless the line starts with a closing token. When `align`\nis true and there are non-skipped nodes on the node's opening\nline, the content of the node will be aligned with the end of the\nopening node, like this:\n\n    foo(bar,\n        baz)\n*/\nfunction delimitedIndent({ closing, align = true, units = 1 }) {\n    return (context) => delimitedStrategy(context, align, units, closing);\n}\nfunction delimitedStrategy(context, align, units, closing, closedAt) {\n    let after = context.textAfter, space = after.match(/^\\s*/)[0].length;\n    let closed = closing && after.slice(space, space + closing.length) == closing || closedAt == context.pos + space;\n    let aligned = align ? bracketedAligned(context) : null;\n    if (aligned)\n        return closed ? context.column(aligned.from) : context.column(aligned.to);\n    return context.baseIndent + (closed ? 0 : context.unit * units);\n}\n/**\nAn indentation strategy that aligns a node's content to its base\nindentation.\n*/\nconst flatIndent = (context) => context.baseIndent;\n/**\nCreates an indentation strategy that, by default, indents\ncontinued lines one unit more than the node's base indentation.\nYou can provide `except` to prevent indentation of lines that\nmatch a pattern (for example `/^else\\b/` in `if`/`else`\nconstructs), and you can change the amount of units used with the\n`units` option.\n*/\nfunction continuedIndent({ except, units = 1 } = {}) {\n    return (context) => {\n        let matchExcept = except && except.test(context.textAfter);\n        return context.baseIndent + (matchExcept ? 0 : units * context.unit);\n    };\n}\nconst DontIndentBeyond = 200;\n/**\nEnables reindentation on input. When a language defines an\n`indentOnInput` field in its [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt), which must hold a regular\nexpression, the line at the cursor will be reindented whenever new\ntext is typed and the input from the start of the line up to the\ncursor matches that regexp.\n\nTo avoid unneccesary reindents, it is recommended to start the\nregexp with `^` (usually followed by `\\s*`), and end it with `$`.\nFor example, `/^\\s*\\}$/` will reindent when a closing brace is\nadded at the start of a line.\n*/\nfunction indentOnInput() {\n    return EditorState.transactionFilter.of(tr => {\n        if (!tr.docChanged || !tr.isUserEvent(\"input.type\") && !tr.isUserEvent(\"input.complete\"))\n            return tr;\n        let rules = tr.startState.languageDataAt(\"indentOnInput\", tr.startState.selection.main.head);\n        if (!rules.length)\n            return tr;\n        let doc = tr.newDoc, { head } = tr.newSelection.main, line = doc.lineAt(head);\n        if (head > line.from + DontIndentBeyond)\n            return tr;\n        let lineStart = doc.sliceString(line.from, head);\n        if (!rules.some(r => r.test(lineStart)))\n            return tr;\n        let { state } = tr, last = -1, changes = [];\n        for (let { head } of state.selection.ranges) {\n            let line = state.doc.lineAt(head);\n            if (line.from == last)\n                continue;\n            last = line.from;\n            let indent = getIndentation(state, line.from);\n            if (indent == null)\n                continue;\n            let cur = /^\\s*/.exec(line.text)[0];\n            let norm = indentString(state, indent);\n            if (cur != norm)\n                changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n        return changes.length ? [tr, { changes, sequential: true }] : tr;\n    });\n}\n\n/**\nA facet that registers a code folding service. When called with\nthe extent of a line, such a function should return a foldable\nrange that starts on that line (but continues beyond it), if one\ncan be found.\n*/\nconst foldService = /*@__PURE__*/Facet.define();\n/**\nThis node prop is used to associate folding information with\nsyntax node types. Given a syntax node, it should check whether\nthat tree is foldable and return the range that can be collapsed\nwhen it is.\n*/\nconst foldNodeProp = /*@__PURE__*/new NodeProp();\n/**\n[Fold](https://codemirror.net/6/docs/ref/#language.foldNodeProp) function that folds everything but\nthe first and the last child of a syntax node. Useful for nodes\nthat start and end with delimiters.\n*/\nfunction foldInside(node) {\n    let first = node.firstChild, last = node.lastChild;\n    return first && first.to < last.from ? { from: first.to, to: last.type.isError ? node.to : last.from } : null;\n}\nfunction syntaxFolding(state, start, end) {\n    let tree = syntaxTree(state);\n    if (tree.length < end)\n        return null;\n    let inner = tree.resolveInner(end, 1);\n    let found = null;\n    for (let cur = inner; cur; cur = cur.parent) {\n        if (cur.to <= end || cur.from > end)\n            continue;\n        if (found && cur.from < start)\n            break;\n        let prop = cur.type.prop(foldNodeProp);\n        if (prop && (cur.to < tree.length - 50 || tree.length == state.doc.length || !isUnfinished(cur))) {\n            let value = prop(cur, state);\n            if (value && value.from <= end && value.from >= start && value.to > end)\n                found = value;\n        }\n    }\n    return found;\n}\nfunction isUnfinished(node) {\n    let ch = node.lastChild;\n    return ch && ch.to == node.to && ch.type.isError;\n}\n/**\nCheck whether the given line is foldable. First asks any fold\nservices registered through\n[`foldService`](https://codemirror.net/6/docs/ref/#language.foldService), and if none of them return\na result, tries to query the [fold node\nprop](https://codemirror.net/6/docs/ref/#language.foldNodeProp) of syntax nodes that cover the end\nof the line.\n*/\nfunction foldable(state, lineStart, lineEnd) {\n    for (let service of state.facet(foldService)) {\n        let result = service(state, lineStart, lineEnd);\n        if (result)\n            return result;\n    }\n    return syntaxFolding(state, lineStart, lineEnd);\n}\nfunction mapRange(range, mapping) {\n    let from = mapping.mapPos(range.from, 1), to = mapping.mapPos(range.to, -1);\n    return from >= to ? undefined : { from, to };\n}\n/**\nState effect that can be attached to a transaction to fold the\ngiven range. (You probably only need this in exceptional\ncircumstancesusually you'll just want to let\n[`foldCode`](https://codemirror.net/6/docs/ref/#language.foldCode) and the [fold\ngutter](https://codemirror.net/6/docs/ref/#language.foldGutter) create the transactions.)\n*/\nconst foldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\n/**\nState effect that unfolds the given range (if it was folded).\n*/\nconst unfoldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\nfunction selectedLines(view) {\n    let lines = [];\n    for (let { head } of view.state.selection.ranges) {\n        if (lines.some(l => l.from <= head && l.to >= head))\n            continue;\n        lines.push(view.lineBlockAt(head));\n    }\n    return lines;\n}\n/**\nThe state field that stores the folded ranges (as a [decoration\nset](https://codemirror.net/6/docs/ref/#view.DecorationSet)). Can be passed to\n[`EditorState.toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) and\n[`fromJSON`](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) to serialize the fold\nstate.\n*/\nconst foldState = /*@__PURE__*/StateField.define({\n    create() {\n        return Decoration.none;\n    },\n    update(folded, tr) {\n        folded = folded.map(tr.changes);\n        for (let e of tr.effects) {\n            if (e.is(foldEffect) && !foldExists(folded, e.value.from, e.value.to))\n                folded = folded.update({ add: [foldWidget.range(e.value.from, e.value.to)] });\n            else if (e.is(unfoldEffect))\n                folded = folded.update({ filter: (from, to) => e.value.from != from || e.value.to != to,\n                    filterFrom: e.value.from, filterTo: e.value.to });\n        }\n        // Clear folded ranges that cover the selection head\n        if (tr.selection) {\n            let onSelection = false, { head } = tr.selection.main;\n            folded.between(head, head, (a, b) => { if (a < head && b > head)\n                onSelection = true; });\n            if (onSelection)\n                folded = folded.update({\n                    filterFrom: head,\n                    filterTo: head,\n                    filter: (a, b) => b <= head || a >= head\n                });\n        }\n        return folded;\n    },\n    provide: f => EditorView.decorations.from(f),\n    toJSON(folded, state) {\n        let ranges = [];\n        folded.between(0, state.doc.length, (from, to) => { ranges.push(from, to); });\n        return ranges;\n    },\n    fromJSON(value) {\n        if (!Array.isArray(value) || value.length % 2)\n            throw new RangeError(\"Invalid JSON for fold state\");\n        let ranges = [];\n        for (let i = 0; i < value.length;) {\n            let from = value[i++], to = value[i++];\n            if (typeof from != \"number\" || typeof to != \"number\")\n                throw new RangeError(\"Invalid JSON for fold state\");\n            ranges.push(foldWidget.range(from, to));\n        }\n        return Decoration.set(ranges, true);\n    }\n});\n/**\nGet a [range set](https://codemirror.net/6/docs/ref/#state.RangeSet) containing the folded ranges\nin the given state.\n*/\nfunction foldedRanges(state) {\n    return state.field(foldState, false) || RangeSet.empty;\n}\nfunction findFold(state, from, to) {\n    var _a;\n    let found = null;\n    (_a = state.field(foldState, false)) === null || _a === void 0 ? void 0 : _a.between(from, to, (from, to) => {\n        if (!found || found.from > from)\n            found = { from, to };\n    });\n    return found;\n}\nfunction foldExists(folded, from, to) {\n    let found = false;\n    folded.between(from, from, (a, b) => { if (a == from && b == to)\n        found = true; });\n    return found;\n}\nfunction maybeEnable(state, other) {\n    return state.field(foldState, false) ? other : other.concat(StateEffect.appendConfig.of(codeFolding()));\n}\n/**\nFold the lines that are selected, if possible.\n*/\nconst foldCode = view => {\n    for (let line of selectedLines(view)) {\n        let range = foldable(view.state, line.from, line.to);\n        if (range) {\n            view.dispatch({ effects: maybeEnable(view.state, [foldEffect.of(range), announceFold(view, range)]) });\n            return true;\n        }\n    }\n    return false;\n};\n/**\nUnfold folded ranges on selected lines.\n*/\nconst unfoldCode = view => {\n    if (!view.state.field(foldState, false))\n        return false;\n    let effects = [];\n    for (let line of selectedLines(view)) {\n        let folded = findFold(view.state, line.from, line.to);\n        if (folded)\n            effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));\n    }\n    if (effects.length)\n        view.dispatch({ effects });\n    return effects.length > 0;\n};\nfunction announceFold(view, range, fold = true) {\n    let lineFrom = view.state.doc.lineAt(range.from).number, lineTo = view.state.doc.lineAt(range.to).number;\n    return EditorView.announce.of(`${view.state.phrase(fold ? \"Folded lines\" : \"Unfolded lines\")} ${lineFrom} ${view.state.phrase(\"to\")} ${lineTo}.`);\n}\n/**\nFold all top-level foldable ranges. Note that, in most cases,\nfolding information will depend on the [syntax\ntree](https://codemirror.net/6/docs/ref/#language.syntaxTree), and folding everything may not work\nreliably when the document hasn't been fully parsed (either\nbecause the editor state was only just initialized, or because the\ndocument is so big that the parser decided not to parse it\nentirely).\n*/\nconst foldAll = view => {\n    let { state } = view, effects = [];\n    for (let pos = 0; pos < state.doc.length;) {\n        let line = view.lineBlockAt(pos), range = foldable(state, line.from, line.to);\n        if (range)\n            effects.push(foldEffect.of(range));\n        pos = (range ? view.lineBlockAt(range.to) : line).to + 1;\n    }\n    if (effects.length)\n        view.dispatch({ effects: maybeEnable(view.state, effects) });\n    return !!effects.length;\n};\n/**\nUnfold all folded code.\n*/\nconst unfoldAll = view => {\n    let field = view.state.field(foldState, false);\n    if (!field || !field.size)\n        return false;\n    let effects = [];\n    field.between(0, view.state.doc.length, (from, to) => { effects.push(unfoldEffect.of({ from, to })); });\n    view.dispatch({ effects });\n    return true;\n};\n/**\nDefault fold-related key bindings.\n\n - Ctrl-Shift-[ (Cmd-Alt-[ on macOS): [`foldCode`](https://codemirror.net/6/docs/ref/#language.foldCode).\n - Ctrl-Shift-] (Cmd-Alt-] on macOS): [`unfoldCode`](https://codemirror.net/6/docs/ref/#language.unfoldCode).\n - Ctrl-Alt-[: [`foldAll`](https://codemirror.net/6/docs/ref/#language.foldAll).\n - Ctrl-Alt-]: [`unfoldAll`](https://codemirror.net/6/docs/ref/#language.unfoldAll).\n*/\nconst foldKeymap = [\n    { key: \"Ctrl-Shift-[\", mac: \"Cmd-Alt-[\", run: foldCode },\n    { key: \"Ctrl-Shift-]\", mac: \"Cmd-Alt-]\", run: unfoldCode },\n    { key: \"Ctrl-Alt-[\", run: foldAll },\n    { key: \"Ctrl-Alt-]\", run: unfoldAll }\n];\nconst defaultConfig = {\n    placeholderDOM: null,\n    placeholderText: \"\"\n};\nconst foldConfig = /*@__PURE__*/Facet.define({\n    combine(values) { return combineConfig(values, defaultConfig); }\n});\n/**\nCreate an extension that configures code folding.\n*/\nfunction codeFolding(config) {\n    let result = [foldState, baseTheme$1];\n    if (config)\n        result.push(foldConfig.of(config));\n    return result;\n}\nconst foldWidget = /*@__PURE__*/Decoration.replace({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM(view) {\n            let { state } = view, conf = state.facet(foldConfig);\n            let onclick = (event) => {\n                let line = view.lineBlockAt(view.posAtDOM(event.target));\n                let folded = findFold(view.state, line.from, line.to);\n                if (folded)\n                    view.dispatch({ effects: unfoldEffect.of(folded) });\n                event.preventDefault();\n            };\n            if (conf.placeholderDOM)\n                return conf.placeholderDOM(view, onclick);\n            let element = document.createElement(\"span\");\n            element.textContent = conf.placeholderText;\n            element.setAttribute(\"aria-label\", state.phrase(\"folded code\"));\n            element.title = state.phrase(\"unfold\");\n            element.className = \"cm-foldPlaceholder\";\n            element.onclick = onclick;\n            return element;\n        }\n    } });\nconst foldGutterDefaults = {\n    openText: \"\",\n    closedText: \"\",\n    markerDOM: null,\n    domEventHandlers: {},\n    foldingChanged: () => false\n};\nclass FoldMarker extends GutterMarker {\n    constructor(config, open) {\n        super();\n        this.config = config;\n        this.open = open;\n    }\n    eq(other) { return this.config == other.config && this.open == other.open; }\n    toDOM(view) {\n        if (this.config.markerDOM)\n            return this.config.markerDOM(this.open);\n        let span = document.createElement(\"span\");\n        span.textContent = this.open ? this.config.openText : this.config.closedText;\n        span.title = view.state.phrase(this.open ? \"Fold line\" : \"Unfold line\");\n        return span;\n    }\n}\n/**\nCreate an extension that registers a fold gutter, which shows a\nfold status indicator before foldable lines (which can be clicked\nto fold or unfold the line).\n*/\nfunction foldGutter(config = {}) {\n    let fullConfig = Object.assign(Object.assign({}, foldGutterDefaults), config);\n    let canFold = new FoldMarker(fullConfig, true), canUnfold = new FoldMarker(fullConfig, false);\n    let markers = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.from = view.viewport.from;\n            this.markers = this.buildMarkers(view);\n        }\n        update(update) {\n            if (update.docChanged || update.viewportChanged ||\n                update.startState.facet(language) != update.state.facet(language) ||\n                update.startState.field(foldState, false) != update.state.field(foldState, false) ||\n                syntaxTree(update.startState) != syntaxTree(update.state) ||\n                fullConfig.foldingChanged(update))\n                this.markers = this.buildMarkers(update.view);\n        }\n        buildMarkers(view) {\n            let builder = new RangeSetBuilder();\n            for (let line of view.viewportLineBlocks) {\n                let mark = findFold(view.state, line.from, line.to) ? canUnfold\n                    : foldable(view.state, line.from, line.to) ? canFold : null;\n                if (mark)\n                    builder.add(line.from, line.from, mark);\n            }\n            return builder.finish();\n        }\n    });\n    let { domEventHandlers } = fullConfig;\n    return [\n        markers,\n        gutter({\n            class: \"cm-foldGutter\",\n            markers(view) { var _a; return ((_a = view.plugin(markers)) === null || _a === void 0 ? void 0 : _a.markers) || RangeSet.empty; },\n            initialSpacer() {\n                return new FoldMarker(fullConfig, false);\n            },\n            domEventHandlers: Object.assign(Object.assign({}, domEventHandlers), { click: (view, line, event) => {\n                    if (domEventHandlers.click && domEventHandlers.click(view, line, event))\n                        return true;\n                    let folded = findFold(view.state, line.from, line.to);\n                    if (folded) {\n                        view.dispatch({ effects: unfoldEffect.of(folded) });\n                        return true;\n                    }\n                    let range = foldable(view.state, line.from, line.to);\n                    if (range) {\n                        view.dispatch({ effects: foldEffect.of(range) });\n                        return true;\n                    }\n                    return false;\n                } })\n        }),\n        codeFolding()\n    ];\n}\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"#eee\",\n        border: \"1px solid #ddd\",\n        color: \"#888\",\n        borderRadius: \".2em\",\n        margin: \"0 1px\",\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    },\n    \".cm-foldGutter span\": {\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    }\n});\n\n/**\nA highlight style associates CSS styles with higlighting\n[tags](https://lezer.codemirror.net/docs/ref#highlight.Tag).\n*/\nclass HighlightStyle {\n    constructor(\n    /**\n    The tag styles used to create this highlight style.\n    */\n    specs, options) {\n        this.specs = specs;\n        let modSpec;\n        function def(spec) {\n            let cls = StyleModule.newName();\n            (modSpec || (modSpec = Object.create(null)))[\".\" + cls] = spec;\n            return cls;\n        }\n        const all = typeof options.all == \"string\" ? options.all : options.all ? def(options.all) : undefined;\n        const scopeOpt = options.scope;\n        this.scope = scopeOpt instanceof Language ? (type) => type.prop(languageDataProp) == scopeOpt.data\n            : scopeOpt ? (type) => type == scopeOpt : undefined;\n        this.style = tagHighlighter(specs.map(style => ({\n            tag: style.tag,\n            class: style.class || def(Object.assign({}, style, { tag: null }))\n        })), {\n            all,\n        }).style;\n        this.module = modSpec ? new StyleModule(modSpec) : null;\n        this.themeType = options.themeType;\n    }\n    /**\n    Create a highlighter style that associates the given styles to\n    the given tags. The specs must be objects that hold a style tag\n    or array of tags in their `tag` property, and either a single\n    `class` property providing a static CSS class (for highlighter\n    that rely on external styling), or a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style\n    set of CSS properties (which define the styling for those tags).\n    \n    The CSS rules created for a highlighter will be emitted in the\n    order of the spec's properties. That means that for elements that\n    have multiple tags associated with them, styles defined further\n    down in the list will have a higher CSS precedence than styles\n    defined earlier.\n    */\n    static define(specs, options) {\n        return new HighlightStyle(specs, options || {});\n    }\n}\nconst highlighterFacet = /*@__PURE__*/Facet.define();\nconst fallbackHighlighter = /*@__PURE__*/Facet.define({\n    combine(values) { return values.length ? [values[0]] : null; }\n});\nfunction getHighlighters(state) {\n    let main = state.facet(highlighterFacet);\n    return main.length ? main : state.facet(fallbackHighlighter);\n}\n/**\nWrap a highlighter in an editor extension that uses it to apply\nsyntax highlighting to the editor content.\n\nWhen multiple (non-fallback) styles are provided, the styling\napplied is the union of the classes they emit.\n*/\nfunction syntaxHighlighting(highlighter, options) {\n    let ext = [treeHighlighter], themeType;\n    if (highlighter instanceof HighlightStyle) {\n        if (highlighter.module)\n            ext.push(EditorView.styleModule.of(highlighter.module));\n        themeType = highlighter.themeType;\n    }\n    if (options === null || options === void 0 ? void 0 : options.fallback)\n        ext.push(fallbackHighlighter.of(highlighter));\n    else if (themeType)\n        ext.push(highlighterFacet.computeN([EditorView.darkTheme], state => {\n            return state.facet(EditorView.darkTheme) == (themeType == \"dark\") ? [highlighter] : [];\n        }));\n    else\n        ext.push(highlighterFacet.of(highlighter));\n    return ext;\n}\n/**\nReturns the CSS classes (if any) that the highlighters active in\nthe state would assign to the given style\n[tags](https://lezer.codemirror.net/docs/ref#highlight.Tag) and\n(optional) language\n[scope](https://codemirror.net/6/docs/ref/#language.HighlightStyle^define^options.scope).\n*/\nfunction highlightingFor(state, tags, scope) {\n    let highlighters = getHighlighters(state);\n    let result = null;\n    if (highlighters)\n        for (let highlighter of highlighters) {\n            if (!highlighter.scope || scope && highlighter.scope(scope)) {\n                let cls = highlighter.style(tags);\n                if (cls)\n                    result = result ? result + \" \" + cls : cls;\n            }\n        }\n    return result;\n}\nclass TreeHighlighter {\n    constructor(view) {\n        this.markCache = Object.create(null);\n        this.tree = syntaxTree(view.state);\n        this.decorations = this.buildDeco(view, getHighlighters(view.state));\n    }\n    update(update) {\n        let tree = syntaxTree(update.state), highlighters = getHighlighters(update.state);\n        let styleChange = highlighters != getHighlighters(update.startState);\n        if (tree.length < update.view.viewport.to && !styleChange && tree.type == this.tree.type) {\n            this.decorations = this.decorations.map(update.changes);\n        }\n        else if (tree != this.tree || update.viewportChanged || styleChange) {\n            this.tree = tree;\n            this.decorations = this.buildDeco(update.view, highlighters);\n        }\n    }\n    buildDeco(view, highlighters) {\n        if (!highlighters || !this.tree.length)\n            return Decoration.none;\n        let builder = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges) {\n            highlightTree(this.tree, highlighters, (from, to, style) => {\n                builder.add(from, to, this.markCache[style] || (this.markCache[style] = Decoration.mark({ class: style })));\n            }, from, to);\n        }\n        return builder.finish();\n    }\n}\nconst treeHighlighter = /*@__PURE__*/Prec.high(/*@__PURE__*/ViewPlugin.fromClass(TreeHighlighter, {\n    decorations: v => v.decorations\n}));\n/**\nA default highlight style (works well with light themes).\n*/\nconst defaultHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.meta,\n        color: \"#404740\" },\n    { tag: tags.link,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        textDecoration: \"underline\",\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.keyword,\n        color: \"#708\" },\n    { tag: [tags.atom, tags.bool, tags.url, tags.contentSeparator, tags.labelName],\n        color: \"#219\" },\n    { tag: [tags.literal, tags.inserted],\n        color: \"#164\" },\n    { tag: [tags.string, tags.deleted],\n        color: \"#a11\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)],\n        color: \"#e40\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName),\n        color: \"#00f\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName),\n        color: \"#30a\" },\n    { tag: [tags.typeName, tags.namespace],\n        color: \"#085\" },\n    { tag: tags.className,\n        color: \"#167\" },\n    { tag: [/*@__PURE__*/tags.special(tags.variableName), tags.macroName],\n        color: \"#256\" },\n    { tag: /*@__PURE__*/tags.definition(tags.propertyName),\n        color: \"#00c\" },\n    { tag: tags.comment,\n        color: \"#940\" },\n    { tag: tags.invalid,\n        color: \"#f00\" }\n]);\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \"&.cm-focused .cm-matchingBracket\": { backgroundColor: \"#328c8252\" },\n    \"&.cm-focused .cm-nonmatchingBracket\": { backgroundColor: \"#bb555544\" }\n});\nconst DefaultScanDist = 10000, DefaultBrackets = \"()[]{}\";\nconst bracketMatchingConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            afterCursor: true,\n            brackets: DefaultBrackets,\n            maxScanDistance: DefaultScanDist,\n            renderMatch: defaultRenderMatch\n        });\n    }\n});\nconst matchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-matchingBracket\" }), nonmatchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-nonmatchingBracket\" });\nfunction defaultRenderMatch(match) {\n    let decorations = [];\n    let mark = match.matched ? matchingMark : nonmatchingMark;\n    decorations.push(mark.range(match.start.from, match.start.to));\n    if (match.end)\n        decorations.push(mark.range(match.end.from, match.end.to));\n    return decorations;\n}\nconst bracketMatchingState = /*@__PURE__*/StateField.define({\n    create() { return Decoration.none; },\n    update(deco, tr) {\n        if (!tr.docChanged && !tr.selection)\n            return deco;\n        let decorations = [];\n        let config = tr.state.facet(bracketMatchingConfig);\n        for (let range of tr.state.selection.ranges) {\n            if (!range.empty)\n                continue;\n            let match = matchBrackets(tr.state, range.head, -1, config)\n                || (range.head > 0 && matchBrackets(tr.state, range.head - 1, 1, config))\n                || (config.afterCursor &&\n                    (matchBrackets(tr.state, range.head, 1, config) ||\n                        (range.head < tr.state.doc.length && matchBrackets(tr.state, range.head + 1, -1, config))));\n            if (match)\n                decorations = decorations.concat(config.renderMatch(match, tr.state));\n        }\n        return Decoration.set(decorations, true);\n    },\n    provide: f => EditorView.decorations.from(f)\n});\nconst bracketMatchingUnique = [\n    bracketMatchingState,\n    baseTheme\n];\n/**\nCreate an extension that enables bracket matching. Whenever the\ncursor is next to a bracket, that bracket and the one it matches\nare highlighted. Or, when no matching bracket is found, another\nhighlighting style is used to indicate this.\n*/\nfunction bracketMatching(config = {}) {\n    return [bracketMatchingConfig.of(config), bracketMatchingUnique];\n}\nfunction matchingNodes(node, dir, brackets) {\n    let byProp = node.prop(dir < 0 ? NodeProp.openedBy : NodeProp.closedBy);\n    if (byProp)\n        return byProp;\n    if (node.name.length == 1) {\n        let index = brackets.indexOf(node.name);\n        if (index > -1 && index % 2 == (dir < 0 ? 1 : 0))\n            return [brackets[index + dir]];\n    }\n    return null;\n}\n/**\nFind the matching bracket for the token at `pos`, scanning\ndirection `dir`. Only the `brackets` and `maxScanDistance`\nproperties are used from `config`, if given. Returns null if no\nbracket was found at `pos`, or a match result otherwise.\n*/\nfunction matchBrackets(state, pos, dir, config = {}) {\n    let maxScanDistance = config.maxScanDistance || DefaultScanDist, brackets = config.brackets || DefaultBrackets;\n    let tree = syntaxTree(state), node = tree.resolveInner(pos, dir);\n    for (let cur = node; cur; cur = cur.parent) {\n        let matches = matchingNodes(cur.type, dir, brackets);\n        if (matches && cur.from < cur.to)\n            return matchMarkedBrackets(state, pos, dir, cur, matches, brackets);\n    }\n    return matchPlainBrackets(state, pos, dir, tree, node.type, maxScanDistance, brackets);\n}\nfunction matchMarkedBrackets(_state, _pos, dir, token, matching, brackets) {\n    let parent = token.parent, firstToken = { from: token.from, to: token.to };\n    let depth = 0, cursor = parent === null || parent === void 0 ? void 0 : parent.cursor();\n    if (cursor && (dir < 0 ? cursor.childBefore(token.from) : cursor.childAfter(token.to)))\n        do {\n            if (dir < 0 ? cursor.to <= token.from : cursor.from >= token.to) {\n                if (depth == 0 && matching.indexOf(cursor.type.name) > -1 && cursor.from < cursor.to) {\n                    return { start: firstToken, end: { from: cursor.from, to: cursor.to }, matched: true };\n                }\n                else if (matchingNodes(cursor.type, dir, brackets)) {\n                    depth++;\n                }\n                else if (matchingNodes(cursor.type, -dir, brackets)) {\n                    if (depth == 0)\n                        return {\n                            start: firstToken,\n                            end: cursor.from == cursor.to ? undefined : { from: cursor.from, to: cursor.to },\n                            matched: false\n                        };\n                    depth--;\n                }\n            }\n        } while (dir < 0 ? cursor.prevSibling() : cursor.nextSibling());\n    return { start: firstToken, matched: false };\n}\nfunction matchPlainBrackets(state, pos, dir, tree, tokenType, maxScanDistance, brackets) {\n    let startCh = dir < 0 ? state.sliceDoc(pos - 1, pos) : state.sliceDoc(pos, pos + 1);\n    let bracket = brackets.indexOf(startCh);\n    if (bracket < 0 || (bracket % 2 == 0) != (dir > 0))\n        return null;\n    let startToken = { from: dir < 0 ? pos - 1 : pos, to: dir > 0 ? pos + 1 : pos };\n    let iter = state.doc.iterRange(pos, dir > 0 ? state.doc.length : 0), depth = 0;\n    for (let distance = 0; !(iter.next()).done && distance <= maxScanDistance;) {\n        let text = iter.value;\n        if (dir < 0)\n            distance += text.length;\n        let basePos = pos + distance * dir;\n        for (let pos = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos != end; pos += dir) {\n            let found = brackets.indexOf(text[pos]);\n            if (found < 0 || tree.resolveInner(basePos + pos, 1).type != tokenType)\n                continue;\n            if ((found % 2 == 0) == (dir > 0)) {\n                depth++;\n            }\n            else if (depth == 1) { // Closing\n                return { start: startToken, end: { from: basePos + pos, to: basePos + pos + 1 }, matched: (found >> 1) == (bracket >> 1) };\n            }\n            else {\n                depth--;\n            }\n        }\n        if (dir > 0)\n            distance += text.length;\n    }\n    return iter.done ? { start: startToken, matched: false } : null;\n}\n\n// Counts the column offset in a string, taking tabs into account.\n// Used mostly to find indentation.\nfunction countCol(string, end, tabSize, startIndex = 0, startValue = 0) {\n    if (end == null) {\n        end = string.search(/[^\\s\\u00a0]/);\n        if (end == -1)\n            end = string.length;\n    }\n    let n = startValue;\n    for (let i = startIndex; i < end; i++) {\n        if (string.charCodeAt(i) == 9)\n            n += tabSize - (n % tabSize);\n        else\n            n++;\n    }\n    return n;\n}\n/**\nEncapsulates a single line of input. Given to stream syntax code,\nwhich uses it to tokenize the content.\n*/\nclass StringStream {\n    /**\n    Create a stream.\n    */\n    constructor(\n    /**\n    The line.\n    */\n    string, tabSize, \n    /**\n    The current indent unit size.\n    */\n    indentUnit) {\n        this.string = string;\n        this.tabSize = tabSize;\n        this.indentUnit = indentUnit;\n        /**\n        The current position on the line.\n        */\n        this.pos = 0;\n        /**\n        The start position of the current token.\n        */\n        this.start = 0;\n        this.lastColumnPos = 0;\n        this.lastColumnValue = 0;\n    }\n    /**\n    True if we are at the end of the line.\n    */\n    eol() { return this.pos >= this.string.length; }\n    /**\n    True if we are at the start of the line.\n    */\n    sol() { return this.pos == 0; }\n    /**\n    Get the next code unit after the current position, or undefined\n    if we're at the end of the line.\n    */\n    peek() { return this.string.charAt(this.pos) || undefined; }\n    /**\n    Read the next code unit and advance `this.pos`.\n    */\n    next() {\n        if (this.pos < this.string.length)\n            return this.string.charAt(this.pos++);\n    }\n    /**\n    Match the next character against the given string, regular\n    expression, or predicate. Consume and return it if it matches.\n    */\n    eat(match) {\n        let ch = this.string.charAt(this.pos);\n        let ok;\n        if (typeof match == \"string\")\n            ok = ch == match;\n        else\n            ok = ch && (match instanceof RegExp ? match.test(ch) : match(ch));\n        if (ok) {\n            ++this.pos;\n            return ch;\n        }\n    }\n    /**\n    Continue matching characters that match the given string,\n    regular expression, or predicate function. Return true if any\n    characters were consumed.\n    */\n    eatWhile(match) {\n        let start = this.pos;\n        while (this.eat(match)) { }\n        return this.pos > start;\n    }\n    /**\n    Consume whitespace ahead of `this.pos`. Return true if any was\n    found.\n    */\n    eatSpace() {\n        let start = this.pos;\n        while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos)))\n            ++this.pos;\n        return this.pos > start;\n    }\n    /**\n    Move to the end of the line.\n    */\n    skipToEnd() { this.pos = this.string.length; }\n    /**\n    Move to directly before the given character, if found on the\n    current line.\n    */\n    skipTo(ch) {\n        let found = this.string.indexOf(ch, this.pos);\n        if (found > -1) {\n            this.pos = found;\n            return true;\n        }\n    }\n    /**\n    Move back `n` characters.\n    */\n    backUp(n) { this.pos -= n; }\n    /**\n    Get the column position at `this.pos`.\n    */\n    column() {\n        if (this.lastColumnPos < this.start) {\n            this.lastColumnValue = countCol(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n            this.lastColumnPos = this.start;\n        }\n        return this.lastColumnValue;\n    }\n    /**\n    Get the indentation column of the current line.\n    */\n    indentation() {\n        return countCol(this.string, null, this.tabSize);\n    }\n    /**\n    Match the input against the given string or regular expression\n    (which should start with a `^`). Return true or the regexp match\n    if it matches.\n    \n    Unless `consume` is set to `false`, this will move `this.pos`\n    past the matched text.\n    \n    When matching a string `caseInsensitive` can be set to true to\n    make the match case-insensitive.\n    */\n    match(pattern, consume, caseInsensitive) {\n        if (typeof pattern == \"string\") {\n            let cased = (str) => caseInsensitive ? str.toLowerCase() : str;\n            let substr = this.string.substr(this.pos, pattern.length);\n            if (cased(substr) == cased(pattern)) {\n                if (consume !== false)\n                    this.pos += pattern.length;\n                return true;\n            }\n            else\n                return null;\n        }\n        else {\n            let match = this.string.slice(this.pos).match(pattern);\n            if (match && match.index > 0)\n                return null;\n            if (match && consume !== false)\n                this.pos += match[0].length;\n            return match;\n        }\n    }\n    /**\n    Get the current token.\n    */\n    current() { return this.string.slice(this.start, this.pos); }\n}\n\nfunction fullParser(spec) {\n    return {\n        name: spec.name || \"\",\n        token: spec.token,\n        blankLine: spec.blankLine || (() => { }),\n        startState: spec.startState || (() => true),\n        copyState: spec.copyState || defaultCopyState,\n        indent: spec.indent || (() => null),\n        languageData: spec.languageData || {},\n        tokenTable: spec.tokenTable || noTokens\n    };\n}\nfunction defaultCopyState(state) {\n    if (typeof state != \"object\")\n        return state;\n    let newState = {};\n    for (let prop in state) {\n        let val = state[prop];\n        newState[prop] = (val instanceof Array ? val.slice() : val);\n    }\n    return newState;\n}\n/**\nA [language](https://codemirror.net/6/docs/ref/#language.Language) class based on a CodeMirror\n5-style [streaming parser](https://codemirror.net/6/docs/ref/#language.StreamParser).\n*/\nclass StreamLanguage extends Language {\n    constructor(parser) {\n        let data = defineLanguageFacet(parser.languageData);\n        let p = fullParser(parser), self;\n        let impl = new class extends Parser {\n            createParse(input, fragments, ranges) {\n                return new Parse(self, input, fragments, ranges);\n            }\n        };\n        super(data, impl, [indentService.of((cx, pos) => this.getIndent(cx, pos))], parser.name);\n        this.topNode = docID(data);\n        self = this;\n        this.streamParser = p;\n        this.stateAfter = new NodeProp({ perNode: true });\n        this.tokenTable = parser.tokenTable ? new TokenTable(p.tokenTable) : defaultTokenTable;\n    }\n    /**\n    Define a stream language.\n    */\n    static define(spec) { return new StreamLanguage(spec); }\n    getIndent(cx, pos) {\n        let tree = syntaxTree(cx.state), at = tree.resolve(pos);\n        while (at && at.type != this.topNode)\n            at = at.parent;\n        if (!at)\n            return null;\n        let start = findState(this, tree, 0, at.from, pos), statePos, state;\n        if (start) {\n            state = start.state;\n            statePos = start.pos + 1;\n        }\n        else {\n            state = this.streamParser.startState(cx.unit);\n            statePos = 0;\n        }\n        if (pos - statePos > 10000 /* C.MaxIndentScanDist */)\n            return null;\n        while (statePos < pos) {\n            let line = cx.state.doc.lineAt(statePos), end = Math.min(pos, line.to);\n            if (line.length) {\n                let stream = new StringStream(line.text, cx.state.tabSize, cx.unit);\n                while (stream.pos < end - line.from)\n                    readToken(this.streamParser.token, stream, state);\n            }\n            else {\n                this.streamParser.blankLine(state, cx.unit);\n            }\n            if (end == pos)\n                break;\n            statePos = line.to + 1;\n        }\n        let { text } = cx.lineAt(pos);\n        return this.streamParser.indent(state, /^\\s*(.*)/.exec(text)[1], cx);\n    }\n    get allowsNesting() { return false; }\n}\nfunction findState(lang, tree, off, startPos, before) {\n    let state = off >= startPos && off + tree.length <= before && tree.prop(lang.stateAfter);\n    if (state)\n        return { state: lang.streamParser.copyState(state), pos: off + tree.length };\n    for (let i = tree.children.length - 1; i >= 0; i--) {\n        let child = tree.children[i], pos = off + tree.positions[i];\n        let found = child instanceof Tree && pos < before && findState(lang, child, pos, startPos, before);\n        if (found)\n            return found;\n    }\n    return null;\n}\nfunction cutTree(lang, tree, from, to, inside) {\n    if (inside && from <= 0 && to >= tree.length)\n        return tree;\n    if (!inside && tree.type == lang.topNode)\n        inside = true;\n    for (let i = tree.children.length - 1; i >= 0; i--) {\n        let pos = tree.positions[i], child = tree.children[i], inner;\n        if (pos < to && child instanceof Tree) {\n            if (!(inner = cutTree(lang, child, from - pos, to - pos, inside)))\n                break;\n            return !inside ? inner\n                : new Tree(tree.type, tree.children.slice(0, i).concat(inner), tree.positions.slice(0, i + 1), pos + inner.length);\n        }\n    }\n    return null;\n}\nfunction findStartInFragments(lang, fragments, startPos, editorState) {\n    for (let f of fragments) {\n        let from = f.from + (f.openStart ? 25 : 0), to = f.to - (f.openEnd ? 25 : 0);\n        let found = from <= startPos && to > startPos && findState(lang, f.tree, 0 - f.offset, startPos, to), tree;\n        if (found && (tree = cutTree(lang, f.tree, startPos + f.offset, found.pos + f.offset, false)))\n            return { state: found.state, tree };\n    }\n    return { state: lang.streamParser.startState(editorState ? getIndentUnit(editorState) : 4), tree: Tree.empty };\n}\nclass Parse {\n    constructor(lang, input, fragments, ranges) {\n        this.lang = lang;\n        this.input = input;\n        this.fragments = fragments;\n        this.ranges = ranges;\n        this.stoppedAt = null;\n        this.chunks = [];\n        this.chunkPos = [];\n        this.chunk = [];\n        this.chunkReused = undefined;\n        this.rangeIndex = 0;\n        this.to = ranges[ranges.length - 1].to;\n        let context = ParseContext.get(), from = ranges[0].from;\n        let { state, tree } = findStartInFragments(lang, fragments, from, context === null || context === void 0 ? void 0 : context.state);\n        this.state = state;\n        this.parsedPos = this.chunkStart = from + tree.length;\n        for (let i = 0; i < tree.children.length; i++) {\n            this.chunks.push(tree.children[i]);\n            this.chunkPos.push(tree.positions[i]);\n        }\n        if (context && this.parsedPos < context.viewport.from - 100000 /* C.MaxDistanceBeforeViewport */) {\n            this.state = this.lang.streamParser.startState(getIndentUnit(context.state));\n            context.skipUntilInView(this.parsedPos, context.viewport.from);\n            this.parsedPos = context.viewport.from;\n        }\n        this.moveRangeIndex();\n    }\n    advance() {\n        let context = ParseContext.get();\n        let parseEnd = this.stoppedAt == null ? this.to : Math.min(this.to, this.stoppedAt);\n        let end = Math.min(parseEnd, this.chunkStart + 2048 /* C.ChunkSize */);\n        if (context)\n            end = Math.min(end, context.viewport.to);\n        while (this.parsedPos < end)\n            this.parseLine(context);\n        if (this.chunkStart < this.parsedPos)\n            this.finishChunk();\n        if (this.parsedPos >= parseEnd)\n            return this.finish();\n        if (context && this.parsedPos >= context.viewport.to) {\n            context.skipUntilInView(this.parsedPos, parseEnd);\n            return this.finish();\n        }\n        return null;\n    }\n    stopAt(pos) {\n        this.stoppedAt = pos;\n    }\n    lineAfter(pos) {\n        let chunk = this.input.chunk(pos);\n        if (!this.input.lineChunks) {\n            let eol = chunk.indexOf(\"\\n\");\n            if (eol > -1)\n                chunk = chunk.slice(0, eol);\n        }\n        else if (chunk == \"\\n\") {\n            chunk = \"\";\n        }\n        return pos + chunk.length <= this.to ? chunk : chunk.slice(0, this.to - pos);\n    }\n    nextLine() {\n        let from = this.parsedPos, line = this.lineAfter(from), end = from + line.length;\n        for (let index = this.rangeIndex;;) {\n            let rangeEnd = this.ranges[index].to;\n            if (rangeEnd >= end)\n                break;\n            line = line.slice(0, rangeEnd - (end - line.length));\n            index++;\n            if (index == this.ranges.length)\n                break;\n            let rangeStart = this.ranges[index].from;\n            let after = this.lineAfter(rangeStart);\n            line += after;\n            end = rangeStart + after.length;\n        }\n        return { line, end };\n    }\n    skipGapsTo(pos, offset, side) {\n        for (;;) {\n            let end = this.ranges[this.rangeIndex].to, offPos = pos + offset;\n            if (side > 0 ? end > offPos : end >= offPos)\n                break;\n            let start = this.ranges[++this.rangeIndex].from;\n            offset += start - end;\n        }\n        return offset;\n    }\n    moveRangeIndex() {\n        while (this.ranges[this.rangeIndex].to < this.parsedPos)\n            this.rangeIndex++;\n    }\n    emitToken(id, from, to, size, offset) {\n        if (this.ranges.length > 1) {\n            offset = this.skipGapsTo(from, offset, 1);\n            from += offset;\n            let len0 = this.chunk.length;\n            offset = this.skipGapsTo(to, offset, -1);\n            to += offset;\n            size += this.chunk.length - len0;\n        }\n        this.chunk.push(id, from, to, size);\n        return offset;\n    }\n    parseLine(context) {\n        let { line, end } = this.nextLine(), offset = 0, { streamParser } = this.lang;\n        let stream = new StringStream(line, context ? context.state.tabSize : 4, context ? getIndentUnit(context.state) : 2);\n        if (stream.eol()) {\n            streamParser.blankLine(this.state, stream.indentUnit);\n        }\n        else {\n            while (!stream.eol()) {\n                let token = readToken(streamParser.token, stream, this.state);\n                if (token)\n                    offset = this.emitToken(this.lang.tokenTable.resolve(token), this.parsedPos + stream.start, this.parsedPos + stream.pos, 4, offset);\n                if (stream.start > 10000 /* C.MaxLineLength */)\n                    break;\n            }\n        }\n        this.parsedPos = end;\n        this.moveRangeIndex();\n        if (this.parsedPos < this.to)\n            this.parsedPos++;\n    }\n    finishChunk() {\n        let tree = Tree.build({\n            buffer: this.chunk,\n            start: this.chunkStart,\n            length: this.parsedPos - this.chunkStart,\n            nodeSet,\n            topID: 0,\n            maxBufferLength: 2048 /* C.ChunkSize */,\n            reused: this.chunkReused\n        });\n        tree = new Tree(tree.type, tree.children, tree.positions, tree.length, [[this.lang.stateAfter, this.lang.streamParser.copyState(this.state)]]);\n        this.chunks.push(tree);\n        this.chunkPos.push(this.chunkStart - this.ranges[0].from);\n        this.chunk = [];\n        this.chunkReused = undefined;\n        this.chunkStart = this.parsedPos;\n    }\n    finish() {\n        return new Tree(this.lang.topNode, this.chunks, this.chunkPos, this.parsedPos - this.ranges[0].from).balance();\n    }\n}\nfunction readToken(token, stream, state) {\n    stream.start = stream.pos;\n    for (let i = 0; i < 10; i++) {\n        let result = token(stream, state);\n        if (stream.pos > stream.start)\n            return result;\n    }\n    throw new Error(\"Stream parser failed to advance stream.\");\n}\nconst noTokens = /*@__PURE__*/Object.create(null);\nconst typeArray = [NodeType.none];\nconst nodeSet = /*@__PURE__*/new NodeSet(typeArray);\nconst warned = [];\nconst defaultTable = /*@__PURE__*/Object.create(null);\nfor (let [legacyName, name] of [\n    [\"variable\", \"variableName\"],\n    [\"variable-2\", \"variableName.special\"],\n    [\"string-2\", \"string.special\"],\n    [\"def\", \"variableName.definition\"],\n    [\"tag\", \"tagName\"],\n    [\"attribute\", \"attributeName\"],\n    [\"type\", \"typeName\"],\n    [\"builtin\", \"variableName.standard\"],\n    [\"qualifier\", \"modifier\"],\n    [\"error\", \"invalid\"],\n    [\"header\", \"heading\"],\n    [\"property\", \"propertyName\"]\n])\n    defaultTable[legacyName] = /*@__PURE__*/createTokenType(noTokens, name);\nclass TokenTable {\n    constructor(extra) {\n        this.extra = extra;\n        this.table = Object.assign(Object.create(null), defaultTable);\n    }\n    resolve(tag) {\n        return !tag ? 0 : this.table[tag] || (this.table[tag] = createTokenType(this.extra, tag));\n    }\n}\nconst defaultTokenTable = /*@__PURE__*/new TokenTable(noTokens);\nfunction warnForPart(part, msg) {\n    if (warned.indexOf(part) > -1)\n        return;\n    warned.push(part);\n    console.warn(msg);\n}\nfunction createTokenType(extra, tagStr) {\n    let tag = null;\n    for (let part of tagStr.split(\".\")) {\n        let value = (extra[part] || tags[part]);\n        if (!value) {\n            warnForPart(part, `Unknown highlighting tag ${part}`);\n        }\n        else if (typeof value == \"function\") {\n            if (!tag)\n                warnForPart(part, `Modifier ${part} used at start of tag`);\n            else\n                tag = value(tag);\n        }\n        else {\n            if (tag)\n                warnForPart(part, `Tag ${part} used as modifier`);\n            else\n                tag = value;\n        }\n    }\n    if (!tag)\n        return 0;\n    let name = tagStr.replace(/ /g, \"_\"), type = NodeType.define({\n        id: typeArray.length,\n        name,\n        props: [styleTags({ [name]: tag })]\n    });\n    typeArray.push(type);\n    return type.id;\n}\nfunction docID(data) {\n    let type = NodeType.define({ id: typeArray.length, name: \"Document\", props: [languageDataProp.add(() => data)] });\n    typeArray.push(type);\n    return type;\n}\n\nexport { HighlightStyle, IndentContext, LRLanguage, Language, LanguageDescription, LanguageSupport, ParseContext, StreamLanguage, StringStream, TreeIndentContext, bracketMatching, codeFolding, continuedIndent, defaultHighlightStyle, defineLanguageFacet, delimitedIndent, ensureSyntaxTree, flatIndent, foldAll, foldCode, foldEffect, foldGutter, foldInside, foldKeymap, foldNodeProp, foldService, foldState, foldable, foldedRanges, forceParsing, getIndentUnit, getIndentation, highlightingFor, indentNodeProp, indentOnInput, indentRange, indentService, indentString, indentUnit, language, languageDataProp, matchBrackets, syntaxHighlighting, syntaxParserRunning, syntaxTree, syntaxTreeAvailable, unfoldAll, unfoldCode, unfoldEffect };\n","import { Annotation, Facet, combineConfig, StateField, EditorSelection, Transaction, ChangeSet, ChangeDesc, StateEffect, Text, findClusterBreak, countColumn, CharCategory } from '@codemirror/state';\nimport { EditorView, Direction } from '@codemirror/view';\nimport { IndentContext, getIndentation, indentString, matchBrackets, syntaxTree, getIndentUnit, indentUnit } from '@codemirror/language';\nimport { NodeProp } from '@lezer/common';\n\n/**\nComment or uncomment the current selection. Will use line comments\nif available, otherwise falling back to block comments.\n*/\nconst toggleComment = target => {\n    let config = getConfig(target.state);\n    return config.line ? toggleLineComment(target) : config.block ? toggleBlockCommentByLine(target) : false;\n};\nfunction command(f, option) {\n    return ({ state, dispatch }) => {\n        if (state.readOnly)\n            return false;\n        let tr = f(option, state);\n        if (!tr)\n            return false;\n        dispatch(state.update(tr));\n        return true;\n    };\n}\n/**\nComment or uncomment the current selection using line comments.\nThe line comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleLineComment = /*@__PURE__*/command(changeLineComment, 0 /* CommentOption.Toggle */);\n/**\nComment the current selection using line comments.\n*/\nconst lineComment = /*@__PURE__*/command(changeLineComment, 1 /* CommentOption.Comment */);\n/**\nUncomment the current selection using line comments.\n*/\nconst lineUncomment = /*@__PURE__*/command(changeLineComment, 2 /* CommentOption.Uncomment */);\n/**\nComment or uncomment the current selection using block comments.\nThe block comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleBlockComment = /*@__PURE__*/command(changeBlockComment, 0 /* CommentOption.Toggle */);\n/**\nComment the current selection using block comments.\n*/\nconst blockComment = /*@__PURE__*/command(changeBlockComment, 1 /* CommentOption.Comment */);\n/**\nUncomment the current selection using block comments.\n*/\nconst blockUncomment = /*@__PURE__*/command(changeBlockComment, 2 /* CommentOption.Uncomment */);\n/**\nComment or uncomment the lines around the current selection using\nblock comments.\n*/\nconst toggleBlockCommentByLine = /*@__PURE__*/command((o, s) => changeBlockComment(o, s, selectedLineRanges(s)), 0 /* CommentOption.Toggle */);\nfunction getConfig(state, pos = state.selection.main.head) {\n    let data = state.languageDataAt(\"commentTokens\", pos);\n    return data.length ? data[0] : {};\n}\nconst SearchMargin = 50;\n/**\nDetermines if the given range is block-commented in the given\nstate.\n*/\nfunction findBlockComment(state, { open, close }, from, to) {\n    let textBefore = state.sliceDoc(from - SearchMargin, from);\n    let textAfter = state.sliceDoc(to, to + SearchMargin);\n    let spaceBefore = /\\s*$/.exec(textBefore)[0].length, spaceAfter = /^\\s*/.exec(textAfter)[0].length;\n    let beforeOff = textBefore.length - spaceBefore;\n    if (textBefore.slice(beforeOff - open.length, beforeOff) == open &&\n        textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {\n        return { open: { pos: from - spaceBefore, margin: spaceBefore && 1 },\n            close: { pos: to + spaceAfter, margin: spaceAfter && 1 } };\n    }\n    let startText, endText;\n    if (to - from <= 2 * SearchMargin) {\n        startText = endText = state.sliceDoc(from, to);\n    }\n    else {\n        startText = state.sliceDoc(from, from + SearchMargin);\n        endText = state.sliceDoc(to - SearchMargin, to);\n    }\n    let startSpace = /^\\s*/.exec(startText)[0].length, endSpace = /\\s*$/.exec(endText)[0].length;\n    let endOff = endText.length - endSpace - close.length;\n    if (startText.slice(startSpace, startSpace + open.length) == open &&\n        endText.slice(endOff, endOff + close.length) == close) {\n        return { open: { pos: from + startSpace + open.length,\n                margin: /\\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0 },\n            close: { pos: to - endSpace - close.length,\n                margin: /\\s/.test(endText.charAt(endOff - 1)) ? 1 : 0 } };\n    }\n    return null;\n}\nfunction selectedLineRanges(state) {\n    let ranges = [];\n    for (let r of state.selection.ranges) {\n        let fromLine = state.doc.lineAt(r.from);\n        let toLine = r.to <= fromLine.to ? fromLine : state.doc.lineAt(r.to);\n        let last = ranges.length - 1;\n        if (last >= 0 && ranges[last].to > fromLine.from)\n            ranges[last].to = toLine.to;\n        else\n            ranges.push({ from: fromLine.from, to: toLine.to });\n    }\n    return ranges;\n}\n// Performs toggle, comment and uncomment of block comments in\n// languages that support them.\nfunction changeBlockComment(option, state, ranges = state.selection.ranges) {\n    let tokens = ranges.map(r => getConfig(state, r.from).block);\n    if (!tokens.every(c => c))\n        return null;\n    let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));\n    if (option != 2 /* CommentOption.Uncomment */ && !comments.every(c => c)) {\n        return { changes: state.changes(ranges.map((range, i) => {\n                if (comments[i])\n                    return [];\n                return [{ from: range.from, insert: tokens[i].open + \" \" }, { from: range.to, insert: \" \" + tokens[i].close }];\n            })) };\n    }\n    else if (option != 1 /* CommentOption.Comment */ && comments.some(c => c)) {\n        let changes = [];\n        for (let i = 0, comment; i < comments.length; i++)\n            if (comment = comments[i]) {\n                let token = tokens[i], { open, close } = comment;\n                changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });\n            }\n        return { changes };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of line comments.\nfunction changeLineComment(option, state, ranges = state.selection.ranges) {\n    let lines = [];\n    let prevLine = -1;\n    for (let { from, to } of ranges) {\n        let startI = lines.length, minIndent = 1e9;\n        for (let pos = from; pos <= to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.from > prevLine && (from == to || to > line.from)) {\n                prevLine = line.from;\n                let token = getConfig(state, pos).line;\n                if (!token)\n                    continue;\n                let indent = /^\\s*/.exec(line.text)[0].length;\n                let empty = indent == line.length;\n                let comment = line.text.slice(indent, indent + token.length) == token ? indent : -1;\n                if (indent < line.text.length && indent < minIndent)\n                    minIndent = indent;\n                lines.push({ line, comment, token, indent, empty, single: false });\n            }\n            pos = line.to + 1;\n        }\n        if (minIndent < 1e9)\n            for (let i = startI; i < lines.length; i++)\n                if (lines[i].indent < lines[i].line.text.length)\n                    lines[i].indent = minIndent;\n        if (lines.length == startI + 1)\n            lines[startI].single = true;\n    }\n    if (option != 2 /* CommentOption.Uncomment */ && lines.some(l => l.comment < 0 && (!l.empty || l.single))) {\n        let changes = [];\n        for (let { line, token, indent, empty, single } of lines)\n            if (single || !empty)\n                changes.push({ from: line.from + indent, insert: token + \" \" });\n        let changeSet = state.changes(changes);\n        return { changes: changeSet, selection: state.selection.map(changeSet, 1) };\n    }\n    else if (option != 1 /* CommentOption.Comment */ && lines.some(l => l.comment >= 0)) {\n        let changes = [];\n        for (let { line, comment, token } of lines)\n            if (comment >= 0) {\n                let from = line.from + comment, to = from + token.length;\n                if (line.text[to - line.from] == \" \")\n                    to++;\n                changes.push({ from, to });\n            }\n        return { changes };\n    }\n    return null;\n}\n\nconst fromHistory = /*@__PURE__*/Annotation.define();\n/**\nTransaction annotation that will prevent that transaction from\nbeing combined with other transactions in the undo history. Given\n`\"before\"`, it'll prevent merging with previous transactions. With\n`\"after\"`, subsequent transactions won't be combined with this\none. With `\"full\"`, the transaction is isolated on both sides.\n*/\nconst isolateHistory = /*@__PURE__*/Annotation.define();\n/**\nThis facet provides a way to register functions that, given a\ntransaction, provide a set of effects that the history should\nstore when inverting the transaction. This can be used to\nintegrate some kinds of effects in the history, so that they can\nbe undone (and redone again).\n*/\nconst invertedEffects = /*@__PURE__*/Facet.define();\nconst historyConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            minDepth: 100,\n            newGroupDelay: 500\n        }, { minDepth: Math.max, newGroupDelay: Math.min });\n    }\n});\nfunction changeEnd(changes) {\n    let end = 0;\n    changes.iterChangedRanges((_, to) => end = to);\n    return end;\n}\nconst historyField_ = /*@__PURE__*/StateField.define({\n    create() {\n        return HistoryState.empty;\n    },\n    update(state, tr) {\n        let config = tr.state.facet(historyConfig);\n        let fromHist = tr.annotation(fromHistory);\n        if (fromHist) {\n            let selection = tr.docChanged ? EditorSelection.single(changeEnd(tr.changes)) : undefined;\n            let item = HistEvent.fromTransaction(tr, selection), from = fromHist.side;\n            let other = from == 0 /* BranchName.Done */ ? state.undone : state.done;\n            if (item)\n                other = updateBranch(other, other.length, config.minDepth, item);\n            else\n                other = addSelection(other, tr.startState.selection);\n            return new HistoryState(from == 0 /* BranchName.Done */ ? fromHist.rest : other, from == 0 /* BranchName.Done */ ? other : fromHist.rest);\n        }\n        let isolate = tr.annotation(isolateHistory);\n        if (isolate == \"full\" || isolate == \"before\")\n            state = state.isolate();\n        if (tr.annotation(Transaction.addToHistory) === false)\n            return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;\n        let event = HistEvent.fromTransaction(tr);\n        let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);\n        if (event)\n            state = state.addChanges(event, time, userEvent, config.newGroupDelay, config.minDepth);\n        else if (tr.selection)\n            state = state.addSelection(tr.startState.selection, time, userEvent, config.newGroupDelay);\n        if (isolate == \"full\" || isolate == \"after\")\n            state = state.isolate();\n        return state;\n    },\n    toJSON(value) {\n        return { done: value.done.map(e => e.toJSON()), undone: value.undone.map(e => e.toJSON()) };\n    },\n    fromJSON(json) {\n        return new HistoryState(json.done.map(HistEvent.fromJSON), json.undone.map(HistEvent.fromJSON));\n    }\n});\n/**\nCreate a history extension with the given configuration.\n*/\nfunction history(config = {}) {\n    return [\n        historyField_,\n        historyConfig.of(config),\n        EditorView.domEventHandlers({\n            beforeinput(e, view) {\n                let command = e.inputType == \"historyUndo\" ? undo : e.inputType == \"historyRedo\" ? redo : null;\n                if (!command)\n                    return false;\n                e.preventDefault();\n                return command(view);\n            }\n        })\n    ];\n}\n/**\nThe state field used to store the history data. Should probably\nonly be used when you want to\n[serialize](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) or\n[deserialize](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) state objects in a way\nthat preserves history.\n*/\nconst historyField = historyField_;\nfunction cmd(side, selection) {\n    return function ({ state, dispatch }) {\n        if (!selection && state.readOnly)\n            return false;\n        let historyState = state.field(historyField_, false);\n        if (!historyState)\n            return false;\n        let tr = historyState.pop(side, state, selection);\n        if (!tr)\n            return false;\n        dispatch(tr);\n        return true;\n    };\n}\n/**\nUndo a single group of history events. Returns false if no group\nwas available.\n*/\nconst undo = /*@__PURE__*/cmd(0 /* BranchName.Done */, false);\n/**\nRedo a group of history events. Returns false if no group was\navailable.\n*/\nconst redo = /*@__PURE__*/cmd(1 /* BranchName.Undone */, false);\n/**\nUndo a change or selection change.\n*/\nconst undoSelection = /*@__PURE__*/cmd(0 /* BranchName.Done */, true);\n/**\nRedo a change or selection change.\n*/\nconst redoSelection = /*@__PURE__*/cmd(1 /* BranchName.Undone */, true);\nfunction depth(side) {\n    return function (state) {\n        let histState = state.field(historyField_, false);\n        if (!histState)\n            return 0;\n        let branch = side == 0 /* BranchName.Done */ ? histState.done : histState.undone;\n        return branch.length - (branch.length && !branch[0].changes ? 1 : 0);\n    };\n}\n/**\nThe amount of undoable change events available in a given state.\n*/\nconst undoDepth = /*@__PURE__*/depth(0 /* BranchName.Done */);\n/**\nThe amount of redoable change events available in a given state.\n*/\nconst redoDepth = /*@__PURE__*/depth(1 /* BranchName.Undone */);\n// History events store groups of changes or effects that need to be\n// undone/redone together.\nclass HistEvent {\n    constructor(\n    // The changes in this event. Normal events hold at least one\n    // change or effect. But it may be necessary to store selection\n    // events before the first change, in which case a special type of\n    // instance is created which doesn't hold any changes, with\n    // changes == startSelection == undefined\n    changes, \n    // The effects associated with this event\n    effects, \n    // Accumulated mapping (from addToHistory==false) that should be\n    // applied to events below this one.\n    mapped, \n    // The selection before this event\n    startSelection, \n    // Stores selection changes after this event, to be used for\n    // selection undo/redo.\n    selectionsAfter) {\n        this.changes = changes;\n        this.effects = effects;\n        this.mapped = mapped;\n        this.startSelection = startSelection;\n        this.selectionsAfter = selectionsAfter;\n    }\n    setSelAfter(after) {\n        return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);\n    }\n    toJSON() {\n        var _a, _b, _c;\n        return {\n            changes: (_a = this.changes) === null || _a === void 0 ? void 0 : _a.toJSON(),\n            mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),\n            startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),\n            selectionsAfter: this.selectionsAfter.map(s => s.toJSON())\n        };\n    }\n    static fromJSON(json) {\n        return new HistEvent(json.changes && ChangeSet.fromJSON(json.changes), [], json.mapped && ChangeDesc.fromJSON(json.mapped), json.startSelection && EditorSelection.fromJSON(json.startSelection), json.selectionsAfter.map(EditorSelection.fromJSON));\n    }\n    // This does not check `addToHistory` and such, it assumes the\n    // transaction needs to be converted to an item. Returns null when\n    // there are no changes or effects in the transaction.\n    static fromTransaction(tr, selection) {\n        let effects = none;\n        for (let invert of tr.startState.facet(invertedEffects)) {\n            let result = invert(tr);\n            if (result.length)\n                effects = effects.concat(result);\n        }\n        if (!effects.length && tr.changes.empty)\n            return null;\n        return new HistEvent(tr.changes.invert(tr.startState.doc), effects, undefined, selection || tr.startState.selection, none);\n    }\n    static selection(selections) {\n        return new HistEvent(undefined, none, undefined, undefined, selections);\n    }\n}\nfunction updateBranch(branch, to, maxLen, newEvent) {\n    let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n    let newBranch = branch.slice(start, to);\n    newBranch.push(newEvent);\n    return newBranch;\n}\nfunction isAdjacent(a, b) {\n    let ranges = [], isAdjacent = false;\n    a.iterChangedRanges((f, t) => ranges.push(f, t));\n    b.iterChangedRanges((_f, _t, f, t) => {\n        for (let i = 0; i < ranges.length;) {\n            let from = ranges[i++], to = ranges[i++];\n            if (t >= from && f <= to)\n                isAdjacent = true;\n        }\n    });\n    return isAdjacent;\n}\nfunction eqSelectionShape(a, b) {\n    return a.ranges.length == b.ranges.length &&\n        a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;\n}\nfunction conc(a, b) {\n    return !a.length ? b : !b.length ? a : a.concat(b);\n}\nconst none = [];\nconst MaxSelectionsPerEvent = 200;\nfunction addSelection(branch, selection) {\n    if (!branch.length) {\n        return [HistEvent.selection([selection])];\n    }\n    else {\n        let lastEvent = branch[branch.length - 1];\n        let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));\n        if (sels.length && sels[sels.length - 1].eq(selection))\n            return branch;\n        sels.push(selection);\n        return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));\n    }\n}\n// Assumes the top item has one or more selectionAfter values\nfunction popSelection(branch) {\n    let last = branch[branch.length - 1];\n    let newBranch = branch.slice();\n    newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));\n    return newBranch;\n}\n// Add a mapping to the top event in the given branch. If this maps\n// away all the changes and effects in that item, drop it and\n// propagate the mapping to the next item.\nfunction addMappingToBranch(branch, mapping) {\n    if (!branch.length)\n        return branch;\n    let length = branch.length, selections = none;\n    while (length) {\n        let event = mapEvent(branch[length - 1], mapping, selections);\n        if (event.changes && !event.changes.empty || event.effects.length) { // Event survived mapping\n            let result = branch.slice(0, length);\n            result[length - 1] = event;\n            return result;\n        }\n        else { // Drop this event, since there's no changes or effects left\n            mapping = event.mapped;\n            length--;\n            selections = event.selectionsAfter;\n        }\n    }\n    return selections.length ? [HistEvent.selection(selections)] : none;\n}\nfunction mapEvent(event, mapping, extraSelections) {\n    let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map(s => s.map(mapping)) : none, extraSelections);\n    // Change-less events don't store mappings (they are always the last event in a branch)\n    if (!event.changes)\n        return HistEvent.selection(selections);\n    let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);\n    let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;\n    return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);\n}\nconst joinableUserEvent = /^(input\\.type|delete)($|\\.)/;\nclass HistoryState {\n    constructor(done, undone, prevTime = 0, prevUserEvent = undefined) {\n        this.done = done;\n        this.undone = undone;\n        this.prevTime = prevTime;\n        this.prevUserEvent = prevUserEvent;\n    }\n    isolate() {\n        return this.prevTime ? new HistoryState(this.done, this.undone) : this;\n    }\n    addChanges(event, time, userEvent, newGroupDelay, maxLen) {\n        let done = this.done, lastEvent = done[done.length - 1];\n        if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes &&\n            (!userEvent || joinableUserEvent.test(userEvent)) &&\n            ((!lastEvent.selectionsAfter.length &&\n                time - this.prevTime < newGroupDelay &&\n                isAdjacent(lastEvent.changes, event.changes)) ||\n                // For compose (but not compose.start) events, always join with previous event\n                userEvent == \"input.type.compose\")) {\n            done = updateBranch(done, done.length - 1, maxLen, new HistEvent(event.changes.compose(lastEvent.changes), conc(event.effects, lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none));\n        }\n        else {\n            done = updateBranch(done, done.length, maxLen, event);\n        }\n        return new HistoryState(done, none, time, userEvent);\n    }\n    addSelection(selection, time, userEvent, newGroupDelay) {\n        let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none;\n        if (last.length > 0 &&\n            time - this.prevTime < newGroupDelay &&\n            userEvent == this.prevUserEvent && userEvent && /^select($|\\.)/.test(userEvent) &&\n            eqSelectionShape(last[last.length - 1], selection))\n            return this;\n        return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);\n    }\n    addMapping(mapping) {\n        return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);\n    }\n    pop(side, state, selection) {\n        let branch = side == 0 /* BranchName.Done */ ? this.done : this.undone;\n        if (branch.length == 0)\n            return null;\n        let event = branch[branch.length - 1];\n        if (selection && event.selectionsAfter.length) {\n            return state.update({\n                selection: event.selectionsAfter[event.selectionsAfter.length - 1],\n                annotations: fromHistory.of({ side, rest: popSelection(branch) }),\n                userEvent: side == 0 /* BranchName.Done */ ? \"select.undo\" : \"select.redo\",\n                scrollIntoView: true\n            });\n        }\n        else if (!event.changes) {\n            return null;\n        }\n        else {\n            let rest = branch.length == 1 ? none : branch.slice(0, branch.length - 1);\n            if (event.mapped)\n                rest = addMappingToBranch(rest, event.mapped);\n            return state.update({\n                changes: event.changes,\n                selection: event.startSelection,\n                effects: event.effects,\n                annotations: fromHistory.of({ side, rest }),\n                filter: false,\n                userEvent: side == 0 /* BranchName.Done */ ? \"undo\" : \"redo\",\n                scrollIntoView: true\n            });\n        }\n    }\n}\nHistoryState.empty = /*@__PURE__*/new HistoryState(none, none);\n/**\nDefault key bindings for the undo history.\n\n- Mod-z: [`undo`](https://codemirror.net/6/docs/ref/#commands.undo).\n- Mod-y (Mod-Shift-z on macOS) + Ctrl-Shift-z on Linux: [`redo`](https://codemirror.net/6/docs/ref/#commands.redo).\n- Mod-u: [`undoSelection`](https://codemirror.net/6/docs/ref/#commands.undoSelection).\n- Alt-u (Mod-Shift-u on macOS): [`redoSelection`](https://codemirror.net/6/docs/ref/#commands.redoSelection).\n*/\nconst historyKeymap = [\n    { key: \"Mod-z\", run: undo, preventDefault: true },\n    { key: \"Mod-y\", mac: \"Mod-Shift-z\", run: redo, preventDefault: true },\n    { linux: \"Ctrl-Shift-z\", run: redo, preventDefault: true },\n    { key: \"Mod-u\", run: undoSelection, preventDefault: true },\n    { key: \"Alt-u\", mac: \"Mod-Shift-u\", run: redoSelection, preventDefault: true }\n];\n\nfunction updateSel(sel, by) {\n    return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);\n}\nfunction setSel(state, selection) {\n    return state.update({ selection, scrollIntoView: true, userEvent: \"select\" });\n}\nfunction moveSel({ state, dispatch }, how) {\n    let selection = updateSel(state.selection, how);\n    if (selection.eq(state.selection))\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\nfunction rangeEnd(range, forward) {\n    return EditorSelection.cursor(forward ? range.to : range.from);\n}\nfunction cursorByChar(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));\n}\nfunction ltrAtCursor(view) {\n    return view.textDirectionAt(view.state.selection.main.head) == Direction.LTR;\n}\n/**\nMove the selection one character to the left (which is backward in\nleft-to-right text, forward in right-to-left text).\n*/\nconst cursorCharLeft = view => cursorByChar(view, !ltrAtCursor(view));\n/**\nMove the selection one character to the right.\n*/\nconst cursorCharRight = view => cursorByChar(view, ltrAtCursor(view));\n/**\nMove the selection one character forward.\n*/\nconst cursorCharForward = view => cursorByChar(view, true);\n/**\nMove the selection one character backward.\n*/\nconst cursorCharBackward = view => cursorByChar(view, false);\nfunction cursorByGroup(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection to the left across one group of word or\nnon-word (but also non-space) characters.\n*/\nconst cursorGroupLeft = view => cursorByGroup(view, !ltrAtCursor(view));\n/**\nMove the selection one group to the right.\n*/\nconst cursorGroupRight = view => cursorByGroup(view, ltrAtCursor(view));\n/**\nMove the selection one group forward.\n*/\nconst cursorGroupForward = view => cursorByGroup(view, true);\n/**\nMove the selection one group backward.\n*/\nconst cursorGroupBackward = view => cursorByGroup(view, false);\nfunction moveBySubword(view, range, forward) {\n    let categorize = view.state.charCategorizer(range.from);\n    return view.moveByChar(range, forward, start => {\n        let cat = CharCategory.Space, pos = range.from;\n        let done = false, sawUpper = false, sawLower = false;\n        let step = (next) => {\n            if (done)\n                return false;\n            pos += forward ? next.length : -next.length;\n            let nextCat = categorize(next), ahead;\n            if (cat == CharCategory.Space)\n                cat = nextCat;\n            if (cat != nextCat)\n                return false;\n            if (cat == CharCategory.Word) {\n                if (next.toLowerCase() == next) {\n                    if (!forward && sawUpper)\n                        return false;\n                    sawLower = true;\n                }\n                else if (sawLower) {\n                    if (forward)\n                        return false;\n                    done = true;\n                }\n                else {\n                    if (sawUpper && forward && categorize(ahead = view.state.sliceDoc(pos, pos + 1)) == CharCategory.Word &&\n                        ahead.toLowerCase() == ahead)\n                        return false;\n                    sawUpper = true;\n                }\n            }\n            return true;\n        };\n        step(start);\n        return step;\n    });\n}\nfunction cursorBySubword(view, forward) {\n    return moveSel(view, range => range.empty ? moveBySubword(view, range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one group or camel-case subword forward.\n*/\nconst cursorSubwordForward = view => cursorBySubword(view, true);\n/**\nMove the selection one group or camel-case subword backward.\n*/\nconst cursorSubwordBackward = view => cursorBySubword(view, false);\nfunction interestingNode(state, node, bracketProp) {\n    if (node.type.prop(bracketProp))\n        return true;\n    let len = node.to - node.from;\n    return len && (len > 2 || /[^\\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;\n}\nfunction moveBySyntax(state, start, forward) {\n    let pos = syntaxTree(state).resolveInner(start.head);\n    let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;\n    // Scan forward through child nodes to see if there's an interesting\n    // node ahead.\n    for (let at = start.head;;) {\n        let next = forward ? pos.childAfter(at) : pos.childBefore(at);\n        if (!next)\n            break;\n        if (interestingNode(state, next, bracketProp))\n            pos = next;\n        else\n            at = forward ? next.to : next.from;\n    }\n    let bracket = pos.type.prop(bracketProp), match, newPos;\n    if (bracket && (match = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match.matched)\n        newPos = forward ? match.end.to : match.end.from;\n    else\n        newPos = forward ? pos.to : pos.from;\n    return EditorSelection.cursor(newPos, forward ? -1 : 1);\n}\n/**\nMove the cursor over the next syntactic element to the left.\n*/\nconst cursorSyntaxLeft = view => moveSel(view, range => moveBySyntax(view.state, range, !ltrAtCursor(view)));\n/**\nMove the cursor over the next syntactic element to the right.\n*/\nconst cursorSyntaxRight = view => moveSel(view, range => moveBySyntax(view.state, range, ltrAtCursor(view)));\nfunction cursorByLine(view, forward) {\n    return moveSel(view, range => {\n        if (!range.empty)\n            return rangeEnd(range, forward);\n        let moved = view.moveVertically(range, forward);\n        return moved.head != range.head ? moved : view.moveToLineBoundary(range, forward);\n    });\n}\n/**\nMove the selection one line up.\n*/\nconst cursorLineUp = view => cursorByLine(view, false);\n/**\nMove the selection one line down.\n*/\nconst cursorLineDown = view => cursorByLine(view, true);\nfunction pageHeight(view) {\n    return Math.max(view.defaultLineHeight, Math.min(view.dom.clientHeight, innerHeight) - 5);\n}\nfunction cursorByPage(view, forward) {\n    let { state } = view, selection = updateSel(state.selection, range => {\n        return range.empty ? view.moveVertically(range, forward, pageHeight(view)) : rangeEnd(range, forward);\n    });\n    if (selection.eq(state.selection))\n        return false;\n    let startPos = view.coordsAtPos(state.selection.main.head);\n    let scrollRect = view.scrollDOM.getBoundingClientRect();\n    let effect;\n    if (startPos && startPos.top > scrollRect.top && startPos.bottom < scrollRect.bottom &&\n        startPos.top - scrollRect.top <= view.scrollDOM.scrollHeight - view.scrollDOM.scrollTop - view.scrollDOM.clientHeight)\n        effect = EditorView.scrollIntoView(selection.main.head, { y: \"start\", yMargin: startPos.top - scrollRect.top });\n    view.dispatch(setSel(state, selection), { effects: effect });\n    return true;\n}\n/**\nMove the selection one page up.\n*/\nconst cursorPageUp = view => cursorByPage(view, false);\n/**\nMove the selection one page down.\n*/\nconst cursorPageDown = view => cursorByPage(view, true);\nfunction moveByLineBoundary(view, start, forward) {\n    let line = view.lineBlockAt(start.head), moved = view.moveToLineBoundary(start, forward);\n    if (moved.head == start.head && moved.head != (forward ? line.to : line.from))\n        moved = view.moveToLineBoundary(start, forward, false);\n    if (!forward && moved.head == line.from && line.length) {\n        let space = /^\\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;\n        if (space && start.head != line.from + space)\n            moved = EditorSelection.cursor(line.from + space);\n    }\n    return moved;\n}\n/**\nMove the selection to the next line wrap point, or to the end of\nthe line if there isn't one left on this line.\n*/\nconst cursorLineBoundaryForward = view => moveSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection to previous line wrap point, or failing that to\nthe start of the line. If the line is indented, and the cursor\nisn't already at the end of the indentation, this will move to the\nend of the indentation instead of the start of the line.\n*/\nconst cursorLineBoundaryBackward = view => moveSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection one line wrap point to the left.\n*/\nconst cursorLineBoundaryLeft = view => moveSel(view, range => moveByLineBoundary(view, range, !ltrAtCursor(view)));\n/**\nMove the selection one line wrap point to the right.\n*/\nconst cursorLineBoundaryRight = view => moveSel(view, range => moveByLineBoundary(view, range, ltrAtCursor(view)));\n/**\nMove the selection to the start of the line.\n*/\nconst cursorLineStart = view => moveSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).from, 1));\n/**\nMove the selection to the end of the line.\n*/\nconst cursorLineEnd = view => moveSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).to, -1));\nfunction toMatchingBracket(state, dispatch, extend) {\n    let found = false, selection = updateSel(state.selection, range => {\n        let matching = matchBrackets(state, range.head, -1)\n            || matchBrackets(state, range.head, 1)\n            || (range.head > 0 && matchBrackets(state, range.head - 1, 1))\n            || (range.head < state.doc.length && matchBrackets(state, range.head + 1, -1));\n        if (!matching || !matching.end)\n            return range;\n        found = true;\n        let head = matching.start.from == range.head ? matching.end.to : matching.end.from;\n        return extend ? EditorSelection.range(range.anchor, head) : EditorSelection.cursor(head);\n    });\n    if (!found)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\n/**\nMove the selection to the bracket matching the one it is currently\non, if any.\n*/\nconst cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, false);\n/**\nExtend the selection to the bracket matching the one the selection\nhead is currently on, if any.\n*/\nconst selectMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, true);\nfunction extendSel(view, how) {\n    let selection = updateSel(view.state.selection, range => {\n        let head = how(range);\n        return EditorSelection.range(range.anchor, head.head, head.goalColumn, head.bidiLevel || undefined);\n    });\n    if (selection.eq(view.state.selection))\n        return false;\n    view.dispatch(setSel(view.state, selection));\n    return true;\n}\nfunction selectByChar(view, forward) {\n    return extendSel(view, range => view.moveByChar(range, forward));\n}\n/**\nMove the selection head one character to the left, while leaving\nthe anchor in place.\n*/\nconst selectCharLeft = view => selectByChar(view, !ltrAtCursor(view));\n/**\nMove the selection head one character to the right.\n*/\nconst selectCharRight = view => selectByChar(view, ltrAtCursor(view));\n/**\nMove the selection head one character forward.\n*/\nconst selectCharForward = view => selectByChar(view, true);\n/**\nMove the selection head one character backward.\n*/\nconst selectCharBackward = view => selectByChar(view, false);\nfunction selectByGroup(view, forward) {\n    return extendSel(view, range => view.moveByGroup(range, forward));\n}\n/**\nMove the selection head one [group](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) to\nthe left.\n*/\nconst selectGroupLeft = view => selectByGroup(view, !ltrAtCursor(view));\n/**\nMove the selection head one group to the right.\n*/\nconst selectGroupRight = view => selectByGroup(view, ltrAtCursor(view));\n/**\nMove the selection head one group forward.\n*/\nconst selectGroupForward = view => selectByGroup(view, true);\n/**\nMove the selection head one group backward.\n*/\nconst selectGroupBackward = view => selectByGroup(view, false);\nfunction selectBySubword(view, forward) {\n    return extendSel(view, range => moveBySubword(view, range, forward));\n}\n/**\nMove the selection head one group or camel-case subword forward.\n*/\nconst selectSubwordForward = view => selectBySubword(view, true);\n/**\nMove the selection head one group or subword backward.\n*/\nconst selectSubwordBackward = view => selectBySubword(view, false);\n/**\nMove the selection head over the next syntactic element to the left.\n*/\nconst selectSyntaxLeft = view => extendSel(view, range => moveBySyntax(view.state, range, !ltrAtCursor(view)));\n/**\nMove the selection head over the next syntactic element to the right.\n*/\nconst selectSyntaxRight = view => extendSel(view, range => moveBySyntax(view.state, range, ltrAtCursor(view)));\nfunction selectByLine(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward));\n}\n/**\nMove the selection head one line up.\n*/\nconst selectLineUp = view => selectByLine(view, false);\n/**\nMove the selection head one line down.\n*/\nconst selectLineDown = view => selectByLine(view, true);\nfunction selectByPage(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward, pageHeight(view)));\n}\n/**\nMove the selection head one page up.\n*/\nconst selectPageUp = view => selectByPage(view, false);\n/**\nMove the selection head one page down.\n*/\nconst selectPageDown = view => selectByPage(view, true);\n/**\nMove the selection head to the next line boundary.\n*/\nconst selectLineBoundaryForward = view => extendSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection head to the previous line boundary.\n*/\nconst selectLineBoundaryBackward = view => extendSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection head one line boundary to the left.\n*/\nconst selectLineBoundaryLeft = view => extendSel(view, range => moveByLineBoundary(view, range, !ltrAtCursor(view)));\n/**\nMove the selection head one line boundary to the right.\n*/\nconst selectLineBoundaryRight = view => extendSel(view, range => moveByLineBoundary(view, range, ltrAtCursor(view)));\n/**\nMove the selection head to the start of the line.\n*/\nconst selectLineStart = view => extendSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).from));\n/**\nMove the selection head to the end of the line.\n*/\nconst selectLineEnd = view => extendSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).to));\n/**\nMove the selection to the start of the document.\n*/\nconst cursorDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: 0 }));\n    return true;\n};\n/**\nMove the selection to the end of the document.\n*/\nconst cursorDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.doc.length }));\n    return true;\n};\n/**\nMove the selection head to the start of the document.\n*/\nconst selectDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));\n    return true;\n};\n/**\nMove the selection head to the end of the document.\n*/\nconst selectDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));\n    return true;\n};\n/**\nSelect the entire document.\n*/\nconst selectAll = ({ state, dispatch }) => {\n    dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, userEvent: \"select\" }));\n    return true;\n};\n/**\nExpand the selection to cover entire lines.\n*/\nconst selectLine = ({ state, dispatch }) => {\n    let ranges = selectedLineBlocks(state).map(({ from, to }) => EditorSelection.range(from, Math.min(to + 1, state.doc.length)));\n    dispatch(state.update({ selection: EditorSelection.create(ranges), userEvent: \"select\" }));\n    return true;\n};\n/**\nSelect the next syntactic construct that is larger than the\nselection. Note that this will only work insofar as the language\n[provider](https://codemirror.net/6/docs/ref/#language.language) you use builds up a full\nsyntax tree.\n*/\nconst selectParentSyntax = ({ state, dispatch }) => {\n    let selection = updateSel(state.selection, range => {\n        var _a;\n        let context = syntaxTree(state).resolveInner(range.head, 1);\n        while (!((context.from < range.from && context.to >= range.to) ||\n            (context.to > range.to && context.from <= range.from) ||\n            !((_a = context.parent) === null || _a === void 0 ? void 0 : _a.parent)))\n            context = context.parent;\n        return EditorSelection.range(context.to, context.from);\n    });\n    dispatch(setSel(state, selection));\n    return true;\n};\n/**\nSimplify the current selection. When multiple ranges are selected,\nreduce it to its main range. Otherwise, if the selection is\nnon-empty, convert it to a cursor selection.\n*/\nconst simplifySelection = ({ state, dispatch }) => {\n    let cur = state.selection, selection = null;\n    if (cur.ranges.length > 1)\n        selection = EditorSelection.create([cur.main]);\n    else if (!cur.main.empty)\n        selection = EditorSelection.create([EditorSelection.cursor(cur.main.head)]);\n    if (!selection)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n};\nfunction deleteBy(target, by) {\n    if (target.state.readOnly)\n        return false;\n    let event = \"delete.selection\", { state } = target;\n    let changes = state.changeByRange(range => {\n        let { from, to } = range;\n        if (from == to) {\n            let towards = by(from);\n            if (towards < from) {\n                event = \"delete.backward\";\n                towards = skipAtomic(target, towards, false);\n            }\n            else if (towards > from) {\n                event = \"delete.forward\";\n                towards = skipAtomic(target, towards, true);\n            }\n            from = Math.min(from, towards);\n            to = Math.max(to, towards);\n        }\n        else {\n            from = skipAtomic(target, from, false);\n            to = skipAtomic(target, to, true);\n        }\n        return from == to ? { range } : { changes: { from, to }, range: EditorSelection.cursor(from) };\n    });\n    if (changes.changes.empty)\n        return false;\n    target.dispatch(state.update(changes, {\n        scrollIntoView: true,\n        userEvent: event,\n        effects: event == \"delete.selection\" ? EditorView.announce.of(state.phrase(\"Selection deleted\")) : undefined\n    }));\n    return true;\n}\nfunction skipAtomic(target, pos, forward) {\n    if (target instanceof EditorView)\n        for (let ranges of target.state.facet(EditorView.atomicRanges).map(f => f(target)))\n            ranges.between(pos, pos, (from, to) => {\n                if (from < pos && to > pos)\n                    pos = forward ? to : from;\n            });\n    return pos;\n}\nconst deleteByChar = (target, forward) => deleteBy(target, pos => {\n    let { state } = target, line = state.doc.lineAt(pos), before, targetPos;\n    if (!forward && pos > line.from && pos < line.from + 200 &&\n        !/[^ \\t]/.test(before = line.text.slice(0, pos - line.from))) {\n        if (before[before.length - 1] == \"\\t\")\n            return pos - 1;\n        let col = countColumn(before, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);\n        for (let i = 0; i < drop && before[before.length - 1 - i] == \" \"; i++)\n            pos--;\n        targetPos = pos;\n    }\n    else {\n        targetPos = findClusterBreak(line.text, pos - line.from, forward, forward) + line.from;\n        if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))\n            targetPos += forward ? 1 : -1;\n    }\n    return targetPos;\n});\n/**\nDelete the selection, or, for cursor selections, the character\nbefore the cursor.\n*/\nconst deleteCharBackward = view => deleteByChar(view, false);\n/**\nDelete the selection or the character after the cursor.\n*/\nconst deleteCharForward = view => deleteByChar(view, true);\nconst deleteByGroup = (target, forward) => deleteBy(target, start => {\n    let pos = start, { state } = target, line = state.doc.lineAt(pos);\n    let categorize = state.charCategorizer(pos);\n    for (let cat = null;;) {\n        if (pos == (forward ? line.to : line.from)) {\n            if (pos == start && line.number != (forward ? state.doc.lines : 1))\n                pos += forward ? 1 : -1;\n            break;\n        }\n        let next = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        let nextChar = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);\n        let nextCat = categorize(nextChar);\n        if (cat != null && nextCat != cat)\n            break;\n        if (nextChar != \" \" || pos != start)\n            cat = nextCat;\n        pos = next;\n    }\n    return pos;\n});\n/**\nDelete the selection or backward until the end of the next\n[group](https://codemirror.net/6/docs/ref/#view.EditorView.moveByGroup), only skipping groups of\nwhitespace when they consist of a single space.\n*/\nconst deleteGroupBackward = target => deleteByGroup(target, false);\n/**\nDelete the selection or forward until the end of the next group.\n*/\nconst deleteGroupForward = target => deleteByGroup(target, true);\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe end of the line. If the cursor is directly at the end of the\nline, delete the line break after it.\n*/\nconst deleteToLineEnd = view => deleteBy(view, pos => {\n    let lineEnd = view.lineBlockAt(pos).to;\n    return pos < lineEnd ? lineEnd : Math.min(view.state.doc.length, pos + 1);\n});\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe start of the line. If the cursor is directly at the start of the\nline, delete the line break before it.\n*/\nconst deleteToLineStart = view => deleteBy(view, pos => {\n    let lineStart = view.lineBlockAt(pos).from;\n    return pos > lineStart ? lineStart : Math.max(0, pos - 1);\n});\n/**\nDelete all whitespace directly before a line end from the\ndocument.\n*/\nconst deleteTrailingWhitespace = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let pos = 0, prev = \"\", iter = state.doc.iter();;) {\n        iter.next();\n        if (iter.lineBreak || iter.done) {\n            let trailing = prev.search(/\\s+$/);\n            if (trailing > -1)\n                changes.push({ from: pos - (prev.length - trailing), to: pos });\n            if (iter.done)\n                break;\n            prev = \"\";\n        }\n        else {\n            prev = iter.value;\n        }\n        pos += iter.value.length;\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({ changes, userEvent: \"delete\" }));\n    return true;\n};\n/**\nReplace each selection range with a line break, leaving the cursor\non the line before the break.\n*/\nconst splitLine = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        return { changes: { from: range.from, to: range.to, insert: Text.of([\"\", \"\"]) },\n            range: EditorSelection.cursor(range.from) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nFlip the characters before and after the cursor(s).\n*/\nconst transposeChars = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        if (!range.empty || range.from == 0 || range.from == state.doc.length)\n            return { range };\n        let pos = range.from, line = state.doc.lineAt(pos);\n        let from = pos == line.from ? pos - 1 : findClusterBreak(line.text, pos - line.from, false) + line.from;\n        let to = pos == line.to ? pos + 1 : findClusterBreak(line.text, pos - line.from, true) + line.from;\n        return { changes: { from, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from, pos)) },\n            range: EditorSelection.cursor(to) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"move.character\" }));\n    return true;\n};\nfunction selectedLineBlocks(state) {\n    let blocks = [], upto = -1;\n    for (let range of state.selection.ranges) {\n        let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);\n        if (!range.empty && range.to == endLine.from)\n            endLine = state.doc.lineAt(range.to - 1);\n        if (upto >= startLine.number) {\n            let prev = blocks[blocks.length - 1];\n            prev.to = endLine.to;\n            prev.ranges.push(range);\n        }\n        else {\n            blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });\n        }\n        upto = endLine.number + 1;\n    }\n    return blocks;\n}\nfunction moveLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [], ranges = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward ? block.to == state.doc.length : block.from == 0)\n            continue;\n        let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);\n        let size = nextLine.length + 1;\n        if (forward) {\n            changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));\n        }\n        else {\n            changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(r.anchor - size, r.head - size));\n        }\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({\n        changes,\n        scrollIntoView: true,\n        selection: EditorSelection.create(ranges, state.selection.mainIndex),\n        userEvent: \"move.line\"\n    }));\n    return true;\n}\n/**\nMove the selected lines up one line.\n*/\nconst moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);\n/**\nMove the selected lines down one line.\n*/\nconst moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);\nfunction copyLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward)\n            changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });\n        else\n            changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });\n    }\n    dispatch(state.update({ changes, scrollIntoView: true, userEvent: \"input.copyline\" }));\n    return true;\n}\n/**\nCreate a copy of the selected lines. Keep the selection in the top copy.\n*/\nconst copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);\n/**\nCreate a copy of the selected lines. Keep the selection in the bottom copy.\n*/\nconst copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);\n/**\nDelete selected lines.\n*/\nconst deleteLine = view => {\n    if (view.state.readOnly)\n        return false;\n    let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from, to }) => {\n        if (from > 0)\n            from--;\n        else if (to < state.doc.length)\n            to++;\n        return { from, to };\n    }));\n    let selection = updateSel(state.selection, range => view.moveVertically(range, true)).map(changes);\n    view.dispatch({ changes, selection, scrollIntoView: true, userEvent: \"delete.line\" });\n    return true;\n};\n/**\nReplace the selection with a newline.\n*/\nconst insertNewline = ({ state, dispatch }) => {\n    dispatch(state.update(state.replaceSelection(state.lineBreak), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\nfunction isBetweenBrackets(state, pos) {\n    if (/\\(\\)|\\[\\]|\\{\\}/.test(state.sliceDoc(pos - 1, pos + 1)))\n        return { from: pos, to: pos };\n    let context = syntaxTree(state).resolveInner(pos);\n    let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;\n    if (before && after && before.to <= pos && after.from >= pos &&\n        (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 &&\n        state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from)\n        return { from: before.to, to: after.from };\n    return null;\n}\n/**\nReplace the selection with a newline and indent the newly created\nline(s). If the current line consists only of whitespace, this\nwill also delete that whitespace. When the cursor is between\nmatching brackets, an additional newline will be inserted after\nthe cursor.\n*/\nconst insertNewlineAndIndent = /*@__PURE__*/newlineAndIndent(false);\n/**\nCreate a blank, indented line below the current line.\n*/\nconst insertBlankLine = /*@__PURE__*/newlineAndIndent(true);\nfunction newlineAndIndent(atEof) {\n    return ({ state, dispatch }) => {\n        if (state.readOnly)\n            return false;\n        let changes = state.changeByRange(range => {\n            let { from, to } = range, line = state.doc.lineAt(from);\n            let explode = !atEof && from == to && isBetweenBrackets(state, from);\n            if (atEof)\n                from = to = (to <= line.to ? line : state.doc.lineAt(to)).to;\n            let cx = new IndentContext(state, { simulateBreak: from, simulateDoubleBreak: !!explode });\n            let indent = getIndentation(cx, from);\n            if (indent == null)\n                indent = /^\\s*/.exec(state.doc.lineAt(from).text)[0].length;\n            while (to < line.to && /\\s/.test(line.text[to - line.from]))\n                to++;\n            if (explode)\n                ({ from, to } = explode);\n            else if (from > line.from && from < line.from + 100 && !/\\S/.test(line.text.slice(0, from)))\n                from = line.from;\n            let insert = [\"\", indentString(state, indent)];\n            if (explode)\n                insert.push(indentString(state, cx.lineIndent(line.from, -1)));\n            return { changes: { from, to, insert: Text.of(insert) },\n                range: EditorSelection.cursor(from + 1 + insert[1].length) };\n        });\n        dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n        return true;\n    };\n}\nfunction changeBySelectedLine(state, f) {\n    let atLine = -1;\n    return state.changeByRange(range => {\n        let changes = [];\n        for (let pos = range.from; pos <= range.to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.number > atLine && (range.empty || range.to > line.from)) {\n                f(line, changes, range);\n                atLine = line.number;\n            }\n            pos = line.to + 1;\n        }\n        let changeSet = state.changes(changes);\n        return { changes,\n            range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1)) };\n    });\n}\n/**\nAuto-indent the selected lines. This uses the [indentation service\nfacet](https://codemirror.net/6/docs/ref/#language.indentService) as source for auto-indent\ninformation.\n*/\nconst indentSelection = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => {\n            let found = updated[start];\n            return found == null ? -1 : found;\n        } });\n    let changes = changeBySelectedLine(state, (line, changes, range) => {\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            return;\n        if (!/\\S/.test(line.text))\n            indent = 0;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm || range.from < line.from + cur.length) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    });\n    if (!changes.changes.empty)\n        dispatch(state.update(changes, { userEvent: \"indent\" }));\n    return true;\n};\n/**\nAdd a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation to all selected\nlines.\n*/\nconst indentMore = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        changes.push({ from: line.from, insert: state.facet(indentUnit) });\n    }), { userEvent: \"input.indent\" }));\n    return true;\n};\n/**\nRemove a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation from all\nselected lines.\n*/\nconst indentLess = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        let space = /^\\s*/.exec(line.text)[0];\n        if (!space)\n            return;\n        let col = countColumn(space, state.tabSize), keep = 0;\n        let insert = indentString(state, Math.max(0, col - getIndentUnit(state)));\n        while (keep < space.length && keep < insert.length && space.charCodeAt(keep) == insert.charCodeAt(keep))\n            keep++;\n        changes.push({ from: line.from + keep, to: line.from + space.length, insert: insert.slice(keep) });\n    }), { userEvent: \"delete.dedent\" }));\n    return true;\n};\n/**\nInsert a tab character at the cursor or, if something is selected,\nuse [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) to indent the entire\nselection.\n*/\nconst insertTab = ({ state, dispatch }) => {\n    if (state.selection.ranges.some(r => !r.empty))\n        return indentMore({ state, dispatch });\n    dispatch(state.update(state.replaceSelection(\"\\t\"), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nArray of key bindings containing the Emacs-style bindings that are\navailable on macOS by default.\n\n - Ctrl-b: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - Ctrl-f: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-p: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - Ctrl-n: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Ctrl-a: [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Ctrl-e: [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - Ctrl-d: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-h: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Ctrl-k: [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd)\n - Ctrl-Alt-h: [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-o: [`splitLine`](https://codemirror.net/6/docs/ref/#commands.splitLine)\n - Ctrl-t: [`transposeChars`](https://codemirror.net/6/docs/ref/#commands.transposeChars)\n - Ctrl-v: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown)\n - Alt-v: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp)\n*/\nconst emacsStyleKeymap = [\n    { key: \"Ctrl-b\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Ctrl-f\", run: cursorCharRight, shift: selectCharRight },\n    { key: \"Ctrl-p\", run: cursorLineUp, shift: selectLineUp },\n    { key: \"Ctrl-n\", run: cursorLineDown, shift: selectLineDown },\n    { key: \"Ctrl-a\", run: cursorLineStart, shift: selectLineStart },\n    { key: \"Ctrl-e\", run: cursorLineEnd, shift: selectLineEnd },\n    { key: \"Ctrl-d\", run: deleteCharForward },\n    { key: \"Ctrl-h\", run: deleteCharBackward },\n    { key: \"Ctrl-k\", run: deleteToLineEnd },\n    { key: \"Ctrl-Alt-h\", run: deleteGroupBackward },\n    { key: \"Ctrl-o\", run: splitLine },\n    { key: \"Ctrl-t\", run: transposeChars },\n    { key: \"Ctrl-v\", run: cursorPageDown },\n];\n/**\nAn array of key bindings closely sticking to platform-standard or\nwidely used bindings. (This includes the bindings from\n[`emacsStyleKeymap`](https://codemirror.net/6/docs/ref/#commands.emacsStyleKeymap), with their `key`\nproperty changed to `mac`.)\n\n - ArrowLeft: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - ArrowRight: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-ArrowLeft (Alt-ArrowLeft on macOS): [`cursorGroupLeft`](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) ([`selectGroupLeft`](https://codemirror.net/6/docs/ref/#commands.selectGroupLeft) with Shift)\n - Ctrl-ArrowRight (Alt-ArrowRight on macOS): [`cursorGroupRight`](https://codemirror.net/6/docs/ref/#commands.cursorGroupRight) ([`selectGroupRight`](https://codemirror.net/6/docs/ref/#commands.selectGroupRight) with Shift)\n - Cmd-ArrowLeft (on macOS): [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Cmd-ArrowRight (on macOS): [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - ArrowUp: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - ArrowDown: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Cmd-ArrowUp (on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Cmd-ArrowDown (on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Ctrl-ArrowUp (on macOS): [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - Ctrl-ArrowDown (on macOS): [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - PageUp: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - PageDown: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - Home: [`cursorLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryBackward) ([`selectLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryBackward) with Shift)\n - End: [`cursorLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryForward) ([`selectLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryForward) with Shift)\n - Ctrl-Home (Cmd-Home on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Ctrl-End (Cmd-Home on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Enter: [`insertNewlineAndIndent`](https://codemirror.net/6/docs/ref/#commands.insertNewlineAndIndent)\n - Ctrl-a (Cmd-a on macOS): [`selectAll`](https://codemirror.net/6/docs/ref/#commands.selectAll)\n - Backspace: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Delete: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-Backspace (Alt-Backspace on macOS): [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-Delete (Alt-Delete on macOS): [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n - Cmd-Backspace (macOS): [`deleteToLineStart`](https://codemirror.net/6/docs/ref/#commands.deleteToLineStart).\n - Cmd-Delete (macOS): [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd).\n*/\nconst standardKeymap = /*@__PURE__*/[\n    { key: \"ArrowLeft\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Mod-ArrowLeft\", mac: \"Alt-ArrowLeft\", run: cursorGroupLeft, shift: selectGroupLeft, preventDefault: true },\n    { mac: \"Cmd-ArrowLeft\", run: cursorLineBoundaryLeft, shift: selectLineBoundaryLeft, preventDefault: true },\n    { key: \"ArrowRight\", run: cursorCharRight, shift: selectCharRight, preventDefault: true },\n    { key: \"Mod-ArrowRight\", mac: \"Alt-ArrowRight\", run: cursorGroupRight, shift: selectGroupRight, preventDefault: true },\n    { mac: \"Cmd-ArrowRight\", run: cursorLineBoundaryRight, shift: selectLineBoundaryRight, preventDefault: true },\n    { key: \"ArrowUp\", run: cursorLineUp, shift: selectLineUp, preventDefault: true },\n    { mac: \"Cmd-ArrowUp\", run: cursorDocStart, shift: selectDocStart },\n    { mac: \"Ctrl-ArrowUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"ArrowDown\", run: cursorLineDown, shift: selectLineDown, preventDefault: true },\n    { mac: \"Cmd-ArrowDown\", run: cursorDocEnd, shift: selectDocEnd },\n    { mac: \"Ctrl-ArrowDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"PageUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"PageDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"Home\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward, preventDefault: true },\n    { key: \"Mod-Home\", run: cursorDocStart, shift: selectDocStart },\n    { key: \"End\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward, preventDefault: true },\n    { key: \"Mod-End\", run: cursorDocEnd, shift: selectDocEnd },\n    { key: \"Enter\", run: insertNewlineAndIndent },\n    { key: \"Mod-a\", run: selectAll },\n    { key: \"Backspace\", run: deleteCharBackward, shift: deleteCharBackward },\n    { key: \"Delete\", run: deleteCharForward },\n    { key: \"Mod-Backspace\", mac: \"Alt-Backspace\", run: deleteGroupBackward },\n    { key: \"Mod-Delete\", mac: \"Alt-Delete\", run: deleteGroupForward },\n    { mac: \"Mod-Backspace\", run: deleteToLineStart },\n    { mac: \"Mod-Delete\", run: deleteToLineEnd }\n].concat(/*@__PURE__*/emacsStyleKeymap.map(b => ({ mac: b.key, run: b.run, shift: b.shift })));\n/**\nThe default keymap. Includes all bindings from\n[`standardKeymap`](https://codemirror.net/6/docs/ref/#commands.standardKeymap) plus the following:\n\n- Alt-ArrowLeft (Ctrl-ArrowLeft on macOS): [`cursorSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxLeft) ([`selectSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxLeft) with Shift)\n- Alt-ArrowRight (Ctrl-ArrowRight on macOS): [`cursorSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxRight) ([`selectSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxRight) with Shift)\n- Alt-ArrowUp: [`moveLineUp`](https://codemirror.net/6/docs/ref/#commands.moveLineUp)\n- Alt-ArrowDown: [`moveLineDown`](https://codemirror.net/6/docs/ref/#commands.moveLineDown)\n- Shift-Alt-ArrowUp: [`copyLineUp`](https://codemirror.net/6/docs/ref/#commands.copyLineUp)\n- Shift-Alt-ArrowDown: [`copyLineDown`](https://codemirror.net/6/docs/ref/#commands.copyLineDown)\n- Escape: [`simplifySelection`](https://codemirror.net/6/docs/ref/#commands.simplifySelection)\n- Ctrl-Enter (Comd-Enter on macOS): [`insertBlankLine`](https://codemirror.net/6/docs/ref/#commands.insertBlankLine)\n- Alt-l (Ctrl-l on macOS): [`selectLine`](https://codemirror.net/6/docs/ref/#commands.selectLine)\n- Ctrl-i (Cmd-i on macOS): [`selectParentSyntax`](https://codemirror.net/6/docs/ref/#commands.selectParentSyntax)\n- Ctrl-[ (Cmd-[ on macOS): [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess)\n- Ctrl-] (Cmd-] on macOS): [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore)\n- Ctrl-Alt-\\\\ (Cmd-Alt-\\\\ on macOS): [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection)\n- Shift-Ctrl-k (Shift-Cmd-k on macOS): [`deleteLine`](https://codemirror.net/6/docs/ref/#commands.deleteLine)\n- Shift-Ctrl-\\\\ (Shift-Cmd-\\\\ on macOS): [`cursorMatchingBracket`](https://codemirror.net/6/docs/ref/#commands.cursorMatchingBracket)\n- Ctrl-/ (Cmd-/ on macOS): [`toggleComment`](https://codemirror.net/6/docs/ref/#commands.toggleComment).\n- Shift-Alt-a: [`toggleBlockComment`](https://codemirror.net/6/docs/ref/#commands.toggleBlockComment).\n*/\nconst defaultKeymap = /*@__PURE__*/[\n    { key: \"Alt-ArrowLeft\", mac: \"Ctrl-ArrowLeft\", run: cursorSyntaxLeft, shift: selectSyntaxLeft },\n    { key: \"Alt-ArrowRight\", mac: \"Ctrl-ArrowRight\", run: cursorSyntaxRight, shift: selectSyntaxRight },\n    { key: \"Alt-ArrowUp\", run: moveLineUp },\n    { key: \"Shift-Alt-ArrowUp\", run: copyLineUp },\n    { key: \"Alt-ArrowDown\", run: moveLineDown },\n    { key: \"Shift-Alt-ArrowDown\", run: copyLineDown },\n    { key: \"Escape\", run: simplifySelection },\n    { key: \"Mod-Enter\", run: insertBlankLine },\n    { key: \"Alt-l\", mac: \"Ctrl-l\", run: selectLine },\n    { key: \"Mod-i\", run: selectParentSyntax, preventDefault: true },\n    { key: \"Mod-[\", run: indentLess },\n    { key: \"Mod-]\", run: indentMore },\n    { key: \"Mod-Alt-\\\\\", run: indentSelection },\n    { key: \"Shift-Mod-k\", run: deleteLine },\n    { key: \"Shift-Mod-\\\\\", run: cursorMatchingBracket },\n    { key: \"Mod-/\", run: toggleComment },\n    { key: \"Alt-A\", run: toggleBlockComment }\n].concat(standardKeymap);\n/**\nA binding that binds Tab to [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) and\nShift-Tab to [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess).\nPlease see the [Tab example](../../examples/tab/) before using\nthis.\n*/\nconst indentWithTab = { key: \"Tab\", run: indentMore, shift: indentLess };\n\nexport { blockComment, blockUncomment, copyLineDown, copyLineUp, cursorCharBackward, cursorCharForward, cursorCharLeft, cursorCharRight, cursorDocEnd, cursorDocStart, cursorGroupBackward, cursorGroupForward, cursorGroupLeft, cursorGroupRight, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorLineBoundaryLeft, cursorLineBoundaryRight, cursorLineDown, cursorLineEnd, cursorLineStart, cursorLineUp, cursorMatchingBracket, cursorPageDown, cursorPageUp, cursorSubwordBackward, cursorSubwordForward, cursorSyntaxLeft, cursorSyntaxRight, defaultKeymap, deleteCharBackward, deleteCharForward, deleteGroupBackward, deleteGroupForward, deleteLine, deleteToLineEnd, deleteToLineStart, deleteTrailingWhitespace, emacsStyleKeymap, history, historyField, historyKeymap, indentLess, indentMore, indentSelection, indentWithTab, insertBlankLine, insertNewline, insertNewlineAndIndent, insertTab, invertedEffects, isolateHistory, lineComment, lineUncomment, moveLineDown, moveLineUp, redo, redoDepth, redoSelection, selectAll, selectCharBackward, selectCharForward, selectCharLeft, selectCharRight, selectDocEnd, selectDocStart, selectGroupBackward, selectGroupForward, selectGroupLeft, selectGroupRight, selectLine, selectLineBoundaryBackward, selectLineBoundaryForward, selectLineBoundaryLeft, selectLineBoundaryRight, selectLineDown, selectLineEnd, selectLineStart, selectLineUp, selectMatchingBracket, selectPageDown, selectPageUp, selectParentSyntax, selectSubwordBackward, selectSubwordForward, selectSyntaxLeft, selectSyntaxRight, simplifySelection, splitLine, standardKeymap, toggleBlockComment, toggleBlockCommentByLine, toggleComment, toggleLineComment, transposeChars, undo, undoDepth, undoSelection };\n","export default function crelt() {\n  var elt = arguments[0]\n  if (typeof elt == \"string\") elt = document.createElement(elt)\n  var i = 1, next = arguments[1]\n  if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\n    for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\n      var value = next[name]\n      if (typeof value == \"string\") elt.setAttribute(name, value)\n      else if (value != null) elt[name] = value\n    }\n    i++\n  }\n  for (; i < arguments.length; i++) add(elt, arguments[i])\n  return elt\n}\n\nfunction add(elt, child) {\n  if (typeof child == \"string\") {\n    elt.appendChild(document.createTextNode(child))\n  } else if (child == null) {\n  } else if (child.nodeType != null) {\n    elt.appendChild(child)\n  } else if (Array.isArray(child)) {\n    for (var i = 0; i < child.length; i++) add(elt, child[i])\n  } else {\n    throw new RangeError(\"Unsupported child node: \" + child)\n  }\n}\n","import { showPanel, EditorView, getPanel, Decoration, ViewPlugin, runScopeHandlers } from '@codemirror/view';\nimport { codePointAt, fromCodePoint, codePointSize, StateEffect, StateField, EditorSelection, Facet, combineConfig, CharCategory, RangeSetBuilder, Prec, EditorState, findClusterBreak } from '@codemirror/state';\nimport elt from 'crelt';\n\nconst basicNormalize = typeof String.prototype.normalize == \"function\"\n    ? x => x.normalize(\"NFKD\") : x => x;\n/**\nA search cursor provides an iterator over text matches in a\ndocument.\n*/\nclass SearchCursor {\n    /**\n    Create a text cursor. The query is the search string, `from` to\n    `to` provides the region to search.\n    \n    When `normalize` is given, it will be called, on both the query\n    string and the content it is matched against, before comparing.\n    You can, for example, create a case-insensitive search by\n    passing `s => s.toLowerCase()`.\n    \n    Text is always normalized with\n    [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n    (when supported).\n    */\n    constructor(text, query, from = 0, to = text.length, normalize, test) {\n        this.test = test;\n        /**\n        The current match (only holds a meaningful value after\n        [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\n        `done` is false).\n        */\n        this.value = { from: 0, to: 0 };\n        /**\n        Whether the end of the iterated region has been reached.\n        */\n        this.done = false;\n        this.matches = [];\n        this.buffer = \"\";\n        this.bufferPos = 0;\n        this.iter = text.iterRange(from, to);\n        this.bufferStart = from;\n        this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\n        this.query = this.normalize(query);\n    }\n    peek() {\n        if (this.bufferPos == this.buffer.length) {\n            this.bufferStart += this.buffer.length;\n            this.iter.next();\n            if (this.iter.done)\n                return -1;\n            this.bufferPos = 0;\n            this.buffer = this.iter.value;\n        }\n        return codePointAt(this.buffer, this.bufferPos);\n    }\n    /**\n    Look for the next match. Updates the iterator's\n    [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\n    [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\n    at least once before using the cursor.\n    */\n    next() {\n        while (this.matches.length)\n            this.matches.pop();\n        return this.nextOverlapping();\n    }\n    /**\n    The `next` method will ignore matches that partially overlap a\n    previous match. This method behaves like `next`, but includes\n    such matches.\n    */\n    nextOverlapping() {\n        for (;;) {\n            let next = this.peek();\n            if (next < 0) {\n                this.done = true;\n                return this;\n            }\n            let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\n            this.bufferPos += codePointSize(next);\n            let norm = this.normalize(str);\n            for (let i = 0, pos = start;; i++) {\n                let code = norm.charCodeAt(i);\n                let match = this.match(code, pos);\n                if (match) {\n                    this.value = match;\n                    return this;\n                }\n                if (i == norm.length - 1)\n                    break;\n                if (pos == start && i < str.length && str.charCodeAt(i) == code)\n                    pos++;\n            }\n        }\n    }\n    match(code, pos) {\n        let match = null;\n        for (let i = 0; i < this.matches.length; i += 2) {\n            let index = this.matches[i], keep = false;\n            if (this.query.charCodeAt(index) == code) {\n                if (index == this.query.length - 1) {\n                    match = { from: this.matches[i + 1], to: pos + 1 };\n                }\n                else {\n                    this.matches[i]++;\n                    keep = true;\n                }\n            }\n            if (!keep) {\n                this.matches.splice(i, 2);\n                i -= 2;\n            }\n        }\n        if (this.query.charCodeAt(0) == code) {\n            if (this.query.length == 1)\n                match = { from: pos, to: pos + 1 };\n            else\n                this.matches.push(1, pos);\n        }\n        if (match && this.test && !this.test(match.from, match.to, this.buffer, this.bufferPos))\n            match = null;\n        return match;\n    }\n}\nif (typeof Symbol != \"undefined\")\n    SearchCursor.prototype[Symbol.iterator] = function () { return this; };\n\nconst empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\nconst baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\n/**\nThis class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\nbut searches for a regular expression pattern instead of a plain\nstring.\n*/\nclass RegExpCursor {\n    /**\n    Create a cursor that will search the given range in the given\n    document. `query` should be the raw pattern (as you'd pass it to\n    `new RegExp`).\n    */\n    constructor(text, query, options, from = 0, to = text.length) {\n        this.text = text;\n        this.to = to;\n        this.curLine = \"\";\n        /**\n        Set to `true` when the cursor has reached the end of the search\n        range.\n        */\n        this.done = false;\n        /**\n        Will contain an object with the extent of the match and the\n        match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\n        sucessfully finds a match.\n        */\n        this.value = empty;\n        if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\n            return new MultilineRegExpCursor(text, query, options, from, to);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.test = options === null || options === void 0 ? void 0 : options.test;\n        this.iter = text.iter();\n        let startLine = text.lineAt(from);\n        this.curLineStart = startLine.from;\n        this.matchPos = toCharEnd(text, from);\n        this.getLine(this.curLineStart);\n    }\n    getLine(skip) {\n        this.iter.next(skip);\n        if (this.iter.lineBreak) {\n            this.curLine = \"\";\n        }\n        else {\n            this.curLine = this.iter.value;\n            if (this.curLineStart + this.curLine.length > this.to)\n                this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\n            this.iter.next();\n        }\n    }\n    nextLine() {\n        this.curLineStart = this.curLineStart + this.curLine.length + 1;\n        if (this.curLineStart > this.to)\n            this.curLine = \"\";\n        else\n            this.getLine(0);\n    }\n    /**\n    Move to the next match, if there is one.\n    */\n    next() {\n        for (let off = this.matchPos - this.curLineStart;;) {\n            this.re.lastIndex = off;\n            let match = this.matchPos <= this.to && this.re.exec(this.curLine);\n            if (match) {\n                let from = this.curLineStart + match.index, to = from + match[0].length;\n                this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\n                if (from == this.curLineStart + this.curLine.length)\n                    this.nextLine();\n                if ((from < to || from > this.value.to) && (!this.test || this.test(from, to, match))) {\n                    this.value = { from, to, match };\n                    return this;\n                }\n                off = this.matchPos - this.curLineStart;\n            }\n            else if (this.curLineStart + this.curLine.length < this.to) {\n                this.nextLine();\n                off = 0;\n            }\n            else {\n                this.done = true;\n                return this;\n            }\n        }\n    }\n}\nconst flattened = /*@__PURE__*/new WeakMap();\n// Reusable (partially) flattened document strings\nclass FlattenedDoc {\n    constructor(from, text) {\n        this.from = from;\n        this.text = text;\n    }\n    get to() { return this.from + this.text.length; }\n    static get(doc, from, to) {\n        let cached = flattened.get(doc);\n        if (!cached || cached.from >= to || cached.to <= from) {\n            let flat = new FlattenedDoc(from, doc.sliceString(from, to));\n            flattened.set(doc, flat);\n            return flat;\n        }\n        if (cached.from == from && cached.to == to)\n            return cached;\n        let { text, from: cachedFrom } = cached;\n        if (cachedFrom > from) {\n            text = doc.sliceString(from, cachedFrom) + text;\n            cachedFrom = from;\n        }\n        if (cached.to < to)\n            text += doc.sliceString(cached.to, to);\n        flattened.set(doc, new FlattenedDoc(cachedFrom, text));\n        return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\n    }\n}\nclass MultilineRegExpCursor {\n    constructor(text, query, options, from, to) {\n        this.text = text;\n        this.to = to;\n        this.done = false;\n        this.value = empty;\n        this.matchPos = toCharEnd(text, from);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.test = options === null || options === void 0 ? void 0 : options.test;\n        this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Chunk.Base */));\n    }\n    chunkEnd(pos) {\n        return pos >= this.to ? this.to : this.text.lineAt(pos).to;\n    }\n    next() {\n        for (;;) {\n            let off = this.re.lastIndex = this.matchPos - this.flat.from;\n            let match = this.re.exec(this.flat.text);\n            // Skip empty matches directly after the last match\n            if (match && !match[0] && match.index == off) {\n                this.re.lastIndex = off + 1;\n                match = this.re.exec(this.flat.text);\n            }\n            if (match) {\n                let from = this.flat.from + match.index, to = from + match[0].length;\n                // If a match goes almost to the end of a noncomplete chunk, try\n                // again, since it'll likely be able to match more\n                if ((this.flat.to >= this.to || match.index + match[0].length <= this.flat.text.length - 10) &&\n                    (!this.test || this.test(from, to, match))) {\n                    this.value = { from, to, match };\n                    this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\n                    return this;\n                }\n            }\n            if (this.flat.to == this.to) {\n                this.done = true;\n                return this;\n            }\n            // Grow the flattened doc\n            this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\n        }\n    }\n}\nif (typeof Symbol != \"undefined\") {\n    RegExpCursor.prototype[Symbol.iterator] = MultilineRegExpCursor.prototype[Symbol.iterator] =\n        function () { return this; };\n}\nfunction validRegExp(source) {\n    try {\n        new RegExp(source, baseFlags);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction toCharEnd(text, pos) {\n    if (pos >= text.length)\n        return pos;\n    let line = text.lineAt(pos), next;\n    while (pos < line.to && (next = line.text.charCodeAt(pos - line.from)) >= 0xDC00 && next < 0xE000)\n        pos++;\n    return pos;\n}\n\nfunction createLineDialog(view) {\n    let input = elt(\"input\", { class: \"cm-textfield\", name: \"line\" });\n    let dom = elt(\"form\", {\n        class: \"cm-gotoLine\",\n        onkeydown: (event) => {\n            if (event.keyCode == 27) { // Escape\n                event.preventDefault();\n                view.dispatch({ effects: dialogEffect.of(false) });\n                view.focus();\n            }\n            else if (event.keyCode == 13) { // Enter\n                event.preventDefault();\n                go();\n            }\n        },\n        onsubmit: (event) => {\n            event.preventDefault();\n            go();\n        }\n    }, elt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", elt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")));\n    function go() {\n        let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\n        if (!match)\n            return;\n        let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\n        let [, sign, ln, cl, percent] = match;\n        let col = cl ? +cl.slice(1) : 0;\n        let line = ln ? +ln : startLine.number;\n        if (ln && percent) {\n            let pc = line / 100;\n            if (sign)\n                pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\n            line = Math.round(state.doc.lines * pc);\n        }\n        else if (ln && sign) {\n            line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\n        }\n        let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\n        view.dispatch({\n            effects: dialogEffect.of(false),\n            selection: EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length))),\n            scrollIntoView: true\n        });\n        view.focus();\n    }\n    return { dom };\n}\nconst dialogEffect = /*@__PURE__*/StateEffect.define();\nconst dialogField = /*@__PURE__*/StateField.define({\n    create() { return true; },\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(dialogEffect))\n                value = e.value;\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val ? createLineDialog : null)\n});\n/**\nCommand that shows a dialog asking the user for a line number, and\nwhen a valid position is provided, moves the cursor to that line.\n\nSupports line numbers, relative line offsets prefixed with `+` or\n`-`, document percentages suffixed with `%`, and an optional\ncolumn position by adding `:` and a second number after the line\nnumber.\n\nThe dialog can be styled with the `panel.gotoLine` theme\nselector.\n*/\nconst gotoLine = view => {\n    let panel = getPanel(view, createLineDialog);\n    if (!panel) {\n        let effects = [dialogEffect.of(true)];\n        if (view.state.field(dialogField, false) == null)\n            effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1]));\n        view.dispatch({ effects });\n        panel = getPanel(view, createLineDialog);\n    }\n    if (panel)\n        panel.dom.querySelector(\"input\").focus();\n    return true;\n};\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-gotoLine\": {\n        padding: \"2px 6px 4px\",\n        \"& label\": { fontSize: \"80%\" }\n    }\n});\n\nconst defaultHighlightOptions = {\n    highlightWordAroundCursor: false,\n    minSelectionLength: 1,\n    maxMatches: 100,\n    wholeWords: false\n};\nconst highlightConfig = /*@__PURE__*/Facet.define({\n    combine(options) {\n        return combineConfig(options, defaultHighlightOptions, {\n            highlightWordAroundCursor: (a, b) => a || b,\n            minSelectionLength: Math.min,\n            maxMatches: Math.min\n        });\n    }\n});\n/**\nThis extension highlights text that matches the selection. It uses\nthe `\"cm-selectionMatch\"` class for the highlighting. When\n`highlightWordAroundCursor` is enabled, the word at the cursor\nitself will be highlighted with `\"cm-selectionMatch-main\"`.\n*/\nfunction highlightSelectionMatches(options) {\n    let ext = [defaultTheme, matchHighlighter];\n    if (options)\n        ext.push(highlightConfig.of(options));\n    return ext;\n}\nconst matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\nconst mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\n// Whether the characters directly outside the given positions are non-word characters\nfunction insideWordBoundaries(check, state, from, to) {\n    return (from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\n        (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word);\n}\n// Whether the characters directly at the given positions are word characters\nfunction insideWord(check, state, from, to) {\n    return check(state.sliceDoc(from, from + 1)) == CharCategory.Word\n        && check(state.sliceDoc(to - 1, to)) == CharCategory.Word;\n}\nconst matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.selectionSet || update.docChanged || update.viewportChanged)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let conf = view.state.facet(highlightConfig);\n        let { state } = view, sel = state.selection;\n        if (sel.ranges.length > 1)\n            return Decoration.none;\n        let range = sel.main, query, check = null;\n        if (range.empty) {\n            if (!conf.highlightWordAroundCursor)\n                return Decoration.none;\n            let word = state.wordAt(range.head);\n            if (!word)\n                return Decoration.none;\n            check = state.charCategorizer(range.head);\n            query = state.sliceDoc(word.from, word.to);\n        }\n        else {\n            let len = range.to - range.from;\n            if (len < conf.minSelectionLength || len > 200)\n                return Decoration.none;\n            if (conf.wholeWords) {\n                query = state.sliceDoc(range.from, range.to); // TODO: allow and include leading/trailing space?\n                check = state.charCategorizer(range.head);\n                if (!(insideWordBoundaries(check, state, range.from, range.to)\n                    && insideWord(check, state, range.from, range.to)))\n                    return Decoration.none;\n            }\n            else {\n                query = state.sliceDoc(range.from, range.to).trim();\n                if (!query)\n                    return Decoration.none;\n            }\n        }\n        let deco = [];\n        for (let part of view.visibleRanges) {\n            let cursor = new SearchCursor(state.doc, query, part.from, part.to);\n            while (!cursor.next().done) {\n                let { from, to } = cursor.value;\n                if (!check || insideWordBoundaries(check, state, from, to)) {\n                    if (range.empty && from <= range.from && to >= range.to)\n                        deco.push(mainMatchDeco.range(from, to));\n                    else if (from >= range.to || to <= range.from)\n                        deco.push(matchDeco.range(from, to));\n                    if (deco.length > conf.maxMatches)\n                        return Decoration.none;\n                }\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\nconst defaultTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\n    \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\n});\n// Select the words around the cursors.\nconst selectWord = ({ state, dispatch }) => {\n    let { selection } = state;\n    let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\n    if (newSel.eq(selection))\n        return false;\n    dispatch(state.update({ selection: newSel }));\n    return true;\n};\n// Find next occurrence of query relative to last cursor. Wrap around\n// the document if there are no more matches.\nfunction findNextOccurrence(state, query) {\n    let { main, ranges } = state.selection;\n    let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;\n    for (let cycled = false, cursor = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to);;) {\n        cursor.next();\n        if (cursor.done) {\n            if (cycled)\n                return null;\n            cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\n            cycled = true;\n        }\n        else {\n            if (cycled && ranges.some(r => r.from == cursor.value.from))\n                continue;\n            if (fullWord) {\n                let word = state.wordAt(cursor.value.from);\n                if (!word || word.from != cursor.value.from || word.to != cursor.value.to)\n                    continue;\n            }\n            return cursor.value;\n        }\n    }\n}\n/**\nSelect next occurrence of the current selection. Expand selection\nto the surrounding word when the selection is empty.\n*/\nconst selectNextOccurrence = ({ state, dispatch }) => {\n    let { ranges } = state.selection;\n    if (ranges.some(sel => sel.from === sel.to))\n        return selectWord({ state, dispatch });\n    let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\n    if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\n        return false;\n    let range = findNextOccurrence(state, searchedText);\n    if (!range)\n        return false;\n    dispatch(state.update({\n        selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),\n        effects: EditorView.scrollIntoView(range.to)\n    }));\n    return true;\n};\n\nconst searchConfigFacet = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            top: false,\n            caseSensitive: false,\n            literal: false,\n            wholeWord: false,\n            createPanel: view => new SearchPanel(view)\n        });\n    }\n});\n/**\nAdd search state to the editor configuration, and optionally\nconfigure the search extension.\n([`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) will automatically\nenable this if it isn't already on).\n*/\nfunction search(config) {\n    return config ? [searchConfigFacet.of(config), searchExtensions] : searchExtensions;\n}\n/**\nA search query. Part of the editor's search state.\n*/\nclass SearchQuery {\n    /**\n    Create a query object.\n    */\n    constructor(config) {\n        this.search = config.search;\n        this.caseSensitive = !!config.caseSensitive;\n        this.literal = !!config.literal;\n        this.regexp = !!config.regexp;\n        this.replace = config.replace || \"\";\n        this.valid = !!this.search && (!this.regexp || validRegExp(this.search));\n        this.unquoted = this.unquote(this.search);\n        this.wholeWord = !!config.wholeWord;\n    }\n    /**\n    @internal\n    */\n    unquote(text) {\n        return this.literal ? text :\n            text.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\n    }\n    /**\n    Compare this query to another query.\n    */\n    eq(other) {\n        return this.search == other.search && this.replace == other.replace &&\n            this.caseSensitive == other.caseSensitive && this.regexp == other.regexp &&\n            this.wholeWord == other.wholeWord;\n    }\n    /**\n    @internal\n    */\n    create() {\n        return this.regexp ? new RegExpQuery(this) : new StringQuery(this);\n    }\n    /**\n    Get a search cursor for this query, searching through the given\n    range in the given state.\n    */\n    getCursor(state, from = 0, to) {\n        let st = state.doc ? state : EditorState.create({ doc: state });\n        if (to == null)\n            to = st.doc.length;\n        return this.regexp ? regexpCursor(this, st, from, to) : stringCursor(this, st, from, to);\n    }\n}\nclass QueryType {\n    constructor(spec) {\n        this.spec = spec;\n    }\n}\nfunction stringCursor(spec, state, from, to) {\n    return new SearchCursor(state.doc, spec.unquoted, from, to, spec.caseSensitive ? undefined : x => x.toLowerCase(), spec.wholeWord ? stringWordTest(state.doc, state.charCategorizer(state.selection.main.head)) : undefined);\n}\nfunction stringWordTest(doc, categorizer) {\n    return (from, to, buf, bufPos) => {\n        if (bufPos > from || bufPos + buf.length < to) {\n            bufPos = Math.max(0, from - 2);\n            buf = doc.sliceString(bufPos, Math.min(doc.length, to + 2));\n        }\n        return (categorizer(charBefore(buf, from - bufPos)) != CharCategory.Word ||\n            categorizer(charAfter(buf, from - bufPos)) != CharCategory.Word) &&\n            (categorizer(charAfter(buf, to - bufPos)) != CharCategory.Word ||\n                categorizer(charBefore(buf, to - bufPos)) != CharCategory.Word);\n    };\n}\nclass StringQuery extends QueryType {\n    constructor(spec) {\n        super(spec);\n    }\n    nextMatch(state, curFrom, curTo) {\n        let cursor = stringCursor(this.spec, state, curTo, state.doc.length).nextOverlapping();\n        if (cursor.done)\n            cursor = stringCursor(this.spec, state, 0, curFrom).nextOverlapping();\n        return cursor.done ? null : cursor.value;\n    }\n    // Searching in reverse is, rather than implementing inverted search\n    // cursor, done by scanning chunk after chunk forward.\n    prevMatchInRange(state, from, to) {\n        for (let pos = to;;) {\n            let start = Math.max(from, pos - 10000 /* FindPrev.ChunkSize */ - this.spec.unquoted.length);\n            let cursor = stringCursor(this.spec, state, start, pos), range = null;\n            while (!cursor.nextOverlapping().done)\n                range = cursor.value;\n            if (range)\n                return range;\n            if (start == from)\n                return null;\n            pos -= 10000 /* FindPrev.ChunkSize */;\n        }\n    }\n    prevMatch(state, curFrom, curTo) {\n        return this.prevMatchInRange(state, 0, curFrom) ||\n            this.prevMatchInRange(state, curTo, state.doc.length);\n    }\n    getReplacement(_result) { return this.spec.unquote(this.spec.replace); }\n    matchAll(state, limit) {\n        let cursor = stringCursor(this.spec, state, 0, state.doc.length), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(state, from, to, add) {\n        let cursor = stringCursor(this.spec, state, Math.max(0, from - this.spec.unquoted.length), Math.min(to + this.spec.unquoted.length, state.doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\nfunction regexpCursor(spec, state, from, to) {\n    return new RegExpCursor(state.doc, spec.search, {\n        ignoreCase: !spec.caseSensitive,\n        test: spec.wholeWord ? regexpWordTest(state.charCategorizer(state.selection.main.head)) : undefined\n    }, from, to);\n}\nfunction charBefore(str, index) {\n    return str.slice(findClusterBreak(str, index, false), index);\n}\nfunction charAfter(str, index) {\n    return str.slice(index, findClusterBreak(str, index));\n}\nfunction regexpWordTest(categorizer) {\n    return (_from, _to, match) => !match[0].length ||\n        (categorizer(charBefore(match.input, match.index)) != CharCategory.Word ||\n            categorizer(charAfter(match.input, match.index)) != CharCategory.Word) &&\n            (categorizer(charAfter(match.input, match.index + match[0].length)) != CharCategory.Word ||\n                categorizer(charBefore(match.input, match.index + match[0].length)) != CharCategory.Word);\n}\nclass RegExpQuery extends QueryType {\n    nextMatch(state, curFrom, curTo) {\n        let cursor = regexpCursor(this.spec, state, curTo, state.doc.length).next();\n        if (cursor.done)\n            cursor = regexpCursor(this.spec, state, 0, curFrom).next();\n        return cursor.done ? null : cursor.value;\n    }\n    prevMatchInRange(state, from, to) {\n        for (let size = 1;; size++) {\n            let start = Math.max(from, to - size * 10000 /* FindPrev.ChunkSize */);\n            let cursor = regexpCursor(this.spec, state, start, to), range = null;\n            while (!cursor.next().done)\n                range = cursor.value;\n            if (range && (start == from || range.from > start + 10))\n                return range;\n            if (start == from)\n                return null;\n        }\n    }\n    prevMatch(state, curFrom, curTo) {\n        return this.prevMatchInRange(state, 0, curFrom) ||\n            this.prevMatchInRange(state, curTo, state.doc.length);\n    }\n    getReplacement(result) {\n        return this.spec.unquote(this.spec.replace.replace(/\\$([$&\\d+])/g, (m, i) => i == \"$\" ? \"$\"\n            : i == \"&\" ? result.match[0]\n                : i != \"0\" && +i < result.match.length ? result.match[i]\n                    : m));\n    }\n    matchAll(state, limit) {\n        let cursor = regexpCursor(this.spec, state, 0, state.doc.length), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(state, from, to, add) {\n        let cursor = regexpCursor(this.spec, state, Math.max(0, from - 250 /* RegExp.HighlightMargin */), Math.min(to + 250 /* RegExp.HighlightMargin */, state.doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\n/**\nA state effect that updates the current search query. Note that\nthis only has an effect if the search state has been initialized\n(by including [`search`](https://codemirror.net/6/docs/ref/#search.search) in your configuration or\nby running [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) at least\nonce).\n*/\nconst setSearchQuery = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst searchState = /*@__PURE__*/StateField.define({\n    create(state) {\n        return new SearchState(defaultQuery(state).create(), null);\n    },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setSearchQuery))\n                value = new SearchState(effect.value.create(), value.panel);\n            else if (effect.is(togglePanel))\n                value = new SearchState(value.query, effect.value ? createSearchPanel : null);\n        }\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val.panel)\n});\n/**\nGet the current search query from an editor state.\n*/\nfunction getSearchQuery(state) {\n    let curState = state.field(searchState, false);\n    return curState ? curState.query.spec : defaultQuery(state);\n}\n/**\nQuery whether the search panel is open in the given editor state.\n*/\nfunction searchPanelOpen(state) {\n    var _a;\n    return ((_a = state.field(searchState, false)) === null || _a === void 0 ? void 0 : _a.panel) != null;\n}\nclass SearchState {\n    constructor(query, panel) {\n        this.query = query;\n        this.panel = panel;\n    }\n}\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\nconst searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.decorations = this.highlight(view.state.field(searchState));\n    }\n    update(update) {\n        let state = update.state.field(searchState);\n        if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet || update.viewportChanged)\n            this.decorations = this.highlight(state);\n    }\n    highlight({ query, panel }) {\n        if (!panel || !query.spec.valid)\n            return Decoration.none;\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* RegExp.HighlightMargin */)\n                to = ranges[++i].to;\n            query.highlight(view.state, from, to, (from, to) => {\n                let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\n                builder.add(from, to, selected ? selectedMatchMark : matchMark);\n            });\n        }\n        return builder.finish();\n    }\n}, {\n    decorations: v => v.decorations\n});\nfunction searchCommand(f) {\n    return view => {\n        let state = view.state.field(searchState, false);\n        return state && state.query.spec.valid ? f(view, state) : openSearchPanel(view);\n    };\n}\n/**\nOpen the search panel if it isn't already open, and move the\nselection to the first match after the current main selection.\nWill wrap around to the start of the document when it reaches the\nend.\n*/\nconst findNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { to } = view.state.selection.main;\n    let next = query.nextMatch(view.state, to, to);\n    if (!next)\n        return false;\n    view.dispatch({\n        selection: { anchor: next.from, head: next.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, next),\n        userEvent: \"select.search\"\n    });\n    return true;\n});\n/**\nMove the selection to the previous instance of the search query,\nbefore the current main selection. Will wrap past the start\nof the document to start searching at the end again.\n*/\nconst findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from } = state.selection.main;\n    let range = query.prevMatch(state, from, from);\n    if (!range)\n        return false;\n    view.dispatch({\n        selection: { anchor: range.from, head: range.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, range),\n        userEvent: \"select.search\"\n    });\n    return true;\n});\n/**\nSelect all instances of the search query.\n*/\nconst selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\n    let ranges = query.matchAll(view.state, 1000);\n    if (!ranges || !ranges.length)\n        return false;\n    view.dispatch({\n        selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to))),\n        userEvent: \"select.search.matches\"\n    });\n    return true;\n});\n/**\nSelect all instances of the currently selected text.\n*/\nconst selectSelectionMatches = ({ state, dispatch }) => {\n    let sel = state.selection;\n    if (sel.ranges.length > 1 || sel.main.empty)\n        return false;\n    let { from, to } = sel.main;\n    let ranges = [], main = 0;\n    for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\n        if (ranges.length > 1000)\n            return false;\n        if (cur.value.from == from)\n            main = ranges.length;\n        ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\n    }\n    dispatch(state.update({\n        selection: EditorSelection.create(ranges, main),\n        userEvent: \"select.search.matches\"\n    }));\n    return true;\n};\n/**\nReplace the current match of the search query.\n*/\nconst replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    if (state.readOnly)\n        return false;\n    let next = query.nextMatch(state, from, from);\n    if (!next)\n        return false;\n    let changes = [], selection, replacement;\n    let announce = [];\n    if (next.from == from && next.to == to) {\n        replacement = state.toText(query.getReplacement(next));\n        changes.push({ from: next.from, to: next.to, insert: replacement });\n        next = query.nextMatch(state, next.from, next.to);\n        announce.push(EditorView.announce.of(state.phrase(\"replaced match on line $\", state.doc.lineAt(from).number) + \".\"));\n    }\n    if (next) {\n        let off = changes.length == 0 || changes[0].from >= next.to ? 0 : next.to - next.from - replacement.length;\n        selection = { anchor: next.from - off, head: next.to - off };\n        announce.push(announceMatch(view, next));\n    }\n    view.dispatch({\n        changes, selection,\n        scrollIntoView: !!selection,\n        effects: announce,\n        userEvent: \"input.replace\"\n    });\n    return true;\n});\n/**\nReplace all instances of the search query with the given\nreplacement.\n*/\nconst replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\n    if (view.state.readOnly)\n        return false;\n    let changes = query.matchAll(view.state, 1e9).map(match => {\n        let { from, to } = match;\n        return { from, to, insert: query.getReplacement(match) };\n    });\n    if (!changes.length)\n        return false;\n    let announceText = view.state.phrase(\"replaced $ matches\", changes.length) + \".\";\n    view.dispatch({\n        changes,\n        effects: EditorView.announce.of(announceText),\n        userEvent: \"input.replace.all\"\n    });\n    return true;\n});\nfunction createSearchPanel(view) {\n    return view.state.facet(searchConfigFacet).createPanel(view);\n}\nfunction defaultQuery(state, fallback) {\n    var _a, _b, _c, _d;\n    let sel = state.selection.main;\n    let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\n    if (fallback && !selText)\n        return fallback;\n    let config = state.facet(searchConfigFacet);\n    return new SearchQuery({\n        search: ((_a = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _a !== void 0 ? _a : config.literal) ? selText : selText.replace(/\\n/g, \"\\\\n\"),\n        caseSensitive: (_b = fallback === null || fallback === void 0 ? void 0 : fallback.caseSensitive) !== null && _b !== void 0 ? _b : config.caseSensitive,\n        literal: (_c = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _c !== void 0 ? _c : config.literal,\n        wholeWord: (_d = fallback === null || fallback === void 0 ? void 0 : fallback.wholeWord) !== null && _d !== void 0 ? _d : config.wholeWord\n    });\n}\n/**\nMake sure the search panel is open and focused.\n*/\nconst openSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (state && state.panel) {\n        let panel = getPanel(view, createSearchPanel);\n        if (!panel)\n            return false;\n        let searchInput = panel.dom.querySelector(\"[main-field]\");\n        if (searchInput && searchInput != view.root.activeElement) {\n            let query = defaultQuery(view.state, state.query.spec);\n            if (query.valid)\n                view.dispatch({ effects: setSearchQuery.of(query) });\n            searchInput.focus();\n            searchInput.select();\n        }\n    }\n    else {\n        view.dispatch({ effects: [\n                togglePanel.of(true),\n                state ? setSearchQuery.of(defaultQuery(view.state, state.query.spec)) : StateEffect.appendConfig.of(searchExtensions)\n            ] });\n    }\n    return true;\n};\n/**\nClose the search panel.\n*/\nconst closeSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (!state || !state.panel)\n        return false;\n    let panel = getPanel(view, createSearchPanel);\n    if (panel && panel.dom.contains(view.root.activeElement))\n        view.focus();\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nDefault search-related key bindings.\n\n - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\n - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\n - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\n - Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\n - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\n*/\nconst searchKeymap = [\n    { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\n    { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\n    { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\n    { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\n    { key: \"Mod-Shift-l\", run: selectSelectionMatches },\n    { key: \"Alt-g\", run: gotoLine },\n    { key: \"Mod-d\", run: selectNextOccurrence, preventDefault: true },\n];\nclass SearchPanel {\n    constructor(view) {\n        this.view = view;\n        let query = this.query = view.state.field(searchState).query.spec;\n        this.commit = this.commit.bind(this);\n        this.searchField = elt(\"input\", {\n            value: query.search,\n            placeholder: phrase(view, \"Find\"),\n            \"aria-label\": phrase(view, \"Find\"),\n            class: \"cm-textfield\",\n            name: \"search\",\n            form: \"\",\n            \"main-field\": \"true\",\n            onchange: this.commit,\n            onkeyup: this.commit\n        });\n        this.replaceField = elt(\"input\", {\n            value: query.replace,\n            placeholder: phrase(view, \"Replace\"),\n            \"aria-label\": phrase(view, \"Replace\"),\n            class: \"cm-textfield\",\n            name: \"replace\",\n            form: \"\",\n            onchange: this.commit,\n            onkeyup: this.commit\n        });\n        this.caseField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"case\",\n            form: \"\",\n            checked: query.caseSensitive,\n            onchange: this.commit\n        });\n        this.reField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"re\",\n            form: \"\",\n            checked: query.regexp,\n            onchange: this.commit\n        });\n        this.wordField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"word\",\n            form: \"\",\n            checked: query.wholeWord,\n            onchange: this.commit\n        });\n        function button(name, onclick, content) {\n            return elt(\"button\", { class: \"cm-button\", name, onclick, type: \"button\" }, content);\n        }\n        this.dom = elt(\"div\", { onkeydown: (e) => this.keydown(e), class: \"cm-search\" }, [\n            this.searchField,\n            button(\"next\", () => findNext(view), [phrase(view, \"next\")]),\n            button(\"prev\", () => findPrevious(view), [phrase(view, \"previous\")]),\n            button(\"select\", () => selectMatches(view), [phrase(view, \"all\")]),\n            elt(\"label\", null, [this.caseField, phrase(view, \"match case\")]),\n            elt(\"label\", null, [this.reField, phrase(view, \"regexp\")]),\n            elt(\"label\", null, [this.wordField, phrase(view, \"by word\")]),\n            ...view.state.readOnly ? [] : [\n                elt(\"br\"),\n                this.replaceField,\n                button(\"replace\", () => replaceNext(view), [phrase(view, \"replace\")]),\n                button(\"replaceAll\", () => replaceAll(view), [phrase(view, \"replace all\")])\n            ],\n            elt(\"button\", {\n                name: \"close\",\n                onclick: () => closeSearchPanel(view),\n                \"aria-label\": phrase(view, \"close\"),\n                type: \"button\"\n            }, [\"\"])\n        ]);\n    }\n    commit() {\n        let query = new SearchQuery({\n            search: this.searchField.value,\n            caseSensitive: this.caseField.checked,\n            regexp: this.reField.checked,\n            wholeWord: this.wordField.checked,\n            replace: this.replaceField.value,\n        });\n        if (!query.eq(this.query)) {\n            this.query = query;\n            this.view.dispatch({ effects: setSearchQuery.of(query) });\n        }\n    }\n    keydown(e) {\n        if (runScopeHandlers(this.view, e, \"search-panel\")) {\n            e.preventDefault();\n        }\n        else if (e.keyCode == 13 && e.target == this.searchField) {\n            e.preventDefault();\n            (e.shiftKey ? findPrevious : findNext)(this.view);\n        }\n        else if (e.keyCode == 13 && e.target == this.replaceField) {\n            e.preventDefault();\n            replaceNext(this.view);\n        }\n    }\n    update(update) {\n        for (let tr of update.transactions)\n            for (let effect of tr.effects) {\n                if (effect.is(setSearchQuery) && !effect.value.eq(this.query))\n                    this.setQuery(effect.value);\n            }\n    }\n    setQuery(query) {\n        this.query = query;\n        this.searchField.value = query.search;\n        this.replaceField.value = query.replace;\n        this.caseField.checked = query.caseSensitive;\n        this.reField.checked = query.regexp;\n        this.wordField.checked = query.wholeWord;\n    }\n    mount() {\n        this.searchField.select();\n    }\n    get pos() { return 80; }\n    get top() { return this.view.state.facet(searchConfigFacet).top; }\n}\nfunction phrase(view, phrase) { return view.state.phrase(phrase); }\nconst AnnounceMargin = 30;\nconst Break = /[\\s\\.,:;?!]/;\nfunction announceMatch(view, { from, to }) {\n    let line = view.state.doc.lineAt(from), lineEnd = view.state.doc.lineAt(to).to;\n    let start = Math.max(line.from, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\n    let text = view.state.sliceDoc(start, end);\n    if (start != line.from) {\n        for (let i = 0; i < AnnounceMargin; i++)\n            if (!Break.test(text[i + 1]) && Break.test(text[i])) {\n                text = text.slice(i);\n                break;\n            }\n    }\n    if (end != lineEnd) {\n        for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\n            if (!Break.test(text[i - 1]) && Break.test(text[i])) {\n                text = text.slice(0, i);\n                break;\n            }\n    }\n    return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${line.number}.`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-search\": {\n        padding: \"2px 6px 4px\",\n        position: \"relative\",\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"4px\",\n            backgroundColor: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        },\n        \"& input, & button, & label\": {\n            margin: \".2em .6em .2em 0\"\n        },\n        \"& input[type=checkbox]\": {\n            marginRight: \".2em\"\n        },\n        \"& label\": {\n            fontSize: \"80%\",\n            whiteSpace: \"pre\"\n        }\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n    \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\n    \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\n});\nconst searchExtensions = [\n    searchState,\n    /*@__PURE__*/Prec.lowest(searchHighlighter),\n    baseTheme\n];\n\nexport { RegExpCursor, SearchCursor, SearchQuery, closeSearchPanel, findNext, findPrevious, getSearchQuery, gotoLine, highlightSelectionMatches, openSearchPanel, replaceAll, replaceNext, search, searchKeymap, searchPanelOpen, selectMatches, selectNextOccurrence, selectSelectionMatches, setSearchQuery };\n","import { Annotation, EditorSelection, codePointAt, codePointSize, fromCodePoint, Facet, combineConfig, StateEffect, StateField, Prec, Text, MapMode, RangeValue, RangeSet, CharCategory } from '@codemirror/state';\nimport { logException, Direction, showTooltip, EditorView, ViewPlugin, getTooltip, Decoration, WidgetType, keymap } from '@codemirror/view';\nimport { syntaxTree, indentUnit } from '@codemirror/language';\n\n/**\nAn instance of this is passed to completion source functions.\n*/\nclass CompletionContext {\n    /**\n    Create a new completion context. (Mostly useful for testing\n    completion sourcesin the editor, the extension will create\n    these for you.)\n    */\n    constructor(\n    /**\n    The editor state that the completion happens in.\n    */\n    state, \n    /**\n    The position at which the completion is happening.\n    */\n    pos, \n    /**\n    Indicates whether completion was activated explicitly, or\n    implicitly by typing. The usual way to respond to this is to\n    only return completions when either there is part of a\n    completable entity before the cursor, or `explicit` is true.\n    */\n    explicit) {\n        this.state = state;\n        this.pos = pos;\n        this.explicit = explicit;\n        /**\n        @internal\n        */\n        this.abortListeners = [];\n    }\n    /**\n    Get the extent, content, and (if there is a token) type of the\n    token before `this.pos`.\n    */\n    tokenBefore(types) {\n        let token = syntaxTree(this.state).resolveInner(this.pos, -1);\n        while (token && types.indexOf(token.name) < 0)\n            token = token.parent;\n        return token ? { from: token.from, to: this.pos,\n            text: this.state.sliceDoc(token.from, this.pos),\n            type: token.type } : null;\n    }\n    /**\n    Get the match of the given expression directly before the\n    cursor.\n    */\n    matchBefore(expr) {\n        let line = this.state.doc.lineAt(this.pos);\n        let start = Math.max(line.from, this.pos - 250);\n        let str = line.text.slice(start - line.from, this.pos - line.from);\n        let found = str.search(ensureAnchor(expr, false));\n        return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };\n    }\n    /**\n    Yields true when the query has been aborted. Can be useful in\n    asynchronous queries to avoid doing work that will be ignored.\n    */\n    get aborted() { return this.abortListeners == null; }\n    /**\n    Allows you to register abort handlers, which will be called when\n    the query is\n    [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).\n    */\n    addEventListener(type, listener) {\n        if (type == \"abort\" && this.abortListeners)\n            this.abortListeners.push(listener);\n    }\n}\nfunction toSet(chars) {\n    let flat = Object.keys(chars).join(\"\");\n    let words = /\\w/.test(flat);\n    if (words)\n        flat = flat.replace(/\\w/g, \"\");\n    return `[${words ? \"\\\\w\" : \"\"}${flat.replace(/[^\\w\\s]/g, \"\\\\$&\")}]`;\n}\nfunction prefixMatch(options) {\n    let first = Object.create(null), rest = Object.create(null);\n    for (let { label } of options) {\n        first[label[0]] = true;\n        for (let i = 1; i < label.length; i++)\n            rest[label[i]] = true;\n    }\n    let source = toSet(first) + toSet(rest) + \"*$\";\n    return [new RegExp(\"^\" + source), new RegExp(source)];\n}\n/**\nGiven a a fixed array of options, return an autocompleter that\ncompletes them.\n*/\nfunction completeFromList(list) {\n    let options = list.map(o => typeof o == \"string\" ? { label: o } : o);\n    let [validFor, match] = options.every(o => /^\\w+$/.test(o.label)) ? [/\\w*$/, /\\w+$/] : prefixMatch(options);\n    return (context) => {\n        let token = context.matchBefore(match);\n        return token || context.explicit ? { from: token ? token.from : context.pos, options, validFor } : null;\n    };\n}\n/**\nWrap the given completion source so that it will only fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return source(context);\n        return null;\n    };\n}\n/**\nWrap the given completion source so that it will not fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifNotIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return null;\n        return source(context);\n    };\n}\nclass Option {\n    constructor(completion, source, match) {\n        this.completion = completion;\n        this.source = source;\n        this.match = match;\n    }\n}\nfunction cur(state) { return state.selection.main.head; }\n// Make sure the given regexp has a $ at its end and, if `start` is\n// true, a ^ at its start.\nfunction ensureAnchor(expr, start) {\n    var _a;\n    let { source } = expr;\n    let addStart = start && source[0] != \"^\", addEnd = source[source.length - 1] != \"$\";\n    if (!addStart && !addEnd)\n        return expr;\n    return new RegExp(`${addStart ? \"^\" : \"\"}(?:${source})${addEnd ? \"$\" : \"\"}`, (_a = expr.flags) !== null && _a !== void 0 ? _a : (expr.ignoreCase ? \"i\" : \"\"));\n}\n/**\nThis annotation is added to transactions that are produced by\npicking a completion.\n*/\nconst pickedCompletion = /*@__PURE__*/Annotation.define();\n/**\nHelper function that returns a transaction spec which inserts a\ncompletion's text in the main selection range, and any other\nselection range that has the same text in front of it.\n*/\nfunction insertCompletionText(state, text, from, to) {\n    return Object.assign(Object.assign({}, state.changeByRange(range => {\n        if (range == state.selection.main)\n            return {\n                changes: { from: from, to: to, insert: text },\n                range: EditorSelection.cursor(from + text.length)\n            };\n        let len = to - from;\n        if (!range.empty ||\n            len && state.sliceDoc(range.from - len, range.from) != state.sliceDoc(from, to))\n            return { range };\n        return {\n            changes: { from: range.from - len, to: range.from, insert: text },\n            range: EditorSelection.cursor(range.from - len + text.length)\n        };\n    })), { userEvent: \"input.complete\" });\n}\nfunction applyCompletion(view, option) {\n    const apply = option.completion.apply || option.completion.label;\n    let result = option.source;\n    if (typeof apply == \"string\")\n        view.dispatch(Object.assign(Object.assign({}, insertCompletionText(view.state, apply, result.from, result.to)), { annotations: pickedCompletion.of(option.completion) }));\n    else\n        apply(view, option.completion, result.from, result.to);\n}\nconst SourceCache = /*@__PURE__*/new WeakMap();\nfunction asSource(source) {\n    if (!Array.isArray(source))\n        return source;\n    let known = SourceCache.get(source);\n    if (!known)\n        SourceCache.set(source, known = completeFromList(source));\n    return known;\n}\n\n// A pattern matcher for fuzzy completion matching. Create an instance\n// once for a pattern, and then use that to match any number of\n// completions.\nclass FuzzyMatcher {\n    constructor(pattern) {\n        this.pattern = pattern;\n        this.chars = [];\n        this.folded = [];\n        // Buffers reused by calls to `match` to track matched character\n        // positions.\n        this.any = [];\n        this.precise = [];\n        this.byWord = [];\n        for (let p = 0; p < pattern.length;) {\n            let char = codePointAt(pattern, p), size = codePointSize(char);\n            this.chars.push(char);\n            let part = pattern.slice(p, p + size), upper = part.toUpperCase();\n            this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));\n            p += size;\n        }\n        this.astral = pattern.length != this.chars.length;\n    }\n    // Matches a given word (completion) against the pattern (input).\n    // Will return null for no match, and otherwise an array that starts\n    // with the match score, followed by any number of `from, to` pairs\n    // indicating the matched parts of `word`.\n    //\n    // The score is a number that is more negative the worse the match\n    // is. See `Penalty` above.\n    match(word) {\n        if (this.pattern.length == 0)\n            return [0];\n        if (word.length < this.pattern.length)\n            return null;\n        let { chars, folded, any, precise, byWord } = this;\n        // For single-character queries, only match when they occur right\n        // at the start\n        if (chars.length == 1) {\n            let first = codePointAt(word, 0);\n            return first == chars[0] ? [0, 0, codePointSize(first)]\n                : first == folded[0] ? [-200 /* Penalty.CaseFold */, 0, codePointSize(first)] : null;\n        }\n        let direct = word.indexOf(this.pattern);\n        if (direct == 0)\n            return [0, 0, this.pattern.length];\n        let len = chars.length, anyTo = 0;\n        if (direct < 0) {\n            for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len;) {\n                let next = codePointAt(word, i);\n                if (next == chars[anyTo] || next == folded[anyTo])\n                    any[anyTo++] = i;\n                i += codePointSize(next);\n            }\n            // No match, exit immediately\n            if (anyTo < len)\n                return null;\n        }\n        // This tracks the extent of the precise (non-folded, not\n        // necessarily adjacent) match\n        let preciseTo = 0;\n        // Tracks whether there is a match that hits only characters that\n        // appear to be starting words. `byWordFolded` is set to true when\n        // a case folded character is encountered in such a match\n        let byWordTo = 0, byWordFolded = false;\n        // If we've found a partial adjacent match, these track its state\n        let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;\n        let hasLower = /[a-z]/.test(word), wordAdjacent = true;\n        // Go over the option's text, scanning for the various kinds of matches\n        for (let i = 0, e = Math.min(word.length, 200), prevType = 0 /* Tp.NonWord */; i < e && byWordTo < len;) {\n            let next = codePointAt(word, i);\n            if (direct < 0) {\n                if (preciseTo < len && next == chars[preciseTo])\n                    precise[preciseTo++] = i;\n                if (adjacentTo < len) {\n                    if (next == chars[adjacentTo] || next == folded[adjacentTo]) {\n                        if (adjacentTo == 0)\n                            adjacentStart = i;\n                        adjacentEnd = i + 1;\n                        adjacentTo++;\n                    }\n                    else {\n                        adjacentTo = 0;\n                    }\n                }\n            }\n            let ch, type = next < 0xff\n                ? (next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 /* Tp.Lower */ : next >= 65 && next <= 90 ? 1 /* Tp.Upper */ : 0 /* Tp.NonWord */)\n                : ((ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 /* Tp.Upper */ : ch != ch.toUpperCase() ? 2 /* Tp.Lower */ : 0 /* Tp.NonWord */);\n            if (!i || type == 1 /* Tp.Upper */ && hasLower || prevType == 0 /* Tp.NonWord */ && type != 0 /* Tp.NonWord */) {\n                if (chars[byWordTo] == next || (folded[byWordTo] == next && (byWordFolded = true)))\n                    byWord[byWordTo++] = i;\n                else if (byWord.length)\n                    wordAdjacent = false;\n            }\n            prevType = type;\n            i += codePointSize(next);\n        }\n        if (byWordTo == len && byWord[0] == 0 && wordAdjacent)\n            return this.result(-100 /* Penalty.ByWord */ + (byWordFolded ? -200 /* Penalty.CaseFold */ : 0), byWord, word);\n        if (adjacentTo == len && adjacentStart == 0)\n            return [-200 /* Penalty.CaseFold */ - word.length, 0, adjacentEnd];\n        if (direct > -1)\n            return [-700 /* Penalty.NotStart */ - word.length, direct, direct + this.pattern.length];\n        if (adjacentTo == len)\n            return [-200 /* Penalty.CaseFold */ + -700 /* Penalty.NotStart */ - word.length, adjacentStart, adjacentEnd];\n        if (byWordTo == len)\n            return this.result(-100 /* Penalty.ByWord */ + (byWordFolded ? -200 /* Penalty.CaseFold */ : 0) + -700 /* Penalty.NotStart */ +\n                (wordAdjacent ? 0 : -1100 /* Penalty.Gap */), byWord, word);\n        return chars.length == 2 ? null : this.result((any[0] ? -700 /* Penalty.NotStart */ : 0) + -200 /* Penalty.CaseFold */ + -1100 /* Penalty.Gap */, any, word);\n    }\n    result(score, positions, word) {\n        let result = [score - word.length], i = 1;\n        for (let pos of positions) {\n            let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);\n            if (i > 1 && result[i - 1] == pos)\n                result[i - 1] = to;\n            else {\n                result[i++] = pos;\n                result[i++] = to;\n            }\n        }\n        return result;\n    }\n}\n\nconst completionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            activateOnTyping: true,\n            selectOnOpen: true,\n            override: null,\n            closeOnBlur: true,\n            maxRenderedOptions: 100,\n            defaultKeymap: true,\n            tooltipClass: () => \"\",\n            optionClass: () => \"\",\n            aboveCursor: false,\n            icons: true,\n            addToOptions: [],\n            compareCompletions: (a, b) => a.label.localeCompare(b.label),\n            interactionDelay: 75\n        }, {\n            defaultKeymap: (a, b) => a && b,\n            closeOnBlur: (a, b) => a && b,\n            icons: (a, b) => a && b,\n            tooltipClass: (a, b) => c => joinClass(a(c), b(c)),\n            optionClass: (a, b) => c => joinClass(a(c), b(c)),\n            addToOptions: (a, b) => a.concat(b)\n        });\n    }\n});\nfunction joinClass(a, b) {\n    return a ? b ? a + \" \" + b : a : b;\n}\n\nfunction optionContent(config) {\n    let content = config.addToOptions.slice();\n    if (config.icons)\n        content.push({\n            render(completion) {\n                let icon = document.createElement(\"div\");\n                icon.classList.add(\"cm-completionIcon\");\n                if (completion.type)\n                    icon.classList.add(...completion.type.split(/\\s+/g).map(cls => \"cm-completionIcon-\" + cls));\n                icon.setAttribute(\"aria-hidden\", \"true\");\n                return icon;\n            },\n            position: 20\n        });\n    content.push({\n        render(completion, _s, match) {\n            let labelElt = document.createElement(\"span\");\n            labelElt.className = \"cm-completionLabel\";\n            let { label } = completion, off = 0;\n            for (let j = 1; j < match.length;) {\n                let from = match[j++], to = match[j++];\n                if (from > off)\n                    labelElt.appendChild(document.createTextNode(label.slice(off, from)));\n                let span = labelElt.appendChild(document.createElement(\"span\"));\n                span.appendChild(document.createTextNode(label.slice(from, to)));\n                span.className = \"cm-completionMatchedText\";\n                off = to;\n            }\n            if (off < label.length)\n                labelElt.appendChild(document.createTextNode(label.slice(off)));\n            return labelElt;\n        },\n        position: 50\n    }, {\n        render(completion) {\n            if (!completion.detail)\n                return null;\n            let detailElt = document.createElement(\"span\");\n            detailElt.className = \"cm-completionDetail\";\n            detailElt.textContent = completion.detail;\n            return detailElt;\n        },\n        position: 80\n    });\n    return content.sort((a, b) => a.position - b.position).map(a => a.render);\n}\nfunction rangeAroundSelected(total, selected, max) {\n    if (total <= max)\n        return { from: 0, to: total };\n    if (selected < 0)\n        selected = 0;\n    if (selected <= (total >> 1)) {\n        let off = Math.floor(selected / max);\n        return { from: off * max, to: (off + 1) * max };\n    }\n    let off = Math.floor((total - selected) / max);\n    return { from: total - (off + 1) * max, to: total - off * max };\n}\nclass CompletionTooltip {\n    constructor(view, stateField) {\n        this.view = view;\n        this.stateField = stateField;\n        this.info = null;\n        this.placeInfo = {\n            read: () => this.measureInfo(),\n            write: (pos) => this.positionInfo(pos),\n            key: this\n        };\n        this.space = null;\n        this.currentClass = \"\";\n        let cState = view.state.field(stateField);\n        let { options, selected } = cState.open;\n        let config = view.state.facet(completionConfig);\n        this.optionContent = optionContent(config);\n        this.optionClass = config.optionClass;\n        this.tooltipClass = config.tooltipClass;\n        this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-tooltip-autocomplete\";\n        this.updateTooltipClass(view.state);\n        this.dom.addEventListener(\"mousedown\", (e) => {\n            for (let dom = e.target, match; dom && dom != this.dom; dom = dom.parentNode) {\n                if (dom.nodeName == \"LI\" && (match = /-(\\d+)$/.exec(dom.id)) && +match[1] < options.length) {\n                    applyCompletion(view, options[+match[1]]);\n                    e.preventDefault();\n                    return;\n                }\n            }\n        });\n        this.list = this.dom.appendChild(this.createListBox(options, cState.id, this.range));\n        this.list.addEventListener(\"scroll\", () => {\n            if (this.info)\n                this.view.requestMeasure(this.placeInfo);\n        });\n    }\n    mount() { this.updateSel(); }\n    update(update) {\n        var _a, _b, _c;\n        let cState = update.state.field(this.stateField);\n        let prevState = update.startState.field(this.stateField);\n        this.updateTooltipClass(update.state);\n        if (cState != prevState) {\n            this.updateSel();\n            if (((_a = cState.open) === null || _a === void 0 ? void 0 : _a.disabled) != ((_b = prevState.open) === null || _b === void 0 ? void 0 : _b.disabled))\n                this.dom.classList.toggle(\"cm-tooltip-autocomplete-disabled\", !!((_c = cState.open) === null || _c === void 0 ? void 0 : _c.disabled));\n        }\n    }\n    updateTooltipClass(state) {\n        let cls = this.tooltipClass(state);\n        if (cls != this.currentClass) {\n            for (let c of this.currentClass.split(\" \"))\n                if (c)\n                    this.dom.classList.remove(c);\n            for (let c of cls.split(\" \"))\n                if (c)\n                    this.dom.classList.add(c);\n            this.currentClass = cls;\n        }\n    }\n    positioned(space) {\n        this.space = space;\n        if (this.info)\n            this.view.requestMeasure(this.placeInfo);\n    }\n    updateSel() {\n        let cState = this.view.state.field(this.stateField), open = cState.open;\n        if (open.selected > -1 && open.selected < this.range.from || open.selected >= this.range.to) {\n            this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);\n            this.list.remove();\n            this.list = this.dom.appendChild(this.createListBox(open.options, cState.id, this.range));\n            this.list.addEventListener(\"scroll\", () => {\n                if (this.info)\n                    this.view.requestMeasure(this.placeInfo);\n            });\n        }\n        if (this.updateSelectedOption(open.selected)) {\n            if (this.info) {\n                this.info.remove();\n                this.info = null;\n            }\n            let { completion } = open.options[open.selected];\n            let { info } = completion;\n            if (!info)\n                return;\n            let infoResult = typeof info === 'string' ? document.createTextNode(info) : info(completion);\n            if (!infoResult)\n                return;\n            if ('then' in infoResult) {\n                infoResult.then(node => {\n                    if (node && this.view.state.field(this.stateField, false) == cState)\n                        this.addInfoPane(node);\n                }).catch(e => logException(this.view.state, e, \"completion info\"));\n            }\n            else {\n                this.addInfoPane(infoResult);\n            }\n        }\n    }\n    addInfoPane(content) {\n        let dom = this.info = document.createElement(\"div\");\n        dom.className = \"cm-tooltip cm-completionInfo\";\n        dom.appendChild(content);\n        this.dom.appendChild(dom);\n        this.view.requestMeasure(this.placeInfo);\n    }\n    updateSelectedOption(selected) {\n        let set = null;\n        for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {\n            if (i == selected) {\n                if (!opt.hasAttribute(\"aria-selected\")) {\n                    opt.setAttribute(\"aria-selected\", \"true\");\n                    set = opt;\n                }\n            }\n            else {\n                if (opt.hasAttribute(\"aria-selected\"))\n                    opt.removeAttribute(\"aria-selected\");\n            }\n        }\n        if (set)\n            scrollIntoView(this.list, set);\n        return set;\n    }\n    measureInfo() {\n        let sel = this.dom.querySelector(\"[aria-selected]\");\n        if (!sel || !this.info)\n            return null;\n        let listRect = this.dom.getBoundingClientRect();\n        let infoRect = this.info.getBoundingClientRect();\n        let selRect = sel.getBoundingClientRect();\n        let space = this.space;\n        if (!space) {\n            let win = this.dom.ownerDocument.defaultView || window;\n            space = { left: 0, top: 0, right: win.innerWidth, bottom: win.innerHeight };\n        }\n        if (selRect.top > Math.min(space.bottom, listRect.bottom) - 10 ||\n            selRect.bottom < Math.max(space.top, listRect.top) + 10)\n            return null;\n        let rtl = this.view.textDirection == Direction.RTL, left = rtl, narrow = false, maxWidth;\n        let top = \"\", bottom = \"\";\n        let spaceLeft = listRect.left - space.left, spaceRight = space.right - listRect.right;\n        if (left && spaceLeft < Math.min(infoRect.width, spaceRight))\n            left = false;\n        else if (!left && spaceRight < Math.min(infoRect.width, spaceLeft))\n            left = true;\n        if (infoRect.width <= (left ? spaceLeft : spaceRight)) {\n            top = (Math.max(space.top, Math.min(selRect.top, space.bottom - infoRect.height)) - listRect.top) + \"px\";\n            maxWidth = Math.min(400 /* Info.Width */, left ? spaceLeft : spaceRight) + \"px\";\n        }\n        else {\n            narrow = true;\n            maxWidth = Math.min(400 /* Info.Width */, (rtl ? listRect.right : space.right - listRect.left) - 30 /* Info.Margin */) + \"px\";\n            let spaceBelow = space.bottom - listRect.bottom;\n            if (spaceBelow >= infoRect.height || spaceBelow > listRect.top) // Below the completion\n                top = (selRect.bottom - listRect.top) + \"px\";\n            else // Above it\n                bottom = (listRect.bottom - selRect.top) + \"px\";\n        }\n        return {\n            top, bottom, maxWidth,\n            class: narrow ? (rtl ? \"left-narrow\" : \"right-narrow\") : left ? \"left\" : \"right\",\n        };\n    }\n    positionInfo(pos) {\n        if (this.info) {\n            if (pos) {\n                this.info.style.top = pos.top;\n                this.info.style.bottom = pos.bottom;\n                this.info.style.maxWidth = pos.maxWidth;\n                this.info.className = \"cm-tooltip cm-completionInfo cm-completionInfo-\" + pos.class;\n            }\n            else {\n                this.info.style.top = \"-1e6px\";\n            }\n        }\n    }\n    createListBox(options, id, range) {\n        const ul = document.createElement(\"ul\");\n        ul.id = id;\n        ul.setAttribute(\"role\", \"listbox\");\n        ul.setAttribute(\"aria-expanded\", \"true\");\n        ul.setAttribute(\"aria-label\", this.view.state.phrase(\"Completions\"));\n        for (let i = range.from; i < range.to; i++) {\n            let { completion, match } = options[i];\n            const li = ul.appendChild(document.createElement(\"li\"));\n            li.id = id + \"-\" + i;\n            li.setAttribute(\"role\", \"option\");\n            let cls = this.optionClass(completion);\n            if (cls)\n                li.className = cls;\n            for (let source of this.optionContent) {\n                let node = source(completion, this.view.state, match);\n                if (node)\n                    li.appendChild(node);\n            }\n        }\n        if (range.from)\n            ul.classList.add(\"cm-completionListIncompleteTop\");\n        if (range.to < options.length)\n            ul.classList.add(\"cm-completionListIncompleteBottom\");\n        return ul;\n    }\n}\n// We allocate a new function instance every time the completion\n// changes to force redrawing/repositioning of the tooltip\nfunction completionTooltip(stateField) {\n    return (view) => new CompletionTooltip(view, stateField);\n}\nfunction scrollIntoView(container, element) {\n    let parent = container.getBoundingClientRect();\n    let self = element.getBoundingClientRect();\n    if (self.top < parent.top)\n        container.scrollTop -= parent.top - self.top;\n    else if (self.bottom > parent.bottom)\n        container.scrollTop += self.bottom - parent.bottom;\n}\n\n// Used to pick a preferred option when two options with the same\n// label occur in the result.\nfunction score(option) {\n    return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) +\n        (option.type ? 1 : 0);\n}\nfunction sortOptions(active, state) {\n    let options = [], i = 0;\n    for (let a of active)\n        if (a.hasResult()) {\n            if (a.result.filter === false) {\n                let getMatch = a.result.getMatch;\n                for (let option of a.result.options) {\n                    let match = [1e9 - i++];\n                    if (getMatch)\n                        for (let n of getMatch(option))\n                            match.push(n);\n                    options.push(new Option(option, a, match));\n                }\n            }\n            else {\n                let matcher = new FuzzyMatcher(state.sliceDoc(a.from, a.to)), match;\n                for (let option of a.result.options)\n                    if (match = matcher.match(option.label)) {\n                        if (option.boost != null)\n                            match[0] += option.boost;\n                        options.push(new Option(option, a, match));\n                    }\n            }\n        }\n    let result = [], prev = null;\n    let compare = state.facet(completionConfig).compareCompletions;\n    for (let opt of options.sort((a, b) => (b.match[0] - a.match[0]) || compare(a.completion, b.completion))) {\n        if (!prev || prev.label != opt.completion.label || prev.detail != opt.completion.detail ||\n            (prev.type != null && opt.completion.type != null && prev.type != opt.completion.type) ||\n            prev.apply != opt.completion.apply)\n            result.push(opt);\n        else if (score(opt.completion) > score(prev))\n            result[result.length - 1] = opt;\n        prev = opt.completion;\n    }\n    return result;\n}\nclass CompletionDialog {\n    constructor(options, attrs, tooltip, timestamp, selected, disabled) {\n        this.options = options;\n        this.attrs = attrs;\n        this.tooltip = tooltip;\n        this.timestamp = timestamp;\n        this.selected = selected;\n        this.disabled = disabled;\n    }\n    setSelected(selected, id) {\n        return selected == this.selected || selected >= this.options.length ? this\n            : new CompletionDialog(this.options, makeAttrs(id, selected), this.tooltip, this.timestamp, selected, this.disabled);\n    }\n    static build(active, state, id, prev, conf) {\n        let options = sortOptions(active, state);\n        if (!options.length) {\n            return prev && active.some(a => a.state == 1 /* State.Pending */) ?\n                new CompletionDialog(prev.options, prev.attrs, prev.tooltip, prev.timestamp, prev.selected, true) : null;\n        }\n        let selected = state.facet(completionConfig).selectOnOpen ? 0 : -1;\n        if (prev && prev.selected != selected && prev.selected != -1) {\n            let selectedValue = prev.options[prev.selected].completion;\n            for (let i = 0; i < options.length; i++)\n                if (options[i].completion == selectedValue) {\n                    selected = i;\n                    break;\n                }\n        }\n        return new CompletionDialog(options, makeAttrs(id, selected), {\n            pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),\n            create: completionTooltip(completionState),\n            above: conf.aboveCursor,\n        }, prev ? prev.timestamp : Date.now(), selected, false);\n    }\n    map(changes) {\n        return new CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: changes.mapPos(this.tooltip.pos) }), this.timestamp, this.selected, this.disabled);\n    }\n}\nclass CompletionState {\n    constructor(active, id, open) {\n        this.active = active;\n        this.id = id;\n        this.open = open;\n    }\n    static start() {\n        return new CompletionState(none, \"cm-ac-\" + Math.floor(Math.random() * 2e6).toString(36), null);\n    }\n    update(tr) {\n        let { state } = tr, conf = state.facet(completionConfig);\n        let sources = conf.override ||\n            state.languageDataAt(\"autocomplete\", cur(state)).map(asSource);\n        let active = sources.map(source => {\n            let value = this.active.find(s => s.source == source) ||\n                new ActiveSource(source, this.active.some(a => a.state != 0 /* State.Inactive */) ? 1 /* State.Pending */ : 0 /* State.Inactive */);\n            return value.update(tr, conf);\n        });\n        if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))\n            active = this.active;\n        let open = this.open;\n        if (open && tr.docChanged)\n            open = open.map(tr.changes);\n        if (tr.selection || active.some(a => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) ||\n            !sameResults(active, this.active))\n            open = CompletionDialog.build(active, state, this.id, open, conf);\n        else if (open && open.disabled && !active.some(a => a.state == 1 /* State.Pending */))\n            open = null;\n        if (!open && active.every(a => a.state != 1 /* State.Pending */) && active.some(a => a.hasResult()))\n            active = active.map(a => a.hasResult() ? new ActiveSource(a.source, 0 /* State.Inactive */) : a);\n        for (let effect of tr.effects)\n            if (effect.is(setSelectedEffect))\n                open = open && open.setSelected(effect.value, this.id);\n        return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);\n    }\n    get tooltip() { return this.open ? this.open.tooltip : null; }\n    get attrs() { return this.open ? this.open.attrs : baseAttrs; }\n}\nfunction sameResults(a, b) {\n    if (a == b)\n        return true;\n    for (let iA = 0, iB = 0;;) {\n        while (iA < a.length && !a[iA].hasResult)\n            iA++;\n        while (iB < b.length && !b[iB].hasResult)\n            iB++;\n        let endA = iA == a.length, endB = iB == b.length;\n        if (endA || endB)\n            return endA == endB;\n        if (a[iA++].result != b[iB++].result)\n            return false;\n    }\n}\nconst baseAttrs = {\n    \"aria-autocomplete\": \"list\"\n};\nfunction makeAttrs(id, selected) {\n    let result = {\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"listbox\",\n        \"aria-controls\": id\n    };\n    if (selected > -1)\n        result[\"aria-activedescendant\"] = id + \"-\" + selected;\n    return result;\n}\nconst none = [];\nfunction getUserEvent(tr) {\n    return tr.isUserEvent(\"input.type\") ? \"input\" : tr.isUserEvent(\"delete.backward\") ? \"delete\" : null;\n}\nclass ActiveSource {\n    constructor(source, state, explicitPos = -1) {\n        this.source = source;\n        this.state = state;\n        this.explicitPos = explicitPos;\n    }\n    hasResult() { return false; }\n    update(tr, conf) {\n        let event = getUserEvent(tr), value = this;\n        if (event)\n            value = value.handleUserEvent(tr, event, conf);\n        else if (tr.docChanged)\n            value = value.handleChange(tr);\n        else if (tr.selection && value.state != 0 /* State.Inactive */)\n            value = new ActiveSource(value.source, 0 /* State.Inactive */);\n        for (let effect of tr.effects) {\n            if (effect.is(startCompletionEffect))\n                value = new ActiveSource(value.source, 1 /* State.Pending */, effect.value ? cur(tr.state) : -1);\n            else if (effect.is(closeCompletionEffect))\n                value = new ActiveSource(value.source, 0 /* State.Inactive */);\n            else if (effect.is(setActiveEffect))\n                for (let active of effect.value)\n                    if (active.source == value.source)\n                        value = active;\n        }\n        return value;\n    }\n    handleUserEvent(tr, type, conf) {\n        return type == \"delete\" || !conf.activateOnTyping ? this.map(tr.changes) : new ActiveSource(this.source, 1 /* State.Pending */);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(cur(tr.startState)) ? new ActiveSource(this.source, 0 /* State.Inactive */) : this.map(tr.changes);\n    }\n    map(changes) {\n        return changes.empty || this.explicitPos < 0 ? this : new ActiveSource(this.source, this.state, changes.mapPos(this.explicitPos));\n    }\n}\nclass ActiveResult extends ActiveSource {\n    constructor(source, explicitPos, result, from, to) {\n        super(source, 2 /* State.Result */, explicitPos);\n        this.result = result;\n        this.from = from;\n        this.to = to;\n    }\n    hasResult() { return true; }\n    handleUserEvent(tr, type, conf) {\n        var _a;\n        let from = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);\n        let pos = cur(tr.state);\n        if ((this.explicitPos < 0 ? pos <= from : pos < this.from) ||\n            pos > to ||\n            type == \"delete\" && cur(tr.startState) == this.from)\n            return new ActiveSource(this.source, type == \"input\" && conf.activateOnTyping ? 1 /* State.Pending */ : 0 /* State.Inactive */);\n        let explicitPos = this.explicitPos < 0 ? -1 : tr.changes.mapPos(this.explicitPos), updated;\n        if (checkValid(this.result.validFor, tr.state, from, to))\n            return new ActiveResult(this.source, explicitPos, this.result, from, to);\n        if (this.result.update &&\n            (updated = this.result.update(this.result, from, to, new CompletionContext(tr.state, pos, explicitPos >= 0))))\n            return new ActiveResult(this.source, explicitPos, updated, updated.from, (_a = updated.to) !== null && _a !== void 0 ? _a : cur(tr.state));\n        return new ActiveSource(this.source, 1 /* State.Pending */, explicitPos);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(this.from, this.to) ? new ActiveSource(this.source, 0 /* State.Inactive */) : this.map(tr.changes);\n    }\n    map(mapping) {\n        return mapping.empty ? this :\n            new ActiveResult(this.source, this.explicitPos < 0 ? -1 : mapping.mapPos(this.explicitPos), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1));\n    }\n}\nfunction checkValid(validFor, state, from, to) {\n    if (!validFor)\n        return false;\n    let text = state.sliceDoc(from, to);\n    return typeof validFor == \"function\" ? validFor(text, from, to, state) : ensureAnchor(validFor, true).test(text);\n}\nconst startCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst closeCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst setActiveEffect = /*@__PURE__*/StateEffect.define({\n    map(sources, mapping) { return sources.map(s => s.map(mapping)); }\n});\nconst setSelectedEffect = /*@__PURE__*/StateEffect.define();\nconst completionState = /*@__PURE__*/StateField.define({\n    create() { return CompletionState.start(); },\n    update(value, tr) { return value.update(tr); },\n    provide: f => [\n        showTooltip.from(f, val => val.tooltip),\n        EditorView.contentAttributes.from(f, state => state.attrs)\n    ]\n});\n\n/**\nReturns a command that moves the completion selection forward or\nbackward by the given amount.\n*/\nfunction moveCompletionSelection(forward, by = \"option\") {\n    return (view) => {\n        let cState = view.state.field(completionState, false);\n        if (!cState || !cState.open || cState.open.disabled ||\n            Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)\n            return false;\n        let step = 1, tooltip;\n        if (by == \"page\" && (tooltip = getTooltip(view, cState.open.tooltip)))\n            step = Math.max(2, Math.floor(tooltip.dom.offsetHeight /\n                tooltip.dom.querySelector(\"li\").offsetHeight) - 1);\n        let { length } = cState.open.options;\n        let selected = cState.open.selected > -1 ? cState.open.selected + step * (forward ? 1 : -1) : forward ? 0 : length - 1;\n        if (selected < 0)\n            selected = by == \"page\" ? 0 : length - 1;\n        else if (selected >= length)\n            selected = by == \"page\" ? length - 1 : 0;\n        view.dispatch({ effects: setSelectedEffect.of(selected) });\n        return true;\n    };\n}\n/**\nAccept the current completion.\n*/\nconst acceptCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (view.state.readOnly || !cState || !cState.open || cState.open.selected < 0 ||\n        Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)\n        return false;\n    if (!cState.open.disabled)\n        applyCompletion(view, cState.open.options[cState.open.selected]);\n    return true;\n};\n/**\nExplicitly start autocompletion.\n*/\nconst startCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState)\n        return false;\n    view.dispatch({ effects: startCompletionEffect.of(true) });\n    return true;\n};\n/**\nClose the currently active completion.\n*/\nconst closeCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.active.some(a => a.state != 0 /* State.Inactive */))\n        return false;\n    view.dispatch({ effects: closeCompletionEffect.of(null) });\n    return true;\n};\nclass RunningQuery {\n    constructor(active, context) {\n        this.active = active;\n        this.context = context;\n        this.time = Date.now();\n        this.updates = [];\n        // Note that 'undefined' means 'not done yet', whereas 'null' means\n        // 'query returned null'.\n        this.done = undefined;\n    }\n}\nconst DebounceTime = 50, MaxUpdateCount = 50, MinAbortTime = 1000;\nconst completionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.debounceUpdate = -1;\n        this.running = [];\n        this.debounceAccept = -1;\n        this.composing = 0 /* CompositionState.None */;\n        for (let active of view.state.field(completionState).active)\n            if (active.state == 1 /* State.Pending */)\n                this.startQuery(active);\n    }\n    update(update) {\n        let cState = update.state.field(completionState);\n        if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)\n            return;\n        let doesReset = update.transactions.some(tr => {\n            return (tr.selection || tr.docChanged) && !getUserEvent(tr);\n        });\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (doesReset ||\n                query.updates.length + update.transactions.length > MaxUpdateCount && Date.now() - query.time > MinAbortTime) {\n                for (let handler of query.context.abortListeners) {\n                    try {\n                        handler();\n                    }\n                    catch (e) {\n                        logException(this.view.state, e);\n                    }\n                }\n                query.context.abortListeners = null;\n                this.running.splice(i--, 1);\n            }\n            else {\n                query.updates.push(...update.transactions);\n            }\n        }\n        if (this.debounceUpdate > -1)\n            clearTimeout(this.debounceUpdate);\n        this.debounceUpdate = cState.active.some(a => a.state == 1 /* State.Pending */ && !this.running.some(q => q.active.source == a.source))\n            ? setTimeout(() => this.startUpdate(), DebounceTime) : -1;\n        if (this.composing != 0 /* CompositionState.None */)\n            for (let tr of update.transactions) {\n                if (getUserEvent(tr) == \"input\")\n                    this.composing = 2 /* CompositionState.Changed */;\n                else if (this.composing == 2 /* CompositionState.Changed */ && tr.selection)\n                    this.composing = 3 /* CompositionState.ChangedAndMoved */;\n            }\n    }\n    startUpdate() {\n        this.debounceUpdate = -1;\n        let { state } = this.view, cState = state.field(completionState);\n        for (let active of cState.active) {\n            if (active.state == 1 /* State.Pending */ && !this.running.some(r => r.active.source == active.source))\n                this.startQuery(active);\n        }\n    }\n    startQuery(active) {\n        let { state } = this.view, pos = cur(state);\n        let context = new CompletionContext(state, pos, active.explicitPos == pos);\n        let pending = new RunningQuery(active, context);\n        this.running.push(pending);\n        Promise.resolve(active.source(context)).then(result => {\n            if (!pending.context.aborted) {\n                pending.done = result || null;\n                this.scheduleAccept();\n            }\n        }, err => {\n            this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            logException(this.view.state, err);\n        });\n    }\n    scheduleAccept() {\n        if (this.running.every(q => q.done !== undefined))\n            this.accept();\n        else if (this.debounceAccept < 0)\n            this.debounceAccept = setTimeout(() => this.accept(), DebounceTime);\n    }\n    // For each finished query in this.running, try to create a result\n    // or, if appropriate, restart the query.\n    accept() {\n        var _a;\n        if (this.debounceAccept > -1)\n            clearTimeout(this.debounceAccept);\n        this.debounceAccept = -1;\n        let updated = [];\n        let conf = this.view.state.facet(completionConfig);\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (query.done === undefined)\n                continue;\n            this.running.splice(i--, 1);\n            if (query.done) {\n                let active = new ActiveResult(query.active.source, query.active.explicitPos, query.done, query.done.from, (_a = query.done.to) !== null && _a !== void 0 ? _a : cur(query.updates.length ? query.updates[0].startState : this.view.state));\n                // Replay the transactions that happened since the start of\n                // the request and see if that preserves the result\n                for (let tr of query.updates)\n                    active = active.update(tr, conf);\n                if (active.hasResult()) {\n                    updated.push(active);\n                    continue;\n                }\n            }\n            let current = this.view.state.field(completionState).active.find(a => a.source == query.active.source);\n            if (current && current.state == 1 /* State.Pending */) {\n                if (query.done == null) {\n                    // Explicitly failed. Should clear the pending status if it\n                    // hasn't been re-set in the meantime.\n                    let active = new ActiveSource(query.active.source, 0 /* State.Inactive */);\n                    for (let tr of query.updates)\n                        active = active.update(tr, conf);\n                    if (active.state != 1 /* State.Pending */)\n                        updated.push(active);\n                }\n                else {\n                    // Cleared by subsequent transactions. Restart.\n                    this.startQuery(current);\n                }\n            }\n        }\n        if (updated.length)\n            this.view.dispatch({ effects: setActiveEffect.of(updated) });\n    }\n}, {\n    eventHandlers: {\n        blur() {\n            let state = this.view.state.field(completionState, false);\n            if (state && state.tooltip && this.view.state.facet(completionConfig).closeOnBlur)\n                this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n        },\n        compositionstart() {\n            this.composing = 1 /* CompositionState.Started */;\n        },\n        compositionend() {\n            if (this.composing == 3 /* CompositionState.ChangedAndMoved */) {\n                // Safari fires compositionend events synchronously, possibly\n                // from inside an update, so dispatch asynchronously to avoid reentrancy\n                setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);\n            }\n            this.composing = 0 /* CompositionState.None */;\n        }\n    }\n});\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip.cm-tooltip-autocomplete\": {\n        \"& > ul\": {\n            fontFamily: \"monospace\",\n            whiteSpace: \"nowrap\",\n            overflow: \"hidden auto\",\n            maxWidth_fallback: \"700px\",\n            maxWidth: \"min(700px, 95vw)\",\n            minWidth: \"250px\",\n            maxHeight: \"10em\",\n            height: \"100%\",\n            listStyle: \"none\",\n            margin: 0,\n            padding: 0,\n            \"& > li\": {\n                overflowX: \"hidden\",\n                textOverflow: \"ellipsis\",\n                cursor: \"pointer\",\n                padding: \"1px 3px\",\n                lineHeight: 1.2\n            },\n        }\n    },\n    \"&light .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#17c\",\n        color: \"white\",\n    },\n    \"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]\": {\n        background: \"#777\",\n    },\n    \"&dark .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#347\",\n        color: \"white\",\n    },\n    \"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]\": {\n        background: \"#444\",\n    },\n    \".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\": {\n        content: '\"\"',\n        opacity: 0.5,\n        display: \"block\",\n        textAlign: \"center\"\n    },\n    \".cm-tooltip.cm-completionInfo\": {\n        position: \"absolute\",\n        padding: \"3px 9px\",\n        width: \"max-content\",\n        maxWidth: `${400 /* Info.Width */}px`,\n        boxSizing: \"border-box\"\n    },\n    \".cm-completionInfo.cm-completionInfo-left\": { right: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-right\": { left: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-left-narrow\": { right: `${30 /* Info.Margin */}px` },\n    \".cm-completionInfo.cm-completionInfo-right-narrow\": { left: `${30 /* Info.Margin */}px` },\n    \"&light .cm-snippetField\": { backgroundColor: \"#00000022\" },\n    \"&dark .cm-snippetField\": { backgroundColor: \"#ffffff22\" },\n    \".cm-snippetFieldPosition\": {\n        verticalAlign: \"text-top\",\n        width: 0,\n        height: \"1.15em\",\n        display: \"inline-block\",\n        margin: \"0 -0.7px -.7em\",\n        borderLeft: \"1.4px dotted #888\"\n    },\n    \".cm-completionMatchedText\": {\n        textDecoration: \"underline\"\n    },\n    \".cm-completionDetail\": {\n        marginLeft: \"0.5em\",\n        fontStyle: \"italic\"\n    },\n    \".cm-completionIcon\": {\n        fontSize: \"90%\",\n        width: \".8em\",\n        display: \"inline-block\",\n        textAlign: \"center\",\n        paddingRight: \".6em\",\n        opacity: \"0.6\",\n        boxSizing: \"content-box\"\n    },\n    \".cm-completionIcon-function, .cm-completionIcon-method\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-class\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-interface\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-variable\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-constant\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-type\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-enum\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-property\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-keyword\": {\n        \"&:after\": { content: \"'\\uFE0E'\" } // Disable emoji rendering\n    },\n    \".cm-completionIcon-namespace\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-text\": {\n        \"&:after\": { content: \"'abc'\", fontSize: \"50%\", verticalAlign: \"middle\" }\n    }\n});\n\nclass FieldPos {\n    constructor(field, line, from, to) {\n        this.field = field;\n        this.line = line;\n        this.from = from;\n        this.to = to;\n    }\n}\nclass FieldRange {\n    constructor(field, from, to) {\n        this.field = field;\n        this.from = from;\n        this.to = to;\n    }\n    map(changes) {\n        let from = changes.mapPos(this.from, -1, MapMode.TrackDel);\n        let to = changes.mapPos(this.to, 1, MapMode.TrackDel);\n        return from == null || to == null ? null : new FieldRange(this.field, from, to);\n    }\n}\nclass Snippet {\n    constructor(lines, fieldPositions) {\n        this.lines = lines;\n        this.fieldPositions = fieldPositions;\n    }\n    instantiate(state, pos) {\n        let text = [], lineStart = [pos];\n        let lineObj = state.doc.lineAt(pos), baseIndent = /^\\s*/.exec(lineObj.text)[0];\n        for (let line of this.lines) {\n            if (text.length) {\n                let indent = baseIndent, tabs = /^\\t*/.exec(line)[0].length;\n                for (let i = 0; i < tabs; i++)\n                    indent += state.facet(indentUnit);\n                lineStart.push(pos + indent.length - tabs);\n                line = indent + line.slice(tabs);\n            }\n            text.push(line);\n            pos += line.length + 1;\n        }\n        let ranges = this.fieldPositions.map(pos => new FieldRange(pos.field, lineStart[pos.line] + pos.from, lineStart[pos.line] + pos.to));\n        return { text, ranges };\n    }\n    static parse(template) {\n        let fields = [];\n        let lines = [], positions = [], m;\n        for (let line of template.split(/\\r\\n?|\\n/)) {\n            while (m = /[#$]\\{(?:(\\d+)(?::([^}]*))?|([^}]*))\\}/.exec(line)) {\n                let seq = m[1] ? +m[1] : null, name = m[2] || m[3] || \"\", found = -1;\n                for (let i = 0; i < fields.length; i++) {\n                    if (seq != null ? fields[i].seq == seq : name ? fields[i].name == name : false)\n                        found = i;\n                }\n                if (found < 0) {\n                    let i = 0;\n                    while (i < fields.length && (seq == null || (fields[i].seq != null && fields[i].seq < seq)))\n                        i++;\n                    fields.splice(i, 0, { seq, name });\n                    found = i;\n                    for (let pos of positions)\n                        if (pos.field >= found)\n                            pos.field++;\n                }\n                positions.push(new FieldPos(found, lines.length, m.index, m.index + name.length));\n                line = line.slice(0, m.index) + name + line.slice(m.index + m[0].length);\n            }\n            for (let esc; esc = /\\\\([{}])/.exec(line);) {\n                line = line.slice(0, esc.index) + esc[1] + line.slice(esc.index + esc[0].length);\n                for (let pos of positions)\n                    if (pos.line == lines.length && pos.from > esc.index) {\n                        pos.from--;\n                        pos.to--;\n                    }\n            }\n            lines.push(line);\n        }\n        return new Snippet(lines, positions);\n    }\n}\nlet fieldMarker = /*@__PURE__*/Decoration.widget({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM() {\n            let span = document.createElement(\"span\");\n            span.className = \"cm-snippetFieldPosition\";\n            return span;\n        }\n        ignoreEvent() { return false; }\n    } });\nlet fieldRange = /*@__PURE__*/Decoration.mark({ class: \"cm-snippetField\" });\nclass ActiveSnippet {\n    constructor(ranges, active) {\n        this.ranges = ranges;\n        this.active = active;\n        this.deco = Decoration.set(ranges.map(r => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));\n    }\n    map(changes) {\n        let ranges = [];\n        for (let r of this.ranges) {\n            let mapped = r.map(changes);\n            if (!mapped)\n                return null;\n            ranges.push(mapped);\n        }\n        return new ActiveSnippet(ranges, this.active);\n    }\n    selectionInsideField(sel) {\n        return sel.ranges.every(range => this.ranges.some(r => r.field == this.active && r.from <= range.from && r.to >= range.to));\n    }\n}\nconst setActive = /*@__PURE__*/StateEffect.define({\n    map(value, changes) { return value && value.map(changes); }\n});\nconst moveToField = /*@__PURE__*/StateEffect.define();\nconst snippetState = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setActive))\n                return effect.value;\n            if (effect.is(moveToField) && value)\n                return new ActiveSnippet(value.ranges, effect.value);\n        }\n        if (value && tr.docChanged)\n            value = value.map(tr.changes);\n        if (value && tr.selection && !value.selectionInsideField(tr.selection))\n            value = null;\n        return value;\n    },\n    provide: f => EditorView.decorations.from(f, val => val ? val.deco : Decoration.none)\n});\nfunction fieldSelection(ranges, field) {\n    return EditorSelection.create(ranges.filter(r => r.field == field).map(r => EditorSelection.range(r.from, r.to)));\n}\n/**\nConvert a snippet template to a function that can\n[apply](https://codemirror.net/6/docs/ref/#autocomplete.Completion.apply) it. Snippets are written\nusing syntax like this:\n\n    \"for (let ${index} = 0; ${index} < ${end}; ${index}++) {\\n\\t${}\\n}\"\n\nEach `${}` placeholder (you may also use `#{}`) indicates a field\nthat the user can fill in. Its name, if any, will be the default\ncontent for the field.\n\nWhen the snippet is activated by calling the returned function,\nthe code is inserted at the given position. Newlines in the\ntemplate are indented by the indentation of the start line, plus\none [indent unit](https://codemirror.net/6/docs/ref/#language.indentUnit) per tab character after\nthe newline.\n\nOn activation, (all instances of) the first field are selected.\nThe user can move between fields with Tab and Shift-Tab as long as\nthe fields are active. Moving to the last field or moving the\ncursor out of the current field deactivates the fields.\n\nThe order of fields defaults to textual order, but you can add\nnumbers to placeholders (`${1}` or `${1:defaultText}`) to provide\na custom order.\n\nTo include a literal `{` or `}` in your template, put a backslash\nin front of it. This will be removed and the brace will not be\ninterpreted as indicating a placeholder.\n*/\nfunction snippet(template) {\n    let snippet = Snippet.parse(template);\n    return (editor, _completion, from, to) => {\n        let { text, ranges } = snippet.instantiate(editor.state, from);\n        let spec = {\n            changes: { from, to, insert: Text.of(text) },\n            scrollIntoView: true\n        };\n        if (ranges.length)\n            spec.selection = fieldSelection(ranges, 0);\n        if (ranges.length > 1) {\n            let active = new ActiveSnippet(ranges, 0);\n            let effects = spec.effects = [setActive.of(active)];\n            if (editor.state.field(snippetState, false) === undefined)\n                effects.push(StateEffect.appendConfig.of([snippetState, addSnippetKeymap, snippetPointerHandler, baseTheme]));\n        }\n        editor.dispatch(editor.state.update(spec));\n    };\n}\nfunction moveField(dir) {\n    return ({ state, dispatch }) => {\n        let active = state.field(snippetState, false);\n        if (!active || dir < 0 && active.active == 0)\n            return false;\n        let next = active.active + dir, last = dir > 0 && !active.ranges.some(r => r.field == next + dir);\n        dispatch(state.update({\n            selection: fieldSelection(active.ranges, next),\n            effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next))\n        }));\n        return true;\n    };\n}\n/**\nA command that clears the active snippet, if any.\n*/\nconst clearSnippet = ({ state, dispatch }) => {\n    let active = state.field(snippetState, false);\n    if (!active)\n        return false;\n    dispatch(state.update({ effects: setActive.of(null) }));\n    return true;\n};\n/**\nMove to the next snippet field, if available.\n*/\nconst nextSnippetField = /*@__PURE__*/moveField(1);\n/**\nMove to the previous snippet field, if available.\n*/\nconst prevSnippetField = /*@__PURE__*/moveField(-1);\nconst defaultSnippetKeymap = [\n    { key: \"Tab\", run: nextSnippetField, shift: prevSnippetField },\n    { key: \"Escape\", run: clearSnippet }\n];\n/**\nA facet that can be used to configure the key bindings used by\nsnippets. The default binds Tab to\n[`nextSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.nextSnippetField), Shift-Tab to\n[`prevSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.prevSnippetField), and Escape\nto [`clearSnippet`](https://codemirror.net/6/docs/ref/#autocomplete.clearSnippet).\n*/\nconst snippetKeymap = /*@__PURE__*/Facet.define({\n    combine(maps) { return maps.length ? maps[0] : defaultSnippetKeymap; }\n});\nconst addSnippetKeymap = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.compute([snippetKeymap], state => state.facet(snippetKeymap)));\n/**\nCreate a completion from a snippet. Returns an object with the\nproperties from `completion`, plus an `apply` function that\napplies the snippet.\n*/\nfunction snippetCompletion(template, completion) {\n    return Object.assign(Object.assign({}, completion), { apply: snippet(template) });\n}\nconst snippetPointerHandler = /*@__PURE__*/EditorView.domEventHandlers({\n    mousedown(event, view) {\n        let active = view.state.field(snippetState, false), pos;\n        if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)\n            return false;\n        let match = active.ranges.find(r => r.from <= pos && r.to >= pos);\n        if (!match || match.field == active.active)\n            return false;\n        view.dispatch({\n            selection: fieldSelection(active.ranges, match.field),\n            effects: setActive.of(active.ranges.some(r => r.field > match.field) ? new ActiveSnippet(active.ranges, match.field) : null)\n        });\n        return true;\n    }\n});\n\nfunction wordRE(wordChars) {\n    let escaped = wordChars.replace(/[\\\\[.+*?(){|^$]/g, \"\\\\$&\");\n    try {\n        return new RegExp(`[\\\\p{Alphabetic}\\\\p{Number}_${escaped}]+`, \"ug\");\n    }\n    catch (_a) {\n        return new RegExp(`[\\w${escaped}]`, \"g\");\n    }\n}\nfunction mapRE(re, f) {\n    return new RegExp(f(re.source), re.unicode ? \"u\" : \"\");\n}\nconst wordCaches = /*@__PURE__*/Object.create(null);\nfunction wordCache(wordChars) {\n    return wordCaches[wordChars] || (wordCaches[wordChars] = new WeakMap);\n}\nfunction storeWords(doc, wordRE, result, seen, ignoreAt) {\n    for (let lines = doc.iterLines(), pos = 0; !lines.next().done;) {\n        let { value } = lines, m;\n        wordRE.lastIndex = 0;\n        while (m = wordRE.exec(value)) {\n            if (!seen[m[0]] && pos + m.index != ignoreAt) {\n                result.push({ type: \"text\", label: m[0] });\n                seen[m[0]] = true;\n                if (result.length >= 2000 /* C.MaxList */)\n                    return;\n            }\n        }\n        pos += value.length + 1;\n    }\n}\nfunction collectWords(doc, cache, wordRE, to, ignoreAt) {\n    let big = doc.length >= 1000 /* C.MinCacheLen */;\n    let cached = big && cache.get(doc);\n    if (cached)\n        return cached;\n    let result = [], seen = Object.create(null);\n    if (doc.children) {\n        let pos = 0;\n        for (let ch of doc.children) {\n            if (ch.length >= 1000 /* C.MinCacheLen */) {\n                for (let c of collectWords(ch, cache, wordRE, to - pos, ignoreAt - pos)) {\n                    if (!seen[c.label]) {\n                        seen[c.label] = true;\n                        result.push(c);\n                    }\n                }\n            }\n            else {\n                storeWords(ch, wordRE, result, seen, ignoreAt - pos);\n            }\n            pos += ch.length + 1;\n        }\n    }\n    else {\n        storeWords(doc, wordRE, result, seen, ignoreAt);\n    }\n    if (big && result.length < 2000 /* C.MaxList */)\n        cache.set(doc, result);\n    return result;\n}\n/**\nA completion source that will scan the document for words (using a\n[character categorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer)), and\nreturn those as completions.\n*/\nconst completeAnyWord = context => {\n    let wordChars = context.state.languageDataAt(\"wordChars\", context.pos).join(\"\");\n    let re = wordRE(wordChars);\n    let token = context.matchBefore(mapRE(re, s => s + \"$\"));\n    if (!token && !context.explicit)\n        return null;\n    let from = token ? token.from : context.pos;\n    let options = collectWords(context.state.doc, wordCache(wordChars), re, 50000 /* C.Range */, from);\n    return { from, options, validFor: mapRE(re, s => \"^\" + s) };\n};\n\nconst defaults = {\n    brackets: [\"(\", \"[\", \"{\", \"'\", '\"'],\n    before: \")]}:;>\",\n    stringPrefixes: []\n};\nconst closeBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) {\n        let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);\n        return mapped == null ? undefined : mapped;\n    }\n});\nconst skipBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) { return mapping.mapPos(value); }\n});\nconst closedBracket = /*@__PURE__*/new class extends RangeValue {\n};\nclosedBracket.startSide = 1;\nclosedBracket.endSide = -1;\nconst bracketState = /*@__PURE__*/StateField.define({\n    create() { return RangeSet.empty; },\n    update(value, tr) {\n        if (tr.selection) {\n            let lineStart = tr.state.doc.lineAt(tr.selection.main.head).from;\n            let prevLineStart = tr.startState.doc.lineAt(tr.startState.selection.main.head).from;\n            if (lineStart != tr.changes.mapPos(prevLineStart, -1))\n                value = RangeSet.empty;\n        }\n        value = value.map(tr.changes);\n        for (let effect of tr.effects) {\n            if (effect.is(closeBracketEffect))\n                value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });\n            else if (effect.is(skipBracketEffect))\n                value = value.update({ filter: from => from != effect.value });\n        }\n        return value;\n    }\n});\n/**\nExtension to enable bracket-closing behavior. When a closeable\nbracket is typed, its closing bracket is immediately inserted\nafter the cursor. When closing a bracket directly in front of a\nclosing bracket inserted by the extension, the cursor moves over\nthat bracket.\n*/\nfunction closeBrackets() {\n    return [inputHandler, bracketState];\n}\nconst definedClosing = \"()[]{}<>\";\nfunction closing(ch) {\n    for (let i = 0; i < definedClosing.length; i += 2)\n        if (definedClosing.charCodeAt(i) == ch)\n            return definedClosing.charAt(i + 1);\n    return fromCodePoint(ch < 128 ? ch : ch + 1);\n}\nfunction config(state, pos) {\n    return state.languageDataAt(\"closeBrackets\", pos)[0] || defaults;\n}\nconst android = typeof navigator == \"object\" && /*@__PURE__*//Android\\b/.test(navigator.userAgent);\nconst inputHandler = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, insert) => {\n    if ((android ? view.composing : view.compositionStarted) || view.state.readOnly)\n        return false;\n    let sel = view.state.selection.main;\n    if (insert.length > 2 || insert.length == 2 && codePointSize(codePointAt(insert, 0)) == 1 ||\n        from != sel.from || to != sel.to)\n        return false;\n    let tr = insertBracket(view.state, insert);\n    if (!tr)\n        return false;\n    view.dispatch(tr);\n    return true;\n});\n/**\nCommand that implements deleting a pair of matching brackets when\nthe cursor is between them.\n*/\nconst deleteBracketPair = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty) {\n            let before = prevChar(state.doc, range.head);\n            for (let token of tokens) {\n                if (token == before && nextChar(state.doc, range.head) == closing(codePointAt(token, 0)))\n                    return { changes: { from: range.head - token.length, to: range.head + token.length },\n                        range: EditorSelection.cursor(range.head - token.length) };\n            }\n        }\n        return { range: dont = range };\n    });\n    if (!dont)\n        dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"delete.backward\" }));\n    return !dont;\n};\n/**\nClose-brackets related key bindings. Binds Backspace to\n[`deleteBracketPair`](https://codemirror.net/6/docs/ref/#autocomplete.deleteBracketPair).\n*/\nconst closeBracketsKeymap = [\n    { key: \"Backspace\", run: deleteBracketPair }\n];\n/**\nImplements the extension's behavior on text insertion. If the\ngiven string counts as a bracket in the language around the\nselection, and replacing the selection with it requires custom\nbehavior (inserting a closing version or skipping past a\npreviously-closed bracket), this function returns a transaction\nrepresenting that custom behavior. (You only need this if you want\nto programmatically insert bracketsthe\n[`closeBrackets`](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets) extension will\ntake care of running this for user input.)\n*/\nfunction insertBracket(state, bracket) {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    for (let tok of tokens) {\n        let closed = closing(codePointAt(tok, 0));\n        if (bracket == tok)\n            return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1, conf)\n                : handleOpen(state, tok, closed, conf.before || defaults.before);\n        if (bracket == closed && closedBracketAt(state, state.selection.main.from))\n            return handleClose(state, tok, closed);\n    }\n    return null;\n}\nfunction closedBracketAt(state, pos) {\n    let found = false;\n    state.field(bracketState).between(0, state.doc.length, from => {\n        if (from == pos)\n            found = true;\n    });\n    return found;\n}\nfunction nextChar(doc, pos) {\n    let next = doc.sliceString(pos, pos + 2);\n    return next.slice(0, codePointSize(codePointAt(next, 0)));\n}\nfunction prevChar(doc, pos) {\n    let prev = doc.sliceString(pos - 2, pos);\n    return codePointSize(codePointAt(prev, 0)) == prev.length ? prev : prev.slice(1);\n}\nfunction handleOpen(state, open, close, closeBefore) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],\n                effects: closeBracketEffect.of(range.to + open.length),\n                range: EditorSelection.range(range.anchor + open.length, range.head + open.length) };\n        let next = nextChar(state.doc, range.head);\n        if (!next || /\\s/.test(next) || closeBefore.indexOf(next) > -1)\n            return { changes: { insert: open + close, from: range.head },\n                effects: closeBracketEffect.of(range.head + open.length),\n                range: EditorSelection.cursor(range.head + open.length) };\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction handleClose(state, _open, close) {\n    let dont = null, moved = state.selection.ranges.map(range => {\n        if (range.empty && nextChar(state.doc, range.head) == close)\n            return EditorSelection.cursor(range.head + close.length);\n        return dont = range;\n    });\n    return dont ? null : state.update({\n        selection: EditorSelection.create(moved, state.selection.mainIndex),\n        scrollIntoView: true,\n        effects: state.selection.ranges.map(({ from }) => skipBracketEffect.of(from))\n    });\n}\n// Handles cases where the open and close token are the same, and\n// possibly triple quotes (as in `\"\"\"abc\"\"\"`-style quoting).\nfunction handleSame(state, token, allowTriple, config) {\n    let stringPrefixes = config.stringPrefixes || defaults.stringPrefixes;\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],\n                effects: closeBracketEffect.of(range.to + token.length),\n                range: EditorSelection.range(range.anchor + token.length, range.head + token.length) };\n        let pos = range.head, next = nextChar(state.doc, pos), start;\n        if (next == token) {\n            if (nodeStart(state, pos)) {\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n            }\n            else if (closedBracketAt(state, pos)) {\n                let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;\n                return { range: EditorSelection.cursor(pos + token.length * (isTriple ? 3 : 1)),\n                    effects: skipBracketEffect.of(pos) };\n            }\n        }\n        else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token &&\n            (start = canStartStringAt(state, pos - 2 * token.length, stringPrefixes)) > -1 &&\n            nodeStart(state, start)) {\n            return { changes: { insert: token + token + token + token, from: pos },\n                effects: closeBracketEffect.of(pos + token.length),\n                range: EditorSelection.cursor(pos + token.length) };\n        }\n        else if (state.charCategorizer(pos)(next) != CharCategory.Word) {\n            if (canStartStringAt(state, pos, stringPrefixes) > -1 && !probablyInString(state, pos, token, stringPrefixes))\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n        }\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction nodeStart(state, pos) {\n    let tree = syntaxTree(state).resolveInner(pos + 1);\n    return tree.parent && tree.from == pos;\n}\nfunction probablyInString(state, pos, quoteToken, prefixes) {\n    let node = syntaxTree(state).resolveInner(pos, -1);\n    let maxPrefix = prefixes.reduce((m, p) => Math.max(m, p.length), 0);\n    for (let i = 0; i < 5; i++) {\n        let start = state.sliceDoc(node.from, Math.min(node.to, node.from + quoteToken.length + maxPrefix));\n        let quotePos = start.indexOf(quoteToken);\n        if (!quotePos || quotePos > -1 && prefixes.indexOf(start.slice(0, quotePos)) > -1) {\n            let first = node.firstChild;\n            while (first && first.from == node.from && first.to - first.from > quoteToken.length + quotePos) {\n                if (state.sliceDoc(first.to - quoteToken.length, first.to) == quoteToken)\n                    return false;\n                first = first.firstChild;\n            }\n            return true;\n        }\n        let parent = node.to == pos && node.parent;\n        if (!parent)\n            break;\n        node = parent;\n    }\n    return false;\n}\nfunction canStartStringAt(state, pos, prefixes) {\n    let charCat = state.charCategorizer(pos);\n    if (charCat(state.sliceDoc(pos - 1, pos)) != CharCategory.Word)\n        return pos;\n    for (let prefix of prefixes) {\n        let start = pos - prefix.length;\n        if (state.sliceDoc(start, pos) == prefix && charCat(state.sliceDoc(start - 1, start)) != CharCategory.Word)\n            return start;\n    }\n    return -1;\n}\n\n/**\nReturns an extension that enables autocompletion.\n*/\nfunction autocompletion(config = {}) {\n    return [\n        completionState,\n        completionConfig.of(config),\n        completionPlugin,\n        completionKeymapExt,\n        baseTheme\n    ];\n}\n/**\nBasic keybindings for autocompletion.\n\n - Ctrl-Space: [`startCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.startCompletion)\n - Escape: [`closeCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.closeCompletion)\n - ArrowDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true)`\n - ArrowUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false)`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - Enter: [`acceptCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.acceptCompletion)\n*/\nconst completionKeymap = [\n    { key: \"Ctrl-Space\", run: startCompletion },\n    { key: \"Escape\", run: closeCompletion },\n    { key: \"ArrowDown\", run: /*@__PURE__*/moveCompletionSelection(true) },\n    { key: \"ArrowUp\", run: /*@__PURE__*/moveCompletionSelection(false) },\n    { key: \"PageDown\", run: /*@__PURE__*/moveCompletionSelection(true, \"page\") },\n    { key: \"PageUp\", run: /*@__PURE__*/moveCompletionSelection(false, \"page\") },\n    { key: \"Enter\", run: acceptCompletion }\n];\nconst completionKeymapExt = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.computeN([completionConfig], state => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));\n/**\nGet the current completion status. When completions are available,\nthis will return `\"active\"`. When completions are pending (in the\nprocess of being queried), this returns `\"pending\"`. Otherwise, it\nreturns `null`.\n*/\nfunction completionStatus(state) {\n    let cState = state.field(completionState, false);\n    return cState && cState.active.some(a => a.state == 1 /* State.Pending */) ? \"pending\"\n        : cState && cState.active.some(a => a.state != 0 /* State.Inactive */) ? \"active\" : null;\n}\nconst completionArrayCache = /*@__PURE__*/new WeakMap;\n/**\nReturns the available completions as an array.\n*/\nfunction currentCompletions(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    if (!open || open.disabled)\n        return [];\n    let completions = completionArrayCache.get(open.options);\n    if (!completions)\n        completionArrayCache.set(open.options, completions = open.options.map(o => o.completion));\n    return completions;\n}\n/**\nReturn the currently selected completion, if any.\n*/\nfunction selectedCompletion(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open && !open.disabled && open.selected >= 0 ? open.options[open.selected].completion : null;\n}\n/**\nReturns the currently selected position in the active completion\nlist, or null if no completions are active.\n*/\nfunction selectedCompletionIndex(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open && !open.disabled && open.selected >= 0 ? open.selected : null;\n}\n/**\nCreate an effect that can be attached to a transaction to change\nthe currently selected completion.\n*/\nfunction setSelectedCompletion(index) {\n    return setSelectedEffect.of(index);\n}\n\nexport { CompletionContext, acceptCompletion, autocompletion, clearSnippet, closeBrackets, closeBracketsKeymap, closeCompletion, completeAnyWord, completeFromList, completionKeymap, completionStatus, currentCompletions, deleteBracketPair, ifIn, ifNotIn, insertBracket, insertCompletionText, moveCompletionSelection, nextSnippetField, pickedCompletion, prevSnippetField, selectedCompletion, selectedCompletionIndex, setSelectedCompletion, snippet, snippetCompletion, snippetKeymap, startCompletion };\n","import { Decoration, showPanel, EditorView, ViewPlugin, logException, gutter, showTooltip, getPanel, WidgetType, hoverTooltip, GutterMarker } from '@codemirror/view';\nimport { StateEffect, StateField, Facet, combineConfig, RangeSet } from '@codemirror/state';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel, state) {\n        // Filter the list of diagnostics for which to create markers\n        let markedDiagnostics = diagnostics;\n        let diagnosticFilter = state.facet(lintConfig).markerFilter;\n        if (diagnosticFilter)\n            markedDiagnostics = diagnosticFilter(markedDiagnostics);\n        let ranges = Decoration.set(markedDiagnostics.map((d) => {\n            // For zero-length ranges or ranges covering only a line break, create a widget\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\n                ? Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from)\n                : Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity },\n                    diagnostic: d\n                }).range(d.from, d.to);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction hideTooltip(tr, tooltip) {\n    return !!(tr.effects.some(e => e.is(setDiagnosticsEffect)) || tr.changes.touchesRange(tooltip.pos));\n}\nfunction maybeEnableLint(state, effects) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of([\n        lintState,\n        EditorView.decorations.compute([lintState], state => {\n            let { selected, panel } = state.field(lintState);\n            return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n                activeMark.range(selected.from, selected.to)\n            ]);\n        }),\n        hoverTooltip(lintTooltip, { hideOn: hideTooltip }),\n        baseTheme\n    ]));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics, and enables the lint extension if if wasn't already\nactive.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)])\n    };\n}\n/**\nThe state effect that updates the set of active diagnostics. Can\nbe useful when writing an extension that needs to track these.\n*/\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel, tr.state);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n    let lint = state.field(lintState, false);\n    return lint ? lint.diagnostics.size : 0;\n}\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    let diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;\n    if (diagnosticFilter)\n        found = diagnosticFilter(found);\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: diagnosticsTooltip(view, found) };\n        }\n    };\n}\nfunction diagnosticsTooltip(view, diagnostics) {\n    return elt(\"ul\", { class: \"cm-tooltip-lint\" }, diagnostics.map(d => renderDiagnostic(view, d, false)));\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)]) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel, preventDefault: true },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintConfig);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintConfig);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc)\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        let config = update.state.facet(lintConfig);\n        if (update.docChanged || config != update.startState.facet(lintConfig)) {\n            this.lintTime = Date.now() + config.delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, config.delay);\n            }\n        }\n    }\n    force() {\n        if (this.set) {\n            this.lintTime = Date.now();\n            this.run();\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintConfig = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return Object.assign({ sources: input.map(i => i.source) }, combineConfig(input.map(i => i.config), {\n            delay: 750,\n            markerFilter: null,\n            tooltipFilter: null\n        }));\n    },\n    enables: lintPlugin\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    return lintConfig.of({ source, config });\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n    let plugin = view.plugin(lintPlugin);\n    if (plugin)\n        plugin.force();\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.renderMessage ? diagnostic.renderMessage() : diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let click = (e) => {\n            e.preventDefault();\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            type: \"button\",\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            type: \"button\",\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= panel.top - sel.top;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += sel.bottom - panel.bottom;\n                }\n            });\n        }\n        else if (this.selectedIndex < 0) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.selectedIndex < 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction svg(content, attrs = `viewBox=\"0 0 40 40\"`) {\n    return `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${attrs}>${encodeURIComponent(content)}</svg>')`;\n}\nfunction underline(color) {\n    return svg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>`, `width=\"6\" height=\"3\"`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\",\n        paddingBottom: \"0.7px\",\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\nclass LintGutterMarker extends GutterMarker {\n    constructor(diagnostics) {\n        super();\n        this.diagnostics = diagnostics;\n        this.severity = diagnostics.reduce((max, d) => {\n            let s = d.severity;\n            return s == \"error\" || s == \"warning\" && max == \"info\" ? s : max;\n        }, \"info\");\n    }\n    toDOM(view) {\n        let elt = document.createElement(\"div\");\n        elt.className = \"cm-lint-marker cm-lint-marker-\" + this.severity;\n        let diagnostics = this.diagnostics;\n        let diagnosticsFilter = view.state.facet(lintGutterConfig).tooltipFilter;\n        if (diagnosticsFilter)\n            diagnostics = diagnosticsFilter(diagnostics);\n        if (diagnostics.length)\n            elt.onmouseover = () => gutterMarkerMouseOver(view, elt, diagnostics);\n        return elt;\n    }\n}\nfunction trackHoverOn(view, marker) {\n    let mousemove = (event) => {\n        let rect = marker.getBoundingClientRect();\n        if (event.clientX > rect.left - 10 /* Hover.Margin */ && event.clientX < rect.right + 10 /* Hover.Margin */ &&\n            event.clientY > rect.top - 10 /* Hover.Margin */ && event.clientY < rect.bottom + 10 /* Hover.Margin */)\n            return;\n        for (let target = event.target; target; target = target.parentNode) {\n            if (target.nodeType == 1 && target.classList.contains(\"cm-tooltip-lint\"))\n                return;\n        }\n        window.removeEventListener(\"mousemove\", mousemove);\n        if (view.state.field(lintGutterTooltip))\n            view.dispatch({ effects: setLintGutterTooltip.of(null) });\n    };\n    window.addEventListener(\"mousemove\", mousemove);\n}\nfunction gutterMarkerMouseOver(view, marker, diagnostics) {\n    function hovered() {\n        let line = view.elementAtHeight(marker.getBoundingClientRect().top + 5 - view.documentTop);\n        const linePos = view.coordsAtPos(line.from);\n        if (linePos) {\n            view.dispatch({ effects: setLintGutterTooltip.of({\n                    pos: line.from,\n                    above: false,\n                    create() {\n                        return {\n                            dom: diagnosticsTooltip(view, diagnostics),\n                            getCoords: () => marker.getBoundingClientRect()\n                        };\n                    }\n                }) });\n        }\n        marker.onmouseout = marker.onmousemove = null;\n        trackHoverOn(view, marker);\n    }\n    let { hoverTime } = view.state.facet(lintGutterConfig);\n    let hoverTimeout = setTimeout(hovered, hoverTime);\n    marker.onmouseout = () => {\n        clearTimeout(hoverTimeout);\n        marker.onmouseout = marker.onmousemove = null;\n    };\n    marker.onmousemove = () => {\n        clearTimeout(hoverTimeout);\n        hoverTimeout = setTimeout(hovered, hoverTime);\n    };\n}\nfunction markersForDiagnostics(doc, diagnostics) {\n    let byLine = Object.create(null);\n    for (let diagnostic of diagnostics) {\n        let line = doc.lineAt(diagnostic.from);\n        (byLine[line.from] || (byLine[line.from] = [])).push(diagnostic);\n    }\n    let markers = [];\n    for (let line in byLine) {\n        markers.push(new LintGutterMarker(byLine[line]).range(+line));\n    }\n    return RangeSet.of(markers, true);\n}\nconst lintGutterExtension = /*@__PURE__*/gutter({\n    class: \"cm-gutter-lint\",\n    markers: view => view.state.field(lintGutterMarkers),\n});\nconst lintGutterMarkers = /*@__PURE__*/StateField.define({\n    create() {\n        return RangeSet.empty;\n    },\n    update(markers, tr) {\n        markers = markers.map(tr.changes);\n        let diagnosticFilter = tr.state.facet(lintGutterConfig).markerFilter;\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                let diagnostics = effect.value;\n                if (diagnosticFilter)\n                    diagnostics = diagnosticFilter(diagnostics || []);\n                markers = markersForDiagnostics(tr.state.doc, diagnostics.slice(0));\n            }\n        }\n        return markers;\n    }\n});\nconst setLintGutterTooltip = /*@__PURE__*/StateEffect.define();\nconst lintGutterTooltip = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(tooltip, tr) {\n        if (tooltip && tr.docChanged)\n            tooltip = hideTooltip(tr, tooltip) ? null : Object.assign(Object.assign({}, tooltip), { pos: tr.changes.mapPos(tooltip.pos) });\n        return tr.effects.reduce((t, e) => e.is(setLintGutterTooltip) ? e.value : t, tooltip);\n    },\n    provide: field => showTooltip.from(field)\n});\nconst lintGutterTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutter-lint\": {\n        width: \"1.4em\",\n        \"& .cm-gutterElement\": {\n            padding: \".2em\"\n        }\n    },\n    \".cm-lint-marker\": {\n        width: \"1em\",\n        height: \"1em\"\n    },\n    \".cm-lint-marker-info\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#aaf\" stroke=\"#77e\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M5 5L35 5L35 35L5 35Z\"/>`)\n    },\n    \".cm-lint-marker-warning\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#fe8\" stroke=\"#fd7\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M20 6L37 35L3 35Z\"/>`),\n    },\n    \".cm-lint-marker-error\": {\n        content: /*@__PURE__*/svg(`<circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#f87\" stroke=\"#f43\" stroke-width=\"6\"/>`)\n    },\n});\nconst lintGutterConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            hoverTime: 300 /* Hover.Time */,\n            markerFilter: null,\n            tooltipFilter: null\n        });\n    }\n});\n/**\nReturns an extension that installs a gutter showing markers for\neach line that has diagnostics, which can be hovered over to see\nthe diagnostics.\n*/\nfunction lintGutter(config = {}) {\n    return [lintGutterConfig.of(config), lintGutterMarkers, lintGutterExtension, lintGutterTheme, lintGutterTooltip];\n}\n/**\nIterate over the marked diagnostics for the given editor state,\ncalling `f` for each of them. Note that, if the document changed\nsince the diagnostics werecreated, the `Diagnostic` object will\nhold the original outdated position, whereas the `to` and `from`\narguments hold the diagnostic's current position.\n*/\nfunction forEachDiagnostic(state, f) {\n    let lState = state.field(lintState, false);\n    if (lState && lState.diagnostics.size)\n        for (let iter = RangeSet.iter([lState.diagnostics]); iter.value; iter.next())\n            f(iter.value.spec.diagnostic, iter.from, iter.to);\n}\n\nexport { closeLintPanel, diagnosticCount, forEachDiagnostic, forceLinting, lintGutter, lintKeymap, linter, nextDiagnostic, openLintPanel, setDiagnostics, setDiagnosticsEffect };\n","import { lineNumbers, highlightActiveLineGutter, highlightSpecialChars, drawSelection, dropCursor, rectangularSelection, crosshairCursor, highlightActiveLine, keymap } from '@codemirror/view';\nexport { EditorView } from '@codemirror/view';\nimport { EditorState } from '@codemirror/state';\nimport { foldGutter, indentOnInput, syntaxHighlighting, defaultHighlightStyle, bracketMatching, foldKeymap } from '@codemirror/language';\nimport { history, defaultKeymap, historyKeymap } from '@codemirror/commands';\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\nimport { closeBrackets, autocompletion, closeBracketsKeymap, completionKeymap } from '@codemirror/autocomplete';\nimport { lintKeymap } from '@codemirror/lint';\n\n// (The superfluous function calls around the list of extensions work\n// around current limitations in tree-shaking software.)\n/**\nThis is an extension value that just pulls together a number of\nextensions that you might want in a basic editor. It is meant as a\nconvenient helper to quickly set up CodeMirror without installing\nand importing a lot of separate packages.\n\nSpecifically, it includes...\n\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n - [line numbers](https://codemirror.net/6/docs/ref/#view.lineNumbers)\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n - [the undo history](https://codemirror.net/6/docs/ref/#commands.history)\n - [a fold gutter](https://codemirror.net/6/docs/ref/#language.foldGutter)\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n - [drop cursor](https://codemirror.net/6/docs/ref/#view.dropCursor)\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n - [the default highlight style](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle) (as fallback)\n - [bracket matching](https://codemirror.net/6/docs/ref/#language.bracketMatching)\n - [bracket closing](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets)\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n - [rectangular selection](https://codemirror.net/6/docs/ref/#view.rectangularSelection) and [crosshair cursor](https://codemirror.net/6/docs/ref/#view.crosshairCursor)\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLineGutter)\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n(You'll probably want to add some language package to your setup\ntoo.)\n\nThis extension does not allow customization. The idea is that,\nonce you decide you want to configure your editor more precisely,\nyou take this package's source (which is just a bunch of imports\nand an array literal), copy it into your own code, and adjust it\nas desired.\n*/\nconst basicSetup = /*@__PURE__*/(() => [\n    lineNumbers(),\n    highlightActiveLineGutter(),\n    highlightSpecialChars(),\n    history(),\n    foldGutter(),\n    drawSelection(),\n    dropCursor(),\n    EditorState.allowMultipleSelections.of(true),\n    indentOnInput(),\n    syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n    bracketMatching(),\n    closeBrackets(),\n    autocompletion(),\n    rectangularSelection(),\n    crosshairCursor(),\n    highlightActiveLine(),\n    highlightSelectionMatches(),\n    keymap.of([\n        ...closeBracketsKeymap,\n        ...defaultKeymap,\n        ...searchKeymap,\n        ...historyKeymap,\n        ...foldKeymap,\n        ...completionKeymap,\n        ...lintKeymap\n    ])\n])();\n/**\nA minimal set of extensions to create a functional editor. Only\nincludes [the default keymap](https://codemirror.net/6/docs/ref/#commands.defaultKeymap), [undo\nhistory](https://codemirror.net/6/docs/ref/#commands.history), [special character\nhighlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars), [custom selection\ndrawing](https://codemirror.net/6/docs/ref/#view.drawSelection), and [default highlight\nstyle](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle).\n*/\nconst minimalSetup = /*@__PURE__*/(() => [\n    highlightSpecialChars(),\n    history(),\n    drawSelection(),\n    syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n    keymap.of([\n        ...defaultKeymap,\n        ...historyKeymap,\n    ])\n])();\n\nexport { basicSetup, minimalSetup };\n","function switchState(source, setState, f) {\n  setState(f);\n  return f(source, setState);\n}\n\n// These should all be Unicode extended, as per the Haskell 2010 report\nvar smallRE = /[a-z_]/;\nvar largeRE = /[A-Z]/;\nvar digitRE = /\\d/;\nvar hexitRE = /[0-9A-Fa-f]/;\nvar octitRE = /[0-7]/;\nvar idRE = /[a-z_A-Z0-9'\\xa1-\\uffff]/;\nvar symbolRE = /[-!#$%&*+.\\/<=>?@\\\\^|~:]/;\nvar specialRE = /[(),;[\\]`{}]/;\nvar whiteCharRE = /[ \\t\\v\\f]/; // newlines are handled in tokenizer\n\nfunction normal(source, setState) {\n  if (source.eatWhile(whiteCharRE)) {\n    return null;\n  }\n\n  var ch = source.next();\n  if (specialRE.test(ch)) {\n    if (ch == '{' && source.eat('-')) {\n      var t = \"comment\";\n      if (source.eat('#')) {\n        t = \"meta\";\n      }\n      return switchState(source, setState, ncomment(t, 1));\n    }\n    return null;\n  }\n\n  if (ch == '\\'') {\n    if (source.eat('\\\\')) {\n      source.next();  // should handle other escapes here\n    }\n    else {\n      source.next();\n    }\n    if (source.eat('\\'')) {\n      return \"string\";\n    }\n    return \"error\";\n  }\n\n  if (ch == '\"') {\n    return switchState(source, setState, stringLiteral);\n  }\n\n  if (largeRE.test(ch)) {\n    source.eatWhile(idRE);\n    if (source.eat('.')) {\n      return \"qualifier\";\n    }\n    return \"type\";\n  }\n\n  if (smallRE.test(ch)) {\n    source.eatWhile(idRE);\n    return \"variable\";\n  }\n\n  if (digitRE.test(ch)) {\n    if (ch == '0') {\n      if (source.eat(/[xX]/)) {\n        source.eatWhile(hexitRE); // should require at least 1\n        return \"integer\";\n      }\n      if (source.eat(/[oO]/)) {\n        source.eatWhile(octitRE); // should require at least 1\n        return \"number\";\n      }\n    }\n    source.eatWhile(digitRE);\n    var t = \"number\";\n    if (source.match(/^\\.\\d+/)) {\n      t = \"number\";\n    }\n    if (source.eat(/[eE]/)) {\n      t = \"number\";\n      source.eat(/[-+]/);\n      source.eatWhile(digitRE); // should require at least 1\n    }\n    return t;\n  }\n\n  if (ch == \".\" && source.eat(\".\"))\n    return \"keyword\";\n\n  if (symbolRE.test(ch)) {\n    if (ch == '-' && source.eat(/-/)) {\n      source.eatWhile(/-/);\n      if (!source.eat(symbolRE)) {\n        source.skipToEnd();\n        return \"comment\";\n      }\n    }\n    source.eatWhile(symbolRE);\n    return \"variable\"\n  }\n\n  return \"error\";\n}\n\nfunction ncomment(type, nest) {\n  if (nest == 0) {\n    return normal;\n  }\n  return function(source, setState) {\n    var currNest = nest;\n    while (!source.eol()) {\n      var ch = source.next();\n      if (ch == '{' && source.eat('-')) {\n        ++currNest;\n      }\n      else if (ch == '-' && source.eat('}')) {\n        --currNest;\n        if (currNest == 0) {\n          setState(normal);\n          return type;\n        }\n      }\n    }\n    setState(ncomment(type, currNest));\n    return type;\n  };\n}\n\nfunction stringLiteral(source, setState) {\n  while (!source.eol()) {\n    var ch = source.next();\n    if (ch == '\"') {\n      setState(normal);\n      return \"string\";\n    }\n    if (ch == '\\\\') {\n      if (source.eol() || source.eat(whiteCharRE)) {\n        setState(stringGap);\n        return \"string\";\n      }\n      if (source.eat('&')) {\n      }\n      else {\n        source.next(); // should handle other escapes here\n      }\n    }\n  }\n  setState(normal);\n  return \"error\";\n}\n\nfunction stringGap(source, setState) {\n  if (source.eat('\\\\')) {\n    return switchState(source, setState, stringLiteral);\n  }\n  source.next();\n  setState(normal);\n  return \"error\";\n}\n\n\nvar wellKnownWords = (function() {\n  var wkw = {};\n  function setType(t) {\n    return function () {\n      for (var i = 0; i < arguments.length; i++)\n        wkw[arguments[i]] = t;\n    };\n  }\n\n  setType(\"keyword\")(\n    \"case\", \"class\", \"data\", \"default\", \"deriving\", \"do\", \"else\", \"foreign\",\n    \"if\", \"import\", \"in\", \"infix\", \"infixl\", \"infixr\", \"instance\", \"let\",\n    \"module\", \"newtype\", \"of\", \"then\", \"type\", \"where\", \"_\");\n\n  setType(\"keyword\")(\n    \"\\.\\.\", \":\", \"::\", \"=\", \"\\\\\", \"<-\", \"->\", \"@\", \"~\", \"=>\");\n\n  setType(\"builtin\")(\n    \"!!\", \"$!\", \"$\", \"&&\", \"+\", \"++\", \"-\", \".\", \"/\", \"/=\", \"<\", \"<*\", \"<=\",\n    \"<$>\", \"<*>\", \"=<<\", \"==\", \">\", \">=\", \">>\", \">>=\", \"^\", \"^^\", \"||\", \"*\",\n    \"*>\", \"**\");\n\n  setType(\"builtin\")(\n    \"Applicative\", \"Bool\", \"Bounded\", \"Char\", \"Double\", \"EQ\", \"Either\", \"Enum\",\n    \"Eq\", \"False\", \"FilePath\", \"Float\", \"Floating\", \"Fractional\", \"Functor\",\n    \"GT\", \"IO\", \"IOError\", \"Int\", \"Integer\", \"Integral\", \"Just\", \"LT\", \"Left\",\n    \"Maybe\", \"Monad\", \"Nothing\", \"Num\", \"Ord\", \"Ordering\", \"Rational\", \"Read\",\n    \"ReadS\", \"Real\", \"RealFloat\", \"RealFrac\", \"Right\", \"Show\", \"ShowS\",\n    \"String\", \"True\");\n\n  setType(\"builtin\")(\n    \"abs\", \"acos\", \"acosh\", \"all\", \"and\", \"any\", \"appendFile\", \"asTypeOf\",\n    \"asin\", \"asinh\", \"atan\", \"atan2\", \"atanh\", \"break\", \"catch\", \"ceiling\",\n    \"compare\", \"concat\", \"concatMap\", \"const\", \"cos\", \"cosh\", \"curry\",\n    \"cycle\", \"decodeFloat\", \"div\", \"divMod\", \"drop\", \"dropWhile\", \"either\",\n    \"elem\", \"encodeFloat\", \"enumFrom\", \"enumFromThen\", \"enumFromThenTo\",\n    \"enumFromTo\", \"error\", \"even\", \"exp\", \"exponent\", \"fail\", \"filter\",\n    \"flip\", \"floatDigits\", \"floatRadix\", \"floatRange\", \"floor\", \"fmap\",\n    \"foldl\", \"foldl1\", \"foldr\", \"foldr1\", \"fromEnum\", \"fromInteger\",\n    \"fromIntegral\", \"fromRational\", \"fst\", \"gcd\", \"getChar\", \"getContents\",\n    \"getLine\", \"head\", \"id\", \"init\", \"interact\", \"ioError\", \"isDenormalized\",\n    \"isIEEE\", \"isInfinite\", \"isNaN\", \"isNegativeZero\", \"iterate\", \"last\",\n    \"lcm\", \"length\", \"lex\", \"lines\", \"log\", \"logBase\", \"lookup\", \"map\",\n    \"mapM\", \"mapM_\", \"max\", \"maxBound\", \"maximum\", \"maybe\", \"min\", \"minBound\",\n    \"minimum\", \"mod\", \"negate\", \"not\", \"notElem\", \"null\", \"odd\", \"or\",\n    \"otherwise\", \"pi\", \"pred\", \"print\", \"product\", \"properFraction\", \"pure\",\n    \"putChar\", \"putStr\", \"putStrLn\", \"quot\", \"quotRem\", \"read\", \"readFile\",\n    \"readIO\", \"readList\", \"readLn\", \"readParen\", \"reads\", \"readsPrec\",\n    \"realToFrac\", \"recip\", \"rem\", \"repeat\", \"replicate\", \"return\", \"reverse\",\n    \"round\", \"scaleFloat\", \"scanl\", \"scanl1\", \"scanr\", \"scanr1\", \"seq\",\n    \"sequence\", \"sequence_\", \"show\", \"showChar\", \"showList\", \"showParen\",\n    \"showString\", \"shows\", \"showsPrec\", \"significand\", \"signum\", \"sin\",\n    \"sinh\", \"snd\", \"span\", \"splitAt\", \"sqrt\", \"subtract\", \"succ\", \"sum\",\n    \"tail\", \"take\", \"takeWhile\", \"tan\", \"tanh\", \"toEnum\", \"toInteger\",\n    \"toRational\", \"truncate\", \"uncurry\", \"undefined\", \"unlines\", \"until\",\n    \"unwords\", \"unzip\", \"unzip3\", \"userError\", \"words\", \"writeFile\", \"zip\",\n    \"zip3\", \"zipWith\", \"zipWith3\");\n\n  return wkw;\n})();\n\nexport const haskell = {\n  name: \"haskell\",\n  startState: function ()  { return { f: normal }; },\n  copyState:  function (s) { return { f: s.f }; },\n\n  token: function(stream, state) {\n    var t = state.f(stream, function(s) { state.f = s; });\n    var w = stream.current();\n    return wellKnownWords.hasOwnProperty(w) ? wellKnownWords[w] : t;\n  },\n\n  languageData: {\n    commentTokens: {line: \"--\", block: {open: \"{-\", close: \"-}\"}}\n  }\n};\n","import { EditorView } from '@codemirror/view';\nimport { HighlightStyle, syntaxHighlighting } from '@codemirror/language';\nimport { tags } from '@lezer/highlight';\n\n// Using https://github.com/one-dark/vscode-one-dark-theme/ as reference for the colors\nconst chalky = \"#e5c07b\", coral = \"#e06c75\", cyan = \"#56b6c2\", invalid = \"#ffffff\", ivory = \"#abb2bf\", stone = \"#7d8799\", // Brightened compared to original to increase contrast\nmalibu = \"#61afef\", sage = \"#98c379\", whiskey = \"#d19a66\", violet = \"#c678dd\", darkBackground = \"#21252b\", highlightBackground = \"#2c313a\", background = \"#282c34\", tooltipBackground = \"#353a42\", selection = \"#3E4451\", cursor = \"#528bff\";\n/**\nThe colors used in the theme, as CSS color strings.\n*/\nconst color = {\n    chalky,\n    coral,\n    cyan,\n    invalid,\n    ivory,\n    stone,\n    malibu,\n    sage,\n    whiskey,\n    violet,\n    darkBackground,\n    highlightBackground,\n    background,\n    tooltipBackground,\n    selection,\n    cursor\n};\n/**\nThe editor theme styles for One Dark.\n*/\nconst oneDarkTheme = /*@__PURE__*/EditorView.theme({\n    \"&\": {\n        color: ivory,\n        backgroundColor: background\n    },\n    \".cm-content\": {\n        caretColor: cursor\n    },\n    \".cm-cursor, .cm-dropCursor\": { borderLeftColor: cursor },\n    \"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection\": { backgroundColor: selection },\n    \".cm-panels\": { backgroundColor: darkBackground, color: ivory },\n    \".cm-panels.cm-panels-top\": { borderBottom: \"2px solid black\" },\n    \".cm-panels.cm-panels-bottom\": { borderTop: \"2px solid black\" },\n    \".cm-searchMatch\": {\n        backgroundColor: \"#72a1ff59\",\n        outline: \"1px solid #457dff\"\n    },\n    \".cm-searchMatch.cm-searchMatch-selected\": {\n        backgroundColor: \"#6199ff2f\"\n    },\n    \".cm-activeLine\": { backgroundColor: \"#6699ff0b\" },\n    \".cm-selectionMatch\": { backgroundColor: \"#aafe661a\" },\n    \"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket\": {\n        backgroundColor: \"#bad0f847\",\n        outline: \"1px solid #515a6b\"\n    },\n    \".cm-gutters\": {\n        backgroundColor: background,\n        color: stone,\n        border: \"none\"\n    },\n    \".cm-activeLineGutter\": {\n        backgroundColor: highlightBackground\n    },\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"transparent\",\n        border: \"none\",\n        color: \"#ddd\"\n    },\n    \".cm-tooltip\": {\n        border: \"none\",\n        backgroundColor: tooltipBackground\n    },\n    \".cm-tooltip .cm-tooltip-arrow:before\": {\n        borderTopColor: \"transparent\",\n        borderBottomColor: \"transparent\"\n    },\n    \".cm-tooltip .cm-tooltip-arrow:after\": {\n        borderTopColor: tooltipBackground,\n        borderBottomColor: tooltipBackground\n    },\n    \".cm-tooltip-autocomplete\": {\n        \"& > ul > li[aria-selected]\": {\n            backgroundColor: highlightBackground,\n            color: ivory\n        }\n    }\n}, { dark: true });\n/**\nThe highlighting style for code in the One Dark theme.\n*/\nconst oneDarkHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.keyword,\n        color: violet },\n    { tag: [tags.name, tags.deleted, tags.character, tags.propertyName, tags.macroName],\n        color: coral },\n    { tag: [/*@__PURE__*/tags.function(tags.variableName), tags.labelName],\n        color: malibu },\n    { tag: [tags.color, /*@__PURE__*/tags.constant(tags.name), /*@__PURE__*/tags.standard(tags.name)],\n        color: whiskey },\n    { tag: [/*@__PURE__*/tags.definition(tags.name), tags.separator],\n        color: ivory },\n    { tag: [tags.typeName, tags.className, tags.number, tags.changed, tags.annotation, tags.modifier, tags.self, tags.namespace],\n        color: chalky },\n    { tag: [tags.operator, tags.operatorKeyword, tags.url, tags.escape, tags.regexp, tags.link, /*@__PURE__*/tags.special(tags.string)],\n        color: cyan },\n    { tag: [tags.meta, tags.comment],\n        color: stone },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.link,\n        color: stone,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        fontWeight: \"bold\",\n        color: coral },\n    { tag: [tags.atom, tags.bool, /*@__PURE__*/tags.special(tags.variableName)],\n        color: whiskey },\n    { tag: [tags.processingInstruction, tags.string, tags.inserted],\n        color: sage },\n    { tag: tags.invalid,\n        color: invalid },\n]);\n/**\nExtension to enable the One Dark theme (both the editor theme and\nthe highlight style).\n*/\nconst oneDark = [oneDarkTheme, /*@__PURE__*/syntaxHighlighting(oneDarkHighlightStyle)];\n\nexport { color, oneDark, oneDarkHighlightStyle, oneDarkTheme };\n","import { EditorSelection, MapMode, Prec, RangeSetBuilder, StateEffect, StateField } from '@codemirror/state';\nimport { foldCode, matchBrackets, indentUnit, ensureSyntaxTree, StringStream } from '@codemirror/language';\nimport { EditorView, Direction, ViewPlugin, Decoration, showPanel } from '@codemirror/view';\nimport { SearchQuery, setSearchQuery, RegExpCursor } from '@codemirror/search';\nimport { indentMore, indentLess, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorCharBackward, cursorCharLeft, insertNewlineAndIndent, indentSelection, deleteCharBackward, deleteCharForward, undo, redo } from '@codemirror/commands';\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n/**\n * Supported keybindings:\n *   Too many to list. Refer to defaultKeymap below.\n *\n * Supported Ex commands:\n *   Refer to defaultExCommandMap below.\n *\n * Registers: unnamed, -, ., :, /, _, a-z, A-Z, 0-9\n *   (Does not respect the special case for number registers when delete\n *    operator is made with these commands: %, (, ),  , /, ?, n, N, {, } )\n *   TODO: Implement the remaining registers.\n *\n * Marks: a-z, A-Z, and 0-9\n *   TODO: Implement the remaining special marks. They have more complex\n *       behavior.\n *\n * Events:\n *  'vim-mode-change' - raised on the editor anytime the current mode changes,\n *                      Event object: {mode: \"visual\", subMode: \"linewise\"}\n *\n * Code structure:\n *  1. Default keymap\n *  2. Variable declarations and short basic helpers\n *  3. Instance (External API) implementation\n *  4. Internal state tracking objects (input state, counter) implementation\n *     and instantiation\n *  5. Key handler (the main command dispatcher) implementation\n *  6. Motion, operator, and action implementations\n *  7. Helper functions for the key handler, motions, operators, and actions\n *  8. Set up Vim to work as a keymap for CodeMirror.\n *  9. Ex command implementations.\n */\n\nfunction initVim(CodeMirror) {\n\n  var Pos = CodeMirror.Pos;\n\n  function transformCursor(cm, range) {\n    var vim = cm.state.vim;\n    if (!vim || vim.insertMode) return range.head;\n    var head = vim.sel.head;\n    if (!head)  return range.head;\n\n    if (vim.visualBlock) {\n      if (range.head.line != head.line) {\n        return;\n      }\n    }\n    if (range.from() == range.anchor && !range.empty()) {\n      if (range.head.line == head.line && range.head.ch != head.ch)\n        return new Pos(range.head.line, range.head.ch - 1);\n    }\n\n    return range.head;\n  }\n\n  function updateSelectionForSurrogateCharacters(cm, curStart, curEnd) {\n    // start and character position when no selection \n    // is the same in visual mode, and differs in 1 character in normal mode\n    if (curStart.line === curEnd.line && curStart.ch >= curEnd.ch - 1) {\n      var text = cm.getLine(curStart.line);\n      var charCode = text.charCodeAt(curStart.ch);\n      if (0xD800 <= charCode && charCode <= 0xD8FF) {\n        curEnd.ch += 1;\n      }\n    }\n\n    return {start: curStart, end: curEnd};\n  }\n\n  var defaultKeymap = [\n    // Key to key mapping. This goes first to make it possible to override\n    // existing mappings.\n    { keys: '<Left>', type: 'keyToKey', toKeys: 'h' },\n    { keys: '<Right>', type: 'keyToKey', toKeys: 'l' },\n    { keys: '<Up>', type: 'keyToKey', toKeys: 'k' },\n    { keys: '<Down>', type: 'keyToKey', toKeys: 'j' },\n    { keys: 'g<Up>', type: 'keyToKey', toKeys: 'gk' },\n    { keys: 'g<Down>', type: 'keyToKey', toKeys: 'gj' },\n    { keys: '<Space>', type: 'keyToKey', toKeys: 'l' },\n    { keys: '<BS>', type: 'keyToKey', toKeys: 'h', context: 'normal'},\n    { keys: '<Del>', type: 'keyToKey', toKeys: 'x', context: 'normal'},\n    { keys: '<C-Space>', type: 'keyToKey', toKeys: 'W' },\n    { keys: '<C-BS>', type: 'keyToKey', toKeys: 'B', context: 'normal' },\n    { keys: '<S-Space>', type: 'keyToKey', toKeys: 'w' },\n    { keys: '<S-BS>', type: 'keyToKey', toKeys: 'b', context: 'normal' },\n    { keys: '<C-n>', type: 'keyToKey', toKeys: 'j' },\n    { keys: '<C-p>', type: 'keyToKey', toKeys: 'k' },\n    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>' },\n    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>' },\n    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: '<C-Esc>', type: 'keyToKey', toKeys: '<Esc>' }, // ipad keyboard sends C-Esc instead of C-[\n    { keys: '<C-Esc>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: 's', type: 'keyToKey', toKeys: 'cl', context: 'normal' },\n    { keys: 's', type: 'keyToKey', toKeys: 'c', context: 'visual'},\n    { keys: 'S', type: 'keyToKey', toKeys: 'cc', context: 'normal' },\n    { keys: 'S', type: 'keyToKey', toKeys: 'VdO', context: 'visual' },\n    { keys: '<Home>', type: 'keyToKey', toKeys: '0' },\n    { keys: '<End>', type: 'keyToKey', toKeys: '$' },\n    { keys: '<PageUp>', type: 'keyToKey', toKeys: '<C-b>' },\n    { keys: '<PageDown>', type: 'keyToKey', toKeys: '<C-f>' },\n    { keys: '<CR>', type: 'keyToKey', toKeys: 'j^', context: 'normal' },\n    { keys: '<Ins>', type: 'keyToKey', toKeys: 'i', context: 'normal'},\n    { keys: '<Ins>', type: 'action', action: 'toggleOverwrite', context: 'insert' },\n    // Motions\n    { keys: 'H', type: 'motion', motion: 'moveToTopLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'M', type: 'motion', motion: 'moveToMiddleLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'L', type: 'motion', motion: 'moveToBottomLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'h', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: false }},\n    { keys: 'l', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: true }},\n    { keys: 'j', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, linewise: true }},\n    { keys: 'k', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, linewise: true }},\n    { keys: 'gj', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: true }},\n    { keys: 'gk', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: false }},\n    { keys: 'w', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false }},\n    { keys: 'W', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false, bigWord: true }},\n    { keys: 'e', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, inclusive: true }},\n    { keys: 'E', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, bigWord: true, inclusive: true }},\n    { keys: 'b', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }},\n    { keys: 'B', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false, bigWord: true }},\n    { keys: 'ge', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, inclusive: true }},\n    { keys: 'gE', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, bigWord: true, inclusive: true }},\n    { keys: '{', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: false, toJumplist: true }},\n    { keys: '}', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: true, toJumplist: true }},\n    { keys: '(', type: 'motion', motion: 'moveBySentence', motionArgs: { forward: false }},\n    { keys: ')', type: 'motion', motion: 'moveBySentence', motionArgs: { forward: true }},\n    { keys: '<C-f>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: true }},\n    { keys: '<C-b>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: false }},\n    { keys: '<C-d>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: true, explicitRepeat: true }},\n    { keys: '<C-u>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: false, explicitRepeat: true }},\n    { keys: 'gg', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: false, explicitRepeat: true, linewise: true, toJumplist: true }},\n    { keys: 'G', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: true, explicitRepeat: true, linewise: true, toJumplist: true }},\n    {keys: \"g$\", type: \"motion\", motion: \"moveToEndOfDisplayLine\"},\n    {keys: \"g^\", type: \"motion\", motion: \"moveToStartOfDisplayLine\"},\n    {keys: \"g0\", type: \"motion\", motion: \"moveToStartOfDisplayLine\"},\n    { keys: '0', type: 'motion', motion: 'moveToStartOfLine' },\n    { keys: '^', type: 'motion', motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: '+', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true }},\n    { keys: '-', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, toFirstChar:true }},\n    { keys: '_', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true, repeatOffset:-1 }},\n    { keys: '$', type: 'motion', motion: 'moveToEol', motionArgs: { inclusive: true }},\n    { keys: '%', type: 'motion', motion: 'moveToMatchedSymbol', motionArgs: { inclusive: true, toJumplist: true }},\n    { keys: 'f<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: true , inclusive: true }},\n    { keys: 'F<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: false }},\n    { keys: 't<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: true, inclusive: true }},\n    { keys: 'T<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: false }},\n    { keys: ';', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: true }},\n    { keys: ',', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: false }},\n    { keys: '\\'<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true, linewise: true}},\n    { keys: '`<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true}},\n    { keys: ']`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true } },\n    { keys: '[`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false } },\n    { keys: ']\\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true, linewise: true } },\n    { keys: '[\\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false, linewise: true } },\n    // the next two aren't motions but must come before more general motion declarations\n    { keys: ']p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true, matchIndent: true}},\n    { keys: '[p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true, matchIndent: true}},\n    { keys: ']<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: true, toJumplist: true}},\n    { keys: '[<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: false, toJumplist: true}},\n    { keys: '|', type: 'motion', motion: 'moveToColumn'},\n    { keys: 'o', type: 'motion', motion: 'moveToOtherHighlightedEnd', context:'visual'},\n    { keys: 'O', type: 'motion', motion: 'moveToOtherHighlightedEnd', motionArgs: {sameLine: true}, context:'visual'},\n    // Operators\n    { keys: 'd', type: 'operator', operator: 'delete' },\n    { keys: 'y', type: 'operator', operator: 'yank' },\n    { keys: 'c', type: 'operator', operator: 'change' },\n    { keys: '=', type: 'operator', operator: 'indentAuto' },\n    { keys: '>', type: 'operator', operator: 'indent', operatorArgs: { indentRight: true }},\n    { keys: '<', type: 'operator', operator: 'indent', operatorArgs: { indentRight: false }},\n    { keys: 'g~', type: 'operator', operator: 'changeCase' },\n    { keys: 'gu', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, isEdit: true },\n    { keys: 'gU', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, isEdit: true },\n    { keys: 'n', type: 'motion', motion: 'findNext', motionArgs: { forward: true, toJumplist: true }},\n    { keys: 'N', type: 'motion', motion: 'findNext', motionArgs: { forward: false, toJumplist: true }},\n    { keys: 'gn', type: 'motion', motion: 'findAndSelectNextInclusive', motionArgs: { forward: true }},\n    { keys: 'gN', type: 'motion', motion: 'findAndSelectNextInclusive', motionArgs: { forward: false }},\n    // Operator-Motion dual commands\n    { keys: 'x', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorMotionArgs: { visualLine: false }},\n    { keys: 'X', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: false }, operatorMotionArgs: { visualLine: true }},\n    { keys: 'D', type: 'operatorMotion', operator: 'delete', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'D', type: 'operator', operator: 'delete', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: 'Y', type: 'operatorMotion', operator: 'yank', motion: 'expandToLine', motionArgs: { linewise: true }, context: 'normal'},\n    { keys: 'Y', type: 'operator', operator: 'yank', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: 'C', type: 'operatorMotion', operator: 'change', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'C', type: 'operator', operator: 'change', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: '~', type: 'operatorMotion', operator: 'changeCase', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorArgs: { shouldMoveCursor: true }, context: 'normal'},\n    { keys: '~', type: 'operator', operator: 'changeCase', context: 'visual'},\n    { keys: '<C-u>', type: 'operatorMotion', operator: 'delete', motion: 'moveToStartOfLine', context: 'insert' },\n    { keys: '<C-w>', type: 'operatorMotion', operator: 'delete', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }, context: 'insert' },\n    //ignore C-w in normal mode\n    { keys: '<C-w>', type: 'idle', context: 'normal' },\n    // Actions\n    { keys: '<C-i>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: true }},\n    { keys: '<C-o>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: false }},\n    { keys: '<C-e>', type: 'action', action: 'scroll', actionArgs: { forward: true, linewise: true }},\n    { keys: '<C-y>', type: 'action', action: 'scroll', actionArgs: { forward: false, linewise: true }},\n    { keys: 'a', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'charAfter' }, context: 'normal' },\n    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'eol' }, context: 'normal' },\n    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'endOfSelectedArea' }, context: 'visual' },\n    { keys: 'i', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'inplace' }, context: 'normal' },\n    { keys: 'gi', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'lastEdit' }, context: 'normal' },\n    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'firstNonBlank'}, context: 'normal' },\n    { keys: 'gI', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'bol'}, context: 'normal' },\n    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'startOfSelectedArea' }, context: 'visual' },\n    { keys: 'o', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: true }, context: 'normal' },\n    { keys: 'O', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: false }, context: 'normal' },\n    { keys: 'v', type: 'action', action: 'toggleVisualMode' },\n    { keys: 'V', type: 'action', action: 'toggleVisualMode', actionArgs: { linewise: true }},\n    { keys: '<C-v>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},\n    { keys: '<C-q>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},\n    { keys: 'gv', type: 'action', action: 'reselectLastSelection' },\n    { keys: 'J', type: 'action', action: 'joinLines', isEdit: true },\n    { keys: 'gJ', type: 'action', action: 'joinLines', actionArgs: { keepSpaces: true }, isEdit: true },\n    { keys: 'p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true }},\n    { keys: 'P', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true }},\n    { keys: 'r<character>', type: 'action', action: 'replace', isEdit: true },\n    { keys: '@<character>', type: 'action', action: 'replayMacro' },\n    { keys: 'q<character>', type: 'action', action: 'enterMacroRecordMode' },\n    // Handle Replace-mode as a special case of insert mode.\n    { keys: 'R', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { replace: true }, context: 'normal'},\n    { keys: 'R', type: 'operator', operator: 'change', operatorArgs: { linewise: true, fullLine: true }, context: 'visual', exitVisualBlock: true},\n    { keys: 'u', type: 'action', action: 'undo', context: 'normal' },\n    { keys: 'u', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, context: 'visual', isEdit: true },\n    { keys: 'U', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, context: 'visual', isEdit: true },\n    { keys: '<C-r>', type: 'action', action: 'redo' },\n    { keys: 'm<character>', type: 'action', action: 'setMark' },\n    { keys: '\"<character>', type: 'action', action: 'setRegister' },\n    { keys: '<C-r><character>', type: 'action', action: 'insertRegister', context: 'insert', isEdit: true },\n    { keys: 'zz', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }},\n    { keys: 'z.', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: 'zt', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }},\n    { keys: 'z<CR>', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: 'zb', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }},\n    { keys: 'z-', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: '.', type: 'action', action: 'repeatLastEdit' },\n    { keys: '<C-a>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: true, backtrack: false}},\n    { keys: '<C-x>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: false, backtrack: false}},\n    { keys: '<C-t>', type: 'action', action: 'indent', actionArgs: { indentRight: true }, context: 'insert' },\n    { keys: '<C-d>', type: 'action', action: 'indent', actionArgs: { indentRight: false }, context: 'insert' },\n    // Text object motions\n    { keys: 'a<character>', type: 'motion', motion: 'textObjectManipulation' },\n    { keys: 'i<character>', type: 'motion', motion: 'textObjectManipulation', motionArgs: { textObjectInner: true }},\n    // Search\n    { keys: '/', type: 'search', searchArgs: { forward: true, querySrc: 'prompt', toJumplist: true }},\n    { keys: '?', type: 'search', searchArgs: { forward: false, querySrc: 'prompt', toJumplist: true }},\n    { keys: '*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},\n    { keys: '#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},\n    { keys: 'g*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', toJumplist: true }},\n    { keys: 'g#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', toJumplist: true }},\n    // Ex command\n    { keys: ':', type: 'ex' }\n  ];\n  var defaultKeymapLength = defaultKeymap.length;\n\n  /**\n   * Ex commands\n   * Care must be taken when adding to the default Ex command map. For any\n   * pair of commands that have a shared prefix, at least one of their\n   * shortNames must not match the prefix of the other command.\n   */\n  var defaultExCommandMap = [\n    { name: 'colorscheme', shortName: 'colo' },\n    { name: 'map' },\n    { name: 'imap', shortName: 'im' },\n    { name: 'nmap', shortName: 'nm' },\n    { name: 'vmap', shortName: 'vm' },\n    { name: 'unmap' },\n    { name: 'write', shortName: 'w' },\n    { name: 'undo', shortName: 'u' },\n    { name: 'redo', shortName: 'red' },\n    { name: 'set', shortName: 'se' },\n    { name: 'setlocal', shortName: 'setl' },\n    { name: 'setglobal', shortName: 'setg' },\n    { name: 'sort', shortName: 'sor' },\n    { name: 'substitute', shortName: 's', possiblyAsync: true },\n    { name: 'nohlsearch', shortName: 'noh' },\n    { name: 'yank', shortName: 'y' },\n    { name: 'delmarks', shortName: 'delm' },\n    { name: 'registers', shortName: 'reg', excludeFromCommandHistory: true },\n    { name: 'vglobal', shortName: 'v' },\n    { name: 'global', shortName: 'g' }\n  ];\n\n    function enterVimMode(cm) {\n      cm.setOption('disableInput', true);\n      cm.setOption('showCursorWhenSelecting', false);\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      cm.on('cursorActivity', onCursorActivity);\n      maybeInitVimState(cm);\n      CodeMirror.on(cm.getInputField(), 'paste', getOnPasteFn(cm));\n    }\n\n    function leaveVimMode(cm) {\n      cm.setOption('disableInput', false);\n      cm.off('cursorActivity', onCursorActivity);\n      CodeMirror.off(cm.getInputField(), 'paste', getOnPasteFn(cm));\n      cm.state.vim = null;\n      if (highlightTimeout) clearTimeout(highlightTimeout);\n    }\n\n    function detachVimMap(cm, next) {\n      if (this == CodeMirror.keyMap.vim) {\n        cm.options.$customCursor = null;\n        CodeMirror.rmClass(cm.getWrapperElement(), \"cm-fat-cursor\");\n      }\n\n      if (!next || next.attach != attachVimMap)\n        leaveVimMode(cm);\n    }\n    function attachVimMap(cm, prev) {\n      if (this == CodeMirror.keyMap.vim) {\n        if (cm.curOp) cm.curOp.selectionChanged = true;\n        cm.options.$customCursor = transformCursor;\n        CodeMirror.addClass(cm.getWrapperElement(), \"cm-fat-cursor\");\n      }\n\n      if (!prev || prev.attach != attachVimMap)\n        enterVimMode(cm);\n    }\n\n    // Deprecated, simply setting the keymap works again.\n    CodeMirror.defineOption('vimMode', false, function(cm, val, prev) {\n      if (val && cm.getOption(\"keyMap\") != \"vim\")\n        cm.setOption(\"keyMap\", \"vim\");\n      else if (!val && prev != CodeMirror.Init && /^vim/.test(cm.getOption(\"keyMap\")))\n        cm.setOption(\"keyMap\", \"default\");\n    });\n\n    function cmKey(key, cm) {\n      if (!cm) { return undefined; }\n      if (this[key]) { return this[key]; }\n      var vimKey = cmKeyToVimKey(key);\n      if (!vimKey) {\n        return false;\n      }\n      var cmd = vimApi.findKey(cm, vimKey);\n      if (typeof cmd == 'function') {\n        CodeMirror.signal(cm, 'vim-keypress', vimKey);\n      }\n      return cmd;\n    }\n\n    var modifiers = {Shift:'S',Ctrl:'C',Alt:'A',Cmd:'D',Mod:'A',CapsLock:''};\n    var specialKeys = {Enter:'CR',Backspace:'BS',Delete:'Del',Insert:'Ins'};\n    function cmKeyToVimKey(key) {\n      if (key.charAt(0) == '\\'') {\n        // Keypress character binding of format \"'a'\"\n        return key.charAt(1);\n      }\n      var pieces = key.split(/-(?!$)/);\n      var lastPiece = pieces[pieces.length - 1];\n      if (pieces.length == 1 && pieces[0].length == 1) {\n        // No-modifier bindings use literal character bindings above. Skip.\n        return false;\n      } else if (pieces.length == 2 && pieces[0] == 'Shift' && lastPiece.length == 1) {\n        // Ignore Shift+char bindings as they should be handled by literal character.\n        return false;\n      }\n      var hasCharacter = false;\n      for (var i = 0; i < pieces.length; i++) {\n        var piece = pieces[i];\n        if (piece in modifiers) { pieces[i] = modifiers[piece]; }\n        else { hasCharacter = true; }\n        if (piece in specialKeys) { pieces[i] = specialKeys[piece]; }\n      }\n      if (!hasCharacter) {\n        // Vim does not support modifier only keys.\n        return false;\n      }\n      // TODO: Current bindings expect the character to be lower case, but\n      // it looks like vim key notation uses upper case.\n      if (isUpperCase(lastPiece)) {\n        pieces[pieces.length - 1] = lastPiece.toLowerCase();\n      }\n      return '<' + pieces.join('-') + '>';\n    }\n\n    function getOnPasteFn(cm) {\n      var vim = cm.state.vim;\n      if (!vim.onPasteFn) {\n        vim.onPasteFn = function() {\n          if (!vim.insertMode) {\n            cm.setCursor(offsetCursor(cm.getCursor(), 0, 1));\n            actions.enterInsertMode(cm, {}, vim);\n          }\n        };\n      }\n      return vim.onPasteFn;\n    }\n\n    var numberRegex = /[\\d]/;\n    var wordCharTest = [CodeMirror.isWordChar, function(ch) {\n      return ch && !CodeMirror.isWordChar(ch) && !/\\s/.test(ch);\n    }], bigWordCharTest = [function(ch) {\n      return /\\S/.test(ch);\n    }];\n    function makeKeyRange(start, size) {\n      var keys = [];\n      for (var i = start; i < start + size; i++) {\n        keys.push(String.fromCharCode(i));\n      }\n      return keys;\n    }\n    var upperCaseAlphabet = makeKeyRange(65, 26);\n    var lowerCaseAlphabet = makeKeyRange(97, 26);\n    var numbers = makeKeyRange(48, 10);\n    var validMarks = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['<', '>']);\n    var validRegisters = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['-', '\"', '.', ':', '_', '/', '+']);\n    var upperCaseChars;\n    try { upperCaseChars = new RegExp(\"^[\\\\p{Lu}]$\", \"u\"); }\n    catch (_) { upperCaseChars = /^[A-Z]$/; }\n\n    function isLine(cm, line) {\n      return line >= cm.firstLine() && line <= cm.lastLine();\n    }\n    function isLowerCase(k) {\n      return (/^[a-z]$/).test(k);\n    }\n    function isMatchableSymbol(k) {\n      return '()[]{}'.indexOf(k) != -1;\n    }\n    function isNumber(k) {\n      return numberRegex.test(k);\n    }\n    function isUpperCase(k) {\n      return upperCaseChars.test(k);\n    }\n    function isWhiteSpaceString(k) {\n      return (/^\\s*$/).test(k);\n    }\n    function isEndOfSentenceSymbol(k) {\n      return '.?!'.indexOf(k) != -1;\n    }\n    function inArray(val, arr) {\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] == val) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    var options = {};\n    function defineOption(name, defaultValue, type, aliases, callback) {\n      if (defaultValue === undefined && !callback) {\n        throw Error('defaultValue is required unless callback is provided');\n      }\n      if (!type) { type = 'string'; }\n      options[name] = {\n        type: type,\n        defaultValue: defaultValue,\n        callback: callback\n      };\n      if (aliases) {\n        for (var i = 0; i < aliases.length; i++) {\n          options[aliases[i]] = options[name];\n        }\n      }\n      if (defaultValue) {\n        setOption(name, defaultValue);\n      }\n    }\n\n    function setOption(name, value, cm, cfg) {\n      var option = options[name];\n      cfg = cfg || {};\n      var scope = cfg.scope;\n      if (!option) {\n        return new Error('Unknown option: ' + name);\n      }\n      if (option.type == 'boolean') {\n        if (value && value !== true) {\n          return new Error('Invalid argument: ' + name + '=' + value);\n        } else if (value !== false) {\n          // Boolean options are set to true if value is not defined.\n          value = true;\n        }\n      }\n      if (option.callback) {\n        if (scope !== 'local') {\n          option.callback(value, undefined);\n        }\n        if (scope !== 'global' && cm) {\n          option.callback(value, cm);\n        }\n      } else {\n        if (scope !== 'local') {\n          option.value = option.type == 'boolean' ? !!value : value;\n        }\n        if (scope !== 'global' && cm) {\n          cm.state.vim.options[name] = {value: value};\n        }\n      }\n    }\n\n    function getOption(name, cm, cfg) {\n      var option = options[name];\n      cfg = cfg || {};\n      var scope = cfg.scope;\n      if (!option) {\n        return new Error('Unknown option: ' + name);\n      }\n      if (option.callback) {\n        var local = cm && option.callback(undefined, cm);\n        if (scope !== 'global' && local !== undefined) {\n          return local;\n        }\n        if (scope !== 'local') {\n          return option.callback();\n        }\n        return;\n      } else {\n        var local = (scope !== 'global') && (cm && cm.state.vim.options[name]);\n        return (local || (scope !== 'local') && option || {}).value;\n      }\n    }\n\n    defineOption('filetype', undefined, 'string', ['ft'], function(name, cm) {\n      // Option is local. Do nothing for global.\n      if (cm === undefined) {\n        return;\n      }\n      // The 'filetype' option proxies to the CodeMirror 'mode' option.\n      if (name === undefined) {\n        var mode = cm.getOption('mode');\n        return mode == 'null' ? '' : mode;\n      } else {\n        var mode = name == '' ? 'null' : name;\n        cm.setOption('mode', mode);\n      }\n    });\n\n    var createCircularJumpList = function() {\n      var size = 100;\n      var pointer = -1;\n      var head = 0;\n      var tail = 0;\n      var buffer = new Array(size);\n      function add(cm, oldCur, newCur) {\n        var current = pointer % size;\n        var curMark = buffer[current];\n        function useNextSlot(cursor) {\n          var next = ++pointer % size;\n          var trashMark = buffer[next];\n          if (trashMark) {\n            trashMark.clear();\n          }\n          buffer[next] = cm.setBookmark(cursor);\n        }\n        if (curMark) {\n          var markPos = curMark.find();\n          // avoid recording redundant cursor position\n          if (markPos && !cursorEqual(markPos, oldCur)) {\n            useNextSlot(oldCur);\n          }\n        } else {\n          useNextSlot(oldCur);\n        }\n        useNextSlot(newCur);\n        head = pointer;\n        tail = pointer - size + 1;\n        if (tail < 0) {\n          tail = 0;\n        }\n      }\n      function move(cm, offset) {\n        pointer += offset;\n        if (pointer > head) {\n          pointer = head;\n        } else if (pointer < tail) {\n          pointer = tail;\n        }\n        var mark = buffer[(size + pointer) % size];\n        // skip marks that are temporarily removed from text buffer\n        if (mark && !mark.find()) {\n          var inc = offset > 0 ? 1 : -1;\n          var newCur;\n          var oldCur = cm.getCursor();\n          do {\n            pointer += inc;\n            mark = buffer[(size + pointer) % size];\n            // skip marks that are the same as current position\n            if (mark &&\n                (newCur = mark.find()) &&\n                !cursorEqual(oldCur, newCur)) {\n              break;\n            }\n          } while (pointer < head && pointer > tail);\n        }\n        return mark;\n      }\n      function find(cm, offset) {\n        var oldPointer = pointer;\n        var mark = move(cm, offset);\n        pointer = oldPointer;\n        return mark && mark.find();\n      }\n      return {\n        cachedCursor: undefined, //used for # and * jumps\n        add: add,\n        find: find,\n        move: move\n      };\n    };\n\n    // Returns an object to track the changes associated insert mode.  It\n    // clones the object that is passed in, or creates an empty object one if\n    // none is provided.\n    var createInsertModeChanges = function(c) {\n      if (c) {\n        // Copy construction\n        return {\n          changes: c.changes,\n          expectCursorActivityForChange: c.expectCursorActivityForChange\n        };\n      }\n      return {\n        // Change list\n        changes: [],\n        // Set to true on change, false on cursorActivity.\n        expectCursorActivityForChange: false\n      };\n    };\n\n    function MacroModeState() {\n      this.latestRegister = undefined;\n      this.isPlaying = false;\n      this.isRecording = false;\n      this.replaySearchQueries = [];\n      this.onRecordingDone = undefined;\n      this.lastInsertModeChanges = createInsertModeChanges();\n    }\n    MacroModeState.prototype = {\n      exitMacroRecordMode: function() {\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.onRecordingDone) {\n          macroModeState.onRecordingDone(); // close dialog\n        }\n        macroModeState.onRecordingDone = undefined;\n        macroModeState.isRecording = false;\n      },\n      enterMacroRecordMode: function(cm, registerName) {\n        var register =\n            vimGlobalState.registerController.getRegister(registerName);\n        if (register) {\n          register.clear();\n          this.latestRegister = registerName;\n          if (cm.openDialog) {\n            var template = dom('span', {class: 'cm-vim-message'}, 'recording @' + registerName);\n            this.onRecordingDone = cm.openDialog(template, null, {bottom:true});\n          }\n          this.isRecording = true;\n        }\n      }\n    };\n\n    function maybeInitVimState(cm) {\n      if (!cm.state.vim) {\n        // Store instance state in the CodeMirror object.\n        cm.state.vim = {\n          inputState: new InputState(),\n          // Vim's input state that triggered the last edit, used to repeat\n          // motions and operators with '.'.\n          lastEditInputState: undefined,\n          // Vim's action command before the last edit, used to repeat actions\n          // with '.' and insert mode repeat.\n          lastEditActionCommand: undefined,\n          // When using jk for navigation, if you move from a longer line to a\n          // shorter line, the cursor may clip to the end of the shorter line.\n          // If j is pressed again and cursor goes to the next line, the\n          // cursor should go back to its horizontal position on the longer\n          // line if it can. This is to keep track of the horizontal position.\n          lastHPos: -1,\n          // Doing the same with screen-position for gj/gk\n          lastHSPos: -1,\n          // The last motion command run. Cleared if a non-motion command gets\n          // executed in between.\n          lastMotion: null,\n          marks: {},\n          insertMode: false,\n          // Repeat count for changes made in insert mode, triggered by key\n          // sequences like 3,i. Only exists when insertMode is true.\n          insertModeRepeat: undefined,\n          visualMode: false,\n          // If we are in visual line mode. No effect if visualMode is false.\n          visualLine: false,\n          visualBlock: false,\n          lastSelection: null,\n          lastPastedText: null,\n          sel: {},\n          // Buffer-local/window-local values of vim options.\n          options: {}\n        };\n      }\n      return cm.state.vim;\n    }\n    var vimGlobalState;\n    function resetVimGlobalState() {\n      vimGlobalState = {\n        // The current search query.\n        searchQuery: null,\n        // Whether we are searching backwards.\n        searchIsReversed: false,\n        // Replace part of the last substituted pattern\n        lastSubstituteReplacePart: undefined,\n        jumpList: createCircularJumpList(),\n        macroModeState: new MacroModeState,\n        // Recording latest f, t, F or T motion command.\n        lastCharacterSearch: {increment:0, forward:true, selectedCharacter:''},\n        registerController: new RegisterController({}),\n        // search history buffer\n        searchHistoryController: new HistoryController(),\n        // ex Command history buffer\n        exCommandHistoryController : new HistoryController()\n      };\n      for (var optionName in options) {\n        var option = options[optionName];\n        option.value = option.defaultValue;\n      }\n    }\n\n    var lastInsertModeKeyTimer;\n    var vimApi = {\n      enterVimMode: enterVimMode,\n      leaveVimMode: leaveVimMode,\n      buildKeyMap: function() {\n        // TODO: Convert keymap into dictionary format for fast lookup.\n      },\n      // Testing hook, though it might be useful to expose the register\n      // controller anyway.\n      getRegisterController: function() {\n        return vimGlobalState.registerController;\n      },\n      // Testing hook.\n      resetVimGlobalState_: resetVimGlobalState,\n\n      // Testing hook.\n      getVimGlobalState_: function() {\n        return vimGlobalState;\n      },\n\n      // Testing hook.\n      maybeInitVimState_: maybeInitVimState,\n\n      suppressErrorLogging: false,\n\n      InsertModeKey: InsertModeKey,\n      map: function(lhs, rhs, ctx) {\n        // Add user defined key bindings.\n        exCommandDispatcher.map(lhs, rhs, ctx);\n      },\n      unmap: function(lhs, ctx) {\n        return exCommandDispatcher.unmap(lhs, ctx);\n      },\n      // Non-recursive map function.\n      // NOTE: This will not create mappings to key maps that aren't present\n      // in the default key map. See TODO at bottom of function.\n      noremap: function(lhs, rhs, ctx) {\n        function toCtxArray(ctx) {\n          return ctx ? [ctx] : ['normal', 'insert', 'visual'];\n        }\n        var ctxsToMap = toCtxArray(ctx);\n        // Look through all actual defaults to find a map candidate.\n        var actualLength = defaultKeymap.length, origLength = defaultKeymapLength;\n        for (var i = actualLength - origLength;\n             i < actualLength && ctxsToMap.length;\n             i++) {\n          var mapping = defaultKeymap[i];\n          // Omit mappings that operate in the wrong context(s) and those of invalid type.\n          if (mapping.keys == rhs &&\n              (!ctx || !mapping.context || mapping.context === ctx) &&\n              mapping.type.substr(0, 2) !== 'ex' &&\n              mapping.type.substr(0, 3) !== 'key') {\n            // Make a shallow copy of the original keymap entry.\n            var newMapping = {};\n            for (var key in mapping) {\n              newMapping[key] = mapping[key];\n            }\n            // Modify it point to the new mapping with the proper context.\n            newMapping.keys = lhs;\n            if (ctx && !newMapping.context) {\n              newMapping.context = ctx;\n            }\n            // Add it to the keymap with a higher priority than the original.\n            this._mapCommand(newMapping);\n            // Record the mapped contexts as complete.\n            var mappedCtxs = toCtxArray(mapping.context);\n            ctxsToMap = ctxsToMap.filter(function(el) { return mappedCtxs.indexOf(el) === -1; });\n          }\n        }\n        // TODO: Create non-recursive keyToKey mappings for the unmapped contexts once those exist.\n      },\n      // Remove all user-defined mappings for the provided context.\n      mapclear: function(ctx) {\n        // Partition the existing keymap into user-defined and true defaults.\n        var actualLength = defaultKeymap.length,\n            origLength = defaultKeymapLength;\n        var userKeymap = defaultKeymap.slice(0, actualLength - origLength);\n        defaultKeymap = defaultKeymap.slice(actualLength - origLength);\n        if (ctx) {\n          // If a specific context is being cleared, we need to keep mappings\n          // from all other contexts.\n          for (var i = userKeymap.length - 1; i >= 0; i--) {\n            var mapping = userKeymap[i];\n            if (ctx !== mapping.context) {\n              if (mapping.context) {\n                this._mapCommand(mapping);\n              } else {\n                // `mapping` applies to all contexts so create keymap copies\n                // for each context except the one being cleared.\n                var contexts = ['normal', 'insert', 'visual'];\n                for (var j in contexts) {\n                  if (contexts[j] !== ctx) {\n                    var newMapping = {};\n                    for (var key in mapping) {\n                      newMapping[key] = mapping[key];\n                    }\n                    newMapping.context = contexts[j];\n                    this._mapCommand(newMapping);\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      // TODO: Expose setOption and getOption as instance methods. Need to decide how to namespace\n      // them, or somehow make them work with the existing CodeMirror setOption/getOption API.\n      setOption: setOption,\n      getOption: getOption,\n      defineOption: defineOption,\n      defineEx: function(name, prefix, func){\n        if (!prefix) {\n          prefix = name;\n        } else if (name.indexOf(prefix) !== 0) {\n          throw new Error('(Vim.defineEx) \"'+prefix+'\" is not a prefix of \"'+name+'\", command not registered');\n        }\n        exCommands[name]=func;\n        exCommandDispatcher.commandMap_[prefix]={name:name, shortName:prefix, type:'api'};\n      },\n      handleKey: function (cm, key, origin) {\n        var command = this.findKey(cm, key, origin);\n        if (typeof command === 'function') {\n          return command();\n        }\n      },\n      multiSelectHandleKey: multiSelectHandleKey,\n\n      /**\n       * This is the outermost function called by CodeMirror, after keys have\n       * been mapped to their Vim equivalents.\n       *\n       * Finds a command based on the key (and cached keys if there is a\n       * multi-key sequence). Returns `undefined` if no key is matched, a noop\n       * function if a partial match is found (multi-key), and a function to\n       * execute the bound command if a a key is matched. The function always\n       * returns true.\n       */\n      findKey: function(cm, key, origin) {\n        var vim = maybeInitVimState(cm);\n        function handleMacroRecording() {\n          var macroModeState = vimGlobalState.macroModeState;\n          if (macroModeState.isRecording) {\n            if (key == 'q') {\n              macroModeState.exitMacroRecordMode();\n              clearInputState(cm);\n              return true;\n            }\n            if (origin != 'mapping') {\n              logKey(macroModeState, key);\n            }\n          }\n        }\n        function handleEsc() {\n          if (key == '<Esc>') {\n            if (vim.visualMode) {\n              // Get back to normal mode.\n              exitVisualMode(cm);\n            } else if (vim.insertMode) {\n              // Get back to normal mode.\n              exitInsertMode(cm);\n            } else {\n              // We're already in normal mode. Let '<Esc>' be handled normally.\n              return;\n            }\n            clearInputState(cm);\n            return true;\n          }\n        }\n        function doKeyToKey(keys) {\n          // TODO: prevent infinite recursion.\n          var match;\n          while (keys) {\n            // Pull off one command key, which is either a single character\n            // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n            match = (/<\\w+-.+?>|<\\w+>|./).exec(keys);\n            key = match[0];\n            keys = keys.substring(match.index + key.length);\n            vimApi.handleKey(cm, key, 'mapping');\n          }\n        }\n\n        function handleKeyInsertMode() {\n          if (handleEsc()) { return true; }\n          vim.inputState.keyBuffer.push(key);\n          var keys = vim.inputState.keyBuffer.join(\"\");\n          var keysAreChars = key.length == 1;\n          var match = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');\n          var changeQueue = vim.inputState.changeQueue;\n\n          if (match.type == 'none') { clearInputState(cm); return false; }\n          else if (match.type == 'partial') {\n            if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }\n            lastInsertModeKeyTimer = keysAreChars && window.setTimeout(\n              function() { if (vim.insertMode && vim.inputState.keyBuffer.length) { clearInputState(cm); } },\n              getOption('insertModeEscKeysTimeout'));\n            if (keysAreChars) {\n              var selections = cm.listSelections();\n              if (!changeQueue || changeQueue.removed.length != selections.length)\n                changeQueue = vim.inputState.changeQueue = new ChangeQueue;\n              changeQueue.inserted += key;\n              for (var i = 0; i < selections.length; i++) {\n                var from = cursorMin(selections[i].anchor, selections[i].head);\n                var to = cursorMax(selections[i].anchor, selections[i].head);\n                var text = cm.getRange(from, cm.state.overwrite ? offsetCursor(to, 0, 1) : to);\n                changeQueue.removed[i] = (changeQueue.removed[i] || \"\") + text;\n              }\n            }\n            return !keysAreChars;\n          }\n\n          if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }\n          if (match.command && changeQueue) {\n            var selections = cm.listSelections();\n            for (var i = 0; i < selections.length; i++) {\n              var here = selections[i].head;\n              cm.replaceRange(changeQueue.removed[i] || \"\", \n                offsetCursor(here, 0, -changeQueue.inserted.length), here, '+input');\n            }\n            vimGlobalState.macroModeState.lastInsertModeChanges.changes.pop();\n          }\n          if (!match.command) clearInputState(cm);\n          return match.command;\n        }\n\n        function handleKeyNonInsertMode() {\n          if (handleMacroRecording() || handleEsc()) { return true; }\n\n          vim.inputState.keyBuffer.push(key);\n          var keys = vim.inputState.keyBuffer.join(\"\");\n          if (/^[1-9]\\d*$/.test(keys)) { return true; }\n\n          var keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n          if (!keysMatcher) { clearInputState(cm); return false; }\n          var context = vim.visualMode ? 'visual' :\n                                         'normal';\n          var mainKey = keysMatcher[2] || keysMatcher[1];\n          if (vim.inputState.operatorShortcut && vim.inputState.operatorShortcut.slice(-1) == mainKey) {\n            // multikey operators act linewise by repeating only the last character\n            mainKey = vim.inputState.operatorShortcut;\n          }\n          var match = commandDispatcher.matchCommand(mainKey, defaultKeymap, vim.inputState, context);\n          if (match.type == 'none') { clearInputState(cm); return false; }\n          else if (match.type == 'partial') { return true; }\n          else if (match.type == 'clear') { clearInputState(cm); return true; }\n\n          vim.inputState.keyBuffer.length = 0;\n          keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n          if (keysMatcher[1] && keysMatcher[1] != '0') {\n            vim.inputState.pushRepeatDigit(keysMatcher[1]);\n          }\n          return match.command;\n        }\n\n        var command;\n        if (vim.insertMode) { command = handleKeyInsertMode(); }\n        else { command = handleKeyNonInsertMode(); }\n        if (command === false) {\n          return !vim.insertMode && key.length === 1 ? function() { return true; } : undefined;\n        } else if (command === true) {\n          // TODO: Look into using CodeMirror's multi-key handling.\n          // Return no-op since we are caching the key. Counts as handled, but\n          // don't want act on it just yet.\n          return function() { return true; };\n        } else {\n          return function() {\n            return cm.operation(function() {\n              cm.curOp.isVimOp = true;\n              try {\n                if (command.type == 'keyToKey') {\n                  doKeyToKey(command.toKeys);\n                } else {\n                  commandDispatcher.processCommand(cm, vim, command);\n                }\n              } catch (e) {\n                // clear VIM state in case it's in a bad state.\n                cm.state.vim = undefined;\n                maybeInitVimState(cm);\n                if (!vimApi.suppressErrorLogging) {\n                  console['log'](e);\n                }\n                throw e;\n              }\n              return true;\n            });\n          };\n        }\n      },\n      handleEx: function(cm, input) {\n        exCommandDispatcher.processCommand(cm, input);\n      },\n\n      defineMotion: defineMotion,\n      defineAction: defineAction,\n      defineOperator: defineOperator,\n      mapCommand: mapCommand,\n      _mapCommand: _mapCommand,\n\n      defineRegister: defineRegister,\n\n      exitVisualMode: exitVisualMode,\n      exitInsertMode: exitInsertMode\n    };\n\n    // Represents the current input state.\n    function InputState() {\n      this.prefixRepeat = [];\n      this.motionRepeat = [];\n\n      this.operator = null;\n      this.operatorArgs = null;\n      this.motion = null;\n      this.motionArgs = null;\n      this.keyBuffer = []; // For matching multi-key commands.\n      this.registerName = null; // Defaults to the unnamed register.\n      this.changeQueue = null; // For restoring text used by insert mode keybindings\n    }\n    InputState.prototype.pushRepeatDigit = function(n) {\n      if (!this.operator) {\n        this.prefixRepeat = this.prefixRepeat.concat(n);\n      } else {\n        this.motionRepeat = this.motionRepeat.concat(n);\n      }\n    };\n    InputState.prototype.getRepeat = function() {\n      var repeat = 0;\n      if (this.prefixRepeat.length > 0 || this.motionRepeat.length > 0) {\n        repeat = 1;\n        if (this.prefixRepeat.length > 0) {\n          repeat *= parseInt(this.prefixRepeat.join(''), 10);\n        }\n        if (this.motionRepeat.length > 0) {\n          repeat *= parseInt(this.motionRepeat.join(''), 10);\n        }\n      }\n      return repeat;\n    };\n\n    function clearInputState(cm, reason) {\n      cm.state.vim.inputState = new InputState();\n      CodeMirror.signal(cm, 'vim-command-done', reason);\n    }\n\n    function ChangeQueue() {\n      this.removed = [];\n      this.inserted = \"\";\n    }\n\n    /*\n     * Register stores information about copy and paste registers.  Besides\n     * text, a register must store whether it is linewise (i.e., when it is\n     * pasted, should it insert itself into a new line, or should the text be\n     * inserted at the cursor position.)\n     */\n    function Register(text, linewise, blockwise) {\n      this.clear();\n      this.keyBuffer = [text || ''];\n      this.insertModeChanges = [];\n      this.searchQueries = [];\n      this.linewise = !!linewise;\n      this.blockwise = !!blockwise;\n    }\n    Register.prototype = {\n      setText: function(text, linewise, blockwise) {\n        this.keyBuffer = [text || ''];\n        this.linewise = !!linewise;\n        this.blockwise = !!blockwise;\n      },\n      pushText: function(text, linewise) {\n        // if this register has ever been set to linewise, use linewise.\n        if (linewise) {\n          if (!this.linewise) {\n            this.keyBuffer.push('\\n');\n          }\n          this.linewise = true;\n        }\n        this.keyBuffer.push(text);\n      },\n      pushInsertModeChanges: function(changes) {\n        this.insertModeChanges.push(createInsertModeChanges(changes));\n      },\n      pushSearchQuery: function(query) {\n        this.searchQueries.push(query);\n      },\n      clear: function() {\n        this.keyBuffer = [];\n        this.insertModeChanges = [];\n        this.searchQueries = [];\n        this.linewise = false;\n      },\n      toString: function() {\n        return this.keyBuffer.join('');\n      }\n    };\n\n    /**\n     * Defines an external register.\n     *\n     * The name should be a single character that will be used to reference the register.\n     * The register should support setText, pushText, clear, and toString(). See Register\n     * for a reference implementation.\n     */\n    function defineRegister(name, register) {\n      var registers = vimGlobalState.registerController.registers;\n      if (!name || name.length != 1) {\n        throw Error('Register name must be 1 character');\n      }\n      if (registers[name]) {\n        throw Error('Register already defined ' + name);\n      }\n      registers[name] = register;\n      validRegisters.push(name);\n    }\n\n    /*\n     * vim registers allow you to keep many independent copy and paste buffers.\n     * See http://usevim.com/2012/04/13/registers/ for an introduction.\n     *\n     * RegisterController keeps the state of all the registers.  An initial\n     * state may be passed in.  The unnamed register '\"' will always be\n     * overridden.\n     */\n    function RegisterController(registers) {\n      this.registers = registers;\n      this.unnamedRegister = registers['\"'] = new Register();\n      registers['.'] = new Register();\n      registers[':'] = new Register();\n      registers['/'] = new Register();\n      registers['+'] = new Register();\n    }\n    RegisterController.prototype = {\n      pushText: function(registerName, operator, text, linewise, blockwise) {\n        // The black hole register, \"_, means delete/yank to nowhere.\n        if (registerName === '_') return;\n        if (linewise && text.charAt(text.length - 1) !== '\\n'){\n          text += '\\n';\n        }\n        // Lowercase and uppercase registers refer to the same register.\n        // Uppercase just means append.\n        var register = this.isValidRegister(registerName) ?\n            this.getRegister(registerName) : null;\n        // if no register/an invalid register was specified, things go to the\n        // default registers\n        if (!register) {\n          switch (operator) {\n            case 'yank':\n              // The 0 register contains the text from the most recent yank.\n              this.registers['0'] = new Register(text, linewise, blockwise);\n              break;\n            case 'delete':\n            case 'change':\n              if (text.indexOf('\\n') == -1) {\n                // Delete less than 1 line. Update the small delete register.\n                this.registers['-'] = new Register(text, linewise);\n              } else {\n                // Shift down the contents of the numbered registers and put the\n                // deleted text into register 1.\n                this.shiftNumericRegisters_();\n                this.registers['1'] = new Register(text, linewise);\n              }\n              break;\n          }\n          // Make sure the unnamed register is set to what just happened\n          this.unnamedRegister.setText(text, linewise, blockwise);\n          return;\n        }\n\n        // If we've gotten to this point, we've actually specified a register\n        var append = isUpperCase(registerName);\n        if (append) {\n          register.pushText(text, linewise);\n        } else {\n          register.setText(text, linewise, blockwise);\n        }\n        if (registerName === '+') {\n          navigator.clipboard.writeText(text);\n        }\n        // The unnamed register always has the same value as the last used\n        // register.\n        this.unnamedRegister.setText(register.toString(), linewise);\n      },\n      // Gets the register named @name.  If one of @name doesn't already exist,\n      // create it.  If @name is invalid, return the unnamedRegister.\n      getRegister: function(name) {\n        if (!this.isValidRegister(name)) {\n          return this.unnamedRegister;\n        }\n        name = name.toLowerCase();\n        if (!this.registers[name]) {\n          this.registers[name] = new Register();\n        }\n        return this.registers[name];\n      },\n      isValidRegister: function(name) {\n        return name && inArray(name, validRegisters);\n      },\n      shiftNumericRegisters_: function() {\n        for (var i = 9; i >= 2; i--) {\n          this.registers[i] = this.getRegister('' + (i - 1));\n        }\n      }\n    };\n    function HistoryController() {\n        this.historyBuffer = [];\n        this.iterator = 0;\n        this.initialPrefix = null;\n    }\n    HistoryController.prototype = {\n      // the input argument here acts a user entered prefix for a small time\n      // until we start autocompletion in which case it is the autocompleted.\n      nextMatch: function (input, up) {\n        var historyBuffer = this.historyBuffer;\n        var dir = up ? -1 : 1;\n        if (this.initialPrefix === null) this.initialPrefix = input;\n        for (var i = this.iterator + dir; up ? i >= 0 : i < historyBuffer.length; i+= dir) {\n          var element = historyBuffer[i];\n          for (var j = 0; j <= element.length; j++) {\n            if (this.initialPrefix == element.substring(0, j)) {\n              this.iterator = i;\n              return element;\n            }\n          }\n        }\n        // should return the user input in case we reach the end of buffer.\n        if (i >= historyBuffer.length) {\n          this.iterator = historyBuffer.length;\n          return this.initialPrefix;\n        }\n        // return the last autocompleted query or exCommand as it is.\n        if (i < 0 ) return input;\n      },\n      pushInput: function(input) {\n        var index = this.historyBuffer.indexOf(input);\n        if (index > -1) this.historyBuffer.splice(index, 1);\n        if (input.length) this.historyBuffer.push(input);\n      },\n      reset: function() {\n        this.initialPrefix = null;\n        this.iterator = this.historyBuffer.length;\n      }\n    };\n    var commandDispatcher = {\n      matchCommand: function(keys, keyMap, inputState, context) {\n        var matches = commandMatches(keys, keyMap, context, inputState);\n        if (!matches.full && !matches.partial) {\n          return {type: 'none'};\n        } else if (!matches.full && matches.partial) {\n          return {type: 'partial'};\n        }\n\n        var bestMatch;\n        for (var i = 0; i < matches.full.length; i++) {\n          var match = matches.full[i];\n          if (!bestMatch) {\n            bestMatch = match;\n          }\n        }\n        if (bestMatch.keys.slice(-11) == '<character>') {\n          var character = lastChar(keys);\n          if (!character || character.length > 1) return {type: 'clear'};\n          inputState.selectedCharacter = character;\n        }\n        return {type: 'full', command: bestMatch};\n      },\n      processCommand: function(cm, vim, command) {\n        vim.inputState.repeatOverride = command.repeatOverride;\n        switch (command.type) {\n          case 'motion':\n            this.processMotion(cm, vim, command);\n            break;\n          case 'operator':\n            this.processOperator(cm, vim, command);\n            break;\n          case 'operatorMotion':\n            this.processOperatorMotion(cm, vim, command);\n            break;\n          case 'action':\n            this.processAction(cm, vim, command);\n            break;\n          case 'search':\n            this.processSearch(cm, vim, command);\n            break;\n          case 'ex':\n          case 'keyToEx':\n            this.processEx(cm, vim, command);\n            break;\n        }\n      },\n      processMotion: function(cm, vim, command) {\n        vim.inputState.motion = command.motion;\n        vim.inputState.motionArgs = copyArgs(command.motionArgs);\n        this.evalInput(cm, vim);\n      },\n      processOperator: function(cm, vim, command) {\n        var inputState = vim.inputState;\n        if (inputState.operator) {\n          if (inputState.operator == command.operator) {\n            // Typing an operator twice like 'dd' makes the operator operate\n            // linewise\n            inputState.motion = 'expandToLine';\n            inputState.motionArgs = { linewise: true };\n            this.evalInput(cm, vim);\n            return;\n          } else {\n            // 2 different operators in a row doesn't make sense.\n            clearInputState(cm);\n          }\n        }\n        inputState.operator = command.operator;\n        inputState.operatorArgs = copyArgs(command.operatorArgs);\n        if (command.keys.length > 1) {\n          inputState.operatorShortcut = command.keys;\n        }\n        if (command.exitVisualBlock) {\n            vim.visualBlock = false;\n            updateCmSelection(cm);\n        }\n        if (vim.visualMode) {\n          // Operating on a selection in visual mode. We don't need a motion.\n          this.evalInput(cm, vim);\n        }\n      },\n      processOperatorMotion: function(cm, vim, command) {\n        var visualMode = vim.visualMode;\n        var operatorMotionArgs = copyArgs(command.operatorMotionArgs);\n        if (operatorMotionArgs) {\n          // Operator motions may have special behavior in visual mode.\n          if (visualMode && operatorMotionArgs.visualLine) {\n            vim.visualLine = true;\n          }\n        }\n        this.processOperator(cm, vim, command);\n        if (!visualMode) {\n          this.processMotion(cm, vim, command);\n        }\n      },\n      processAction: function(cm, vim, command) {\n        var inputState = vim.inputState;\n        var repeat = inputState.getRepeat();\n        var repeatIsExplicit = !!repeat;\n        var actionArgs = copyArgs(command.actionArgs) || {};\n        if (inputState.selectedCharacter) {\n          actionArgs.selectedCharacter = inputState.selectedCharacter;\n        }\n        // Actions may or may not have motions and operators. Do these first.\n        if (command.operator) {\n          this.processOperator(cm, vim, command);\n        }\n        if (command.motion) {\n          this.processMotion(cm, vim, command);\n        }\n        if (command.motion || command.operator) {\n          this.evalInput(cm, vim);\n        }\n        actionArgs.repeat = repeat || 1;\n        actionArgs.repeatIsExplicit = repeatIsExplicit;\n        actionArgs.registerName = inputState.registerName;\n        clearInputState(cm);\n        vim.lastMotion = null;\n        if (command.isEdit) {\n          this.recordLastEdit(vim, inputState, command);\n        }\n        actions[command.action](cm, actionArgs, vim);\n      },\n      processSearch: function(cm, vim, command) {\n        if (!cm.getSearchCursor) {\n          // Search depends on SearchCursor.\n          return;\n        }\n        var forward = command.searchArgs.forward;\n        var wholeWordOnly = command.searchArgs.wholeWordOnly;\n        getSearchState(cm).setReversed(!forward);\n        var promptPrefix = (forward) ? '/' : '?';\n        var originalQuery = getSearchState(cm).getQuery();\n        var originalScrollPos = cm.getScrollInfo();\n        function handleQuery(query, ignoreCase, smartCase) {\n          vimGlobalState.searchHistoryController.pushInput(query);\n          vimGlobalState.searchHistoryController.reset();\n          try {\n            updateSearchQuery(cm, query, ignoreCase, smartCase);\n          } catch (e) {\n            showConfirm(cm, 'Invalid regex: ' + query);\n            clearInputState(cm);\n            return;\n          }\n          commandDispatcher.processMotion(cm, vim, {\n            type: 'motion',\n            motion: 'findNext',\n            motionArgs: { forward: true, toJumplist: command.searchArgs.toJumplist }\n          });\n        }\n        function onPromptClose(query) {\n          cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n          handleQuery(query, true /** ignoreCase */, true /** smartCase */);\n          var macroModeState = vimGlobalState.macroModeState;\n          if (macroModeState.isRecording) {\n            logSearchQuery(macroModeState, query);\n          }\n        }\n        function onPromptKeyUp(e, query, close) {\n          var keyName = CodeMirror.keyName(e), up, offset;\n          if (keyName == 'Up' || keyName == 'Down') {\n            up = keyName == 'Up' ? true : false;\n            offset = e.target ? e.target.selectionEnd : 0;\n            query = vimGlobalState.searchHistoryController.nextMatch(query, up) || '';\n            close(query);\n            if (offset && e.target) e.target.selectionEnd = e.target.selectionStart = Math.min(offset, e.target.value.length);\n          } else {\n            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')\n              vimGlobalState.searchHistoryController.reset();\n          }\n          var parsedQuery;\n          try {\n            parsedQuery = updateSearchQuery(cm, query,\n                true /** ignoreCase */, true /** smartCase */);\n          } catch (e) {\n            // Swallow bad regexes for incremental search.\n          }\n          if (parsedQuery) {\n            cm.scrollIntoView(findNext(cm, !forward, parsedQuery), 30);\n          } else {\n            clearSearchHighlight(cm);\n            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n          }\n        }\n        function onPromptKeyDown(e, query, close) {\n          var keyName = CodeMirror.keyName(e);\n          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||\n              (keyName == 'Backspace' && query == '')) {\n            vimGlobalState.searchHistoryController.pushInput(query);\n            vimGlobalState.searchHistoryController.reset();\n            updateSearchQuery(cm, originalQuery);\n            clearSearchHighlight(cm);\n            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n            CodeMirror.e_stop(e);\n            clearInputState(cm);\n            close();\n            cm.focus();\n          } else if (keyName == 'Up' || keyName == 'Down') {\n            CodeMirror.e_stop(e);\n          } else if (keyName == 'Ctrl-U') {\n            // Ctrl-U clears input.\n            CodeMirror.e_stop(e);\n            close('');\n          }\n        }\n        switch (command.searchArgs.querySrc) {\n          case 'prompt':\n            var macroModeState = vimGlobalState.macroModeState;\n            if (macroModeState.isPlaying) {\n              var query = macroModeState.replaySearchQueries.shift();\n              handleQuery(query, true /** ignoreCase */, false /** smartCase */);\n            } else {\n              showPrompt(cm, {\n                  onClose: onPromptClose,\n                  prefix: promptPrefix,\n                  desc: '(JavaScript regexp)',\n                  onKeyUp: onPromptKeyUp,\n                  onKeyDown: onPromptKeyDown\n              });\n            }\n            break;\n          case 'wordUnderCursor':\n            var word = expandWordUnderCursor(cm, false /** inclusive */,\n                true /** forward */, false /** bigWord */,\n                true /** noSymbol */);\n            var isKeyword = true;\n            if (!word) {\n              word = expandWordUnderCursor(cm, false /** inclusive */,\n                  true /** forward */, false /** bigWord */,\n                  false /** noSymbol */);\n              isKeyword = false;\n            }\n            if (!word) {\n              return;\n            }\n            var query = cm.getLine(word.start.line).substring(word.start.ch,\n                word.end.ch);\n            if (isKeyword && wholeWordOnly) {\n                query = '\\\\b' + query + '\\\\b';\n            } else {\n              query = escapeRegex(query);\n            }\n\n            // cachedCursor is used to save the old position of the cursor\n            // when * or # causes vim to seek for the nearest word and shift\n            // the cursor before entering the motion.\n            vimGlobalState.jumpList.cachedCursor = cm.getCursor();\n            cm.setCursor(word.start);\n\n            handleQuery(query, true /** ignoreCase */, false /** smartCase */);\n            break;\n        }\n      },\n      processEx: function(cm, vim, command) {\n        function onPromptClose(input) {\n          // Give the prompt some time to close so that if processCommand shows\n          // an error, the elements don't overlap.\n          vimGlobalState.exCommandHistoryController.pushInput(input);\n          vimGlobalState.exCommandHistoryController.reset();\n          exCommandDispatcher.processCommand(cm, input);\n          if (cm.state.vim) clearInputState(cm);\n        }\n        function onPromptKeyDown(e, input, close) {\n          var keyName = CodeMirror.keyName(e), up, offset;\n          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||\n              (keyName == 'Backspace' && input == '')) {\n            vimGlobalState.exCommandHistoryController.pushInput(input);\n            vimGlobalState.exCommandHistoryController.reset();\n            CodeMirror.e_stop(e);\n            clearInputState(cm);\n            close();\n            cm.focus();\n          }\n          if (keyName == 'Up' || keyName == 'Down') {\n            CodeMirror.e_stop(e);\n            up = keyName == 'Up' ? true : false;\n            offset = e.target ? e.target.selectionEnd : 0;\n            input = vimGlobalState.exCommandHistoryController.nextMatch(input, up) || '';\n            close(input);\n            if (offset && e.target) e.target.selectionEnd = e.target.selectionStart = Math.min(offset, e.target.value.length);\n          } else if (keyName == 'Ctrl-U') {\n            // Ctrl-U clears input.\n            CodeMirror.e_stop(e);\n            close('');\n          } else {\n            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')\n              vimGlobalState.exCommandHistoryController.reset();\n          }\n        }\n        if (command.type == 'keyToEx') {\n          // Handle user defined Ex to Ex mappings\n          exCommandDispatcher.processCommand(cm, command.exArgs.input);\n        } else {\n          if (vim.visualMode) {\n            showPrompt(cm, { onClose: onPromptClose, prefix: ':', value: '\\'<,\\'>',\n                onKeyDown: onPromptKeyDown, selectValueOnOpen: false});\n          } else {\n            showPrompt(cm, { onClose: onPromptClose, prefix: ':',\n                onKeyDown: onPromptKeyDown});\n          }\n        }\n      },\n      evalInput: function(cm, vim) {\n        // If the motion command is set, execute both the operator and motion.\n        // Otherwise return.\n        var inputState = vim.inputState;\n        var motion = inputState.motion;\n        var motionArgs = inputState.motionArgs || {};\n        var operator = inputState.operator;\n        var operatorArgs = inputState.operatorArgs || {};\n        var registerName = inputState.registerName;\n        var sel = vim.sel;\n        // TODO: Make sure cm and vim selections are identical outside visual mode.\n        var origHead = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.head): cm.getCursor('head'));\n        var origAnchor = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.anchor) : cm.getCursor('anchor'));\n        var oldHead = copyCursor(origHead);\n        var oldAnchor = copyCursor(origAnchor);\n        var newHead, newAnchor;\n        var repeat;\n        if (operator) {\n          this.recordLastEdit(vim, inputState);\n        }\n        if (inputState.repeatOverride !== undefined) {\n          // If repeatOverride is specified, that takes precedence over the\n          // input state's repeat. Used by Ex mode and can be user defined.\n          repeat = inputState.repeatOverride;\n        } else {\n          repeat = inputState.getRepeat();\n        }\n        if (repeat > 0 && motionArgs.explicitRepeat) {\n          motionArgs.repeatIsExplicit = true;\n        } else if (motionArgs.noRepeat ||\n            (!motionArgs.explicitRepeat && repeat === 0)) {\n          repeat = 1;\n          motionArgs.repeatIsExplicit = false;\n        }\n        if (inputState.selectedCharacter) {\n          // If there is a character input, stick it in all of the arg arrays.\n          motionArgs.selectedCharacter = operatorArgs.selectedCharacter =\n              inputState.selectedCharacter;\n        }\n        motionArgs.repeat = repeat;\n        clearInputState(cm);\n        if (motion) {\n          var motionResult = motions[motion](cm, origHead, motionArgs, vim, inputState);\n          vim.lastMotion = motions[motion];\n          if (!motionResult) {\n            return;\n          }\n          if (motionArgs.toJumplist) {\n            var jumpList = vimGlobalState.jumpList;\n            // if the current motion is # or *, use cachedCursor\n            var cachedCursor = jumpList.cachedCursor;\n            if (cachedCursor) {\n              recordJumpPosition(cm, cachedCursor, motionResult);\n              delete jumpList.cachedCursor;\n            } else {\n              recordJumpPosition(cm, origHead, motionResult);\n            }\n          }\n          if (motionResult instanceof Array) {\n            newAnchor = motionResult[0];\n            newHead = motionResult[1];\n          } else {\n            newHead = motionResult;\n          }\n          // TODO: Handle null returns from motion commands better.\n          if (!newHead) {\n            newHead = copyCursor(origHead);\n          }\n          if (vim.visualMode) {\n            if (!(vim.visualBlock && newHead.ch === Infinity)) {\n              newHead = clipCursorToContent(cm, newHead, oldHead);\n            }\n            if (newAnchor) {\n              newAnchor = clipCursorToContent(cm, newAnchor);\n            }\n            newAnchor = newAnchor || oldAnchor;\n            sel.anchor = newAnchor;\n            sel.head = newHead;\n            updateCmSelection(cm);\n            updateMark(cm, vim, '<',\n                cursorIsBefore(newAnchor, newHead) ? newAnchor\n                    : newHead);\n            updateMark(cm, vim, '>',\n                cursorIsBefore(newAnchor, newHead) ? newHead\n                    : newAnchor);\n          } else if (!operator) {\n            newHead = clipCursorToContent(cm, newHead, oldHead);\n            cm.setCursor(newHead.line, newHead.ch);\n          }\n        }\n        if (operator) {\n          if (operatorArgs.lastSel) {\n            // Replaying a visual mode operation\n            newAnchor = oldAnchor;\n            var lastSel = operatorArgs.lastSel;\n            var lineOffset = Math.abs(lastSel.head.line - lastSel.anchor.line);\n            var chOffset = Math.abs(lastSel.head.ch - lastSel.anchor.ch);\n            if (lastSel.visualLine) {\n              // Linewise Visual mode: The same number of lines.\n              newHead = new Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n            } else if (lastSel.visualBlock) {\n              // Blockwise Visual mode: The same number of lines and columns.\n              newHead = new Pos(oldAnchor.line + lineOffset, oldAnchor.ch + chOffset);\n            } else if (lastSel.head.line == lastSel.anchor.line) {\n              // Normal Visual mode within one line: The same number of characters.\n              newHead = new Pos(oldAnchor.line, oldAnchor.ch + chOffset);\n            } else {\n              // Normal Visual mode with several lines: The same number of lines, in the\n              // last line the same number of characters as in the last line the last time.\n              newHead = new Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n            }\n            vim.visualMode = true;\n            vim.visualLine = lastSel.visualLine;\n            vim.visualBlock = lastSel.visualBlock;\n            sel = vim.sel = {\n              anchor: newAnchor,\n              head: newHead\n            };\n            updateCmSelection(cm);\n          } else if (vim.visualMode) {\n            operatorArgs.lastSel = {\n              anchor: copyCursor(sel.anchor),\n              head: copyCursor(sel.head),\n              visualBlock: vim.visualBlock,\n              visualLine: vim.visualLine\n            };\n          }\n          var curStart, curEnd, linewise, mode;\n          var cmSel;\n          if (vim.visualMode) {\n            // Init visual op\n            curStart = cursorMin(sel.head, sel.anchor);\n            curEnd = cursorMax(sel.head, sel.anchor);\n            linewise = vim.visualLine || operatorArgs.linewise;\n            mode = vim.visualBlock ? 'block' :\n                   linewise ? 'line' :\n                   'char';\n            var newPositions = updateSelectionForSurrogateCharacters(cm, curStart, curEnd);\n            cmSel = makeCmSelection(cm, {\n              anchor: newPositions.start,\n              head: newPositions.end\n            }, mode);\n            if (linewise) {\n              var ranges = cmSel.ranges;\n              if (mode == 'block') {\n                // Linewise operators in visual block mode extend to end of line\n                for (var i = 0; i < ranges.length; i++) {\n                  ranges[i].head.ch = lineLength(cm, ranges[i].head.line);\n                }\n              } else if (mode == 'line') {\n                ranges[0].head = new Pos(ranges[0].head.line + 1, 0);\n              }\n            }\n          } else {\n            // Init motion op\n            curStart = copyCursor(newAnchor || oldAnchor);\n            curEnd = copyCursor(newHead || oldHead);\n            if (cursorIsBefore(curEnd, curStart)) {\n              var tmp = curStart;\n              curStart = curEnd;\n              curEnd = tmp;\n            }\n            linewise = motionArgs.linewise || operatorArgs.linewise;\n            if (linewise) {\n              // Expand selection to entire line.\n              expandSelectionToLine(cm, curStart, curEnd);\n            } else if (motionArgs.forward) {\n              // Clip to trailing newlines only if the motion goes forward.\n              clipToLine(cm, curStart, curEnd);\n            }\n            mode = 'char';\n            var exclusive = !motionArgs.inclusive || linewise;\n            var newPositions = updateSelectionForSurrogateCharacters(cm, curStart, curEnd);\n            cmSel = makeCmSelection(cm, {\n              anchor: newPositions.start,\n              head: newPositions.end\n            }, mode, exclusive);\n          }\n          cm.setSelections(cmSel.ranges, cmSel.primary);\n          vim.lastMotion = null;\n          operatorArgs.repeat = repeat; // For indent in visual mode.\n          operatorArgs.registerName = registerName;\n          // Keep track of linewise as it affects how paste and change behave.\n          operatorArgs.linewise = linewise;\n          var operatorMoveTo = operators[operator](\n            cm, operatorArgs, cmSel.ranges, oldAnchor, newHead);\n          if (vim.visualMode) {\n            exitVisualMode(cm, operatorMoveTo != null);\n          }\n          if (operatorMoveTo) {\n            cm.setCursor(operatorMoveTo);\n          }\n        }\n      },\n      recordLastEdit: function(vim, inputState, actionCommand) {\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.isPlaying) { return; }\n        vim.lastEditInputState = inputState;\n        vim.lastEditActionCommand = actionCommand;\n        macroModeState.lastInsertModeChanges.changes = [];\n        macroModeState.lastInsertModeChanges.expectCursorActivityForChange = false;\n        macroModeState.lastInsertModeChanges.visualBlock = vim.visualBlock ? vim.sel.head.line - vim.sel.anchor.line : 0;\n      }\n    };\n\n    /**\n     * typedef {Object{line:number,ch:number}} Cursor An object containing the\n     *     position of the cursor.\n     */\n    // All of the functions below return Cursor objects.\n    var motions = {\n      moveToTopLine: function(cm, _head, motionArgs) {\n        var line = getUserVisibleLines(cm).top + motionArgs.repeat -1;\n        return new Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      moveToMiddleLine: function(cm) {\n        var range = getUserVisibleLines(cm);\n        var line = Math.floor((range.top + range.bottom) * 0.5);\n        return new Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      moveToBottomLine: function(cm, _head, motionArgs) {\n        var line = getUserVisibleLines(cm).bottom - motionArgs.repeat +1;\n        return new Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      expandToLine: function(_cm, head, motionArgs) {\n        // Expands forward to end of line, and then to next line if repeat is\n        // >1. Does not handle backward motion!\n        var cur = head;\n        return new Pos(cur.line + motionArgs.repeat - 1, Infinity);\n      },\n      findNext: function(cm, _head, motionArgs) {\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n        if (!query) {\n          return;\n        }\n        var prev = !motionArgs.forward;\n        // If search is initiated with ? instead of /, negate direction.\n        prev = (state.isReversed()) ? !prev : prev;\n        highlightSearchMatches(cm, query);\n        return findNext(cm, prev/** prev */, query, motionArgs.repeat);\n      },\n      /**\n       * Find and select the next occurrence of the search query. If the cursor is currently\n       * within a match, then find and select the current match. Otherwise, find the next occurrence in the\n       * appropriate direction.\n       *\n       * This differs from `findNext` in the following ways:\n       *\n       * 1. Instead of only returning the \"from\", this returns a \"from\", \"to\" range.\n       * 2. If the cursor is currently inside a search match, this selects the current match\n       *    instead of the next match.\n       * 3. If there is no associated operator, this will turn on visual mode.\n       */\n      findAndSelectNextInclusive: function(cm, _head, motionArgs, vim, prevInputState) {\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n\n        if (!query) {\n          return;\n        }\n\n        var prev = !motionArgs.forward;\n        prev = (state.isReversed()) ? !prev : prev;\n\n        // next: [from, to] | null\n        var next = findNextFromAndToInclusive(cm, prev, query, motionArgs.repeat, vim);\n\n        // No matches.\n        if (!next) {\n          return;\n        }\n\n        // If there's an operator that will be executed, return the selection.\n        if (prevInputState.operator) {\n          return next;\n        }\n\n        // At this point, we know that there is no accompanying operator -- let's\n        // deal with visual mode in order to select an appropriate match.\n\n        var from = next[0];\n        // For whatever reason, when we use the \"to\" as returned by searchcursor.js directly,\n        // the resulting selection is extended by 1 char. Let's shrink it so that only the\n        // match is selected.\n        var to = new Pos(next[1].line, next[1].ch - 1);\n\n        if (vim.visualMode) {\n          // If we were in visualLine or visualBlock mode, get out of it.\n          if (vim.visualLine || vim.visualBlock) {\n            vim.visualLine = false;\n            vim.visualBlock = false;\n            CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: \"\"});\n          }\n\n          // If we're currently in visual mode, we should extend the selection to include\n          // the search result.\n          var anchor = vim.sel.anchor;\n          if (anchor) {\n            if (state.isReversed()) {\n              if (motionArgs.forward) {\n                return [anchor, from];\n              }\n\n              return [anchor, to];\n            } else {\n              if (motionArgs.forward) {\n                return [anchor, to];\n              }\n\n              return [anchor, from];\n            }\n          }\n        } else {\n          // Let's turn visual mode on.\n          vim.visualMode = true;\n          vim.visualLine = false;\n          vim.visualBlock = false;\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: \"\"});\n        }\n\n        return prev ? [to, from] : [from, to];\n      },\n      goToMark: function(cm, _head, motionArgs, vim) {\n        var pos = getMarkPos(cm, vim, motionArgs.selectedCharacter);\n        if (pos) {\n          return motionArgs.linewise ? { line: pos.line, ch: findFirstNonWhiteSpaceCharacter(cm.getLine(pos.line)) } : pos;\n        }\n        return null;\n      },\n      moveToOtherHighlightedEnd: function(cm, _head, motionArgs, vim) {\n        if (vim.visualBlock && motionArgs.sameLine) {\n          var sel = vim.sel;\n          return [\n            clipCursorToContent(cm, new Pos(sel.anchor.line, sel.head.ch)),\n            clipCursorToContent(cm, new Pos(sel.head.line, sel.anchor.ch))\n          ];\n        } else {\n          return ([vim.sel.head, vim.sel.anchor]);\n        }\n      },\n      jumpToMark: function(cm, head, motionArgs, vim) {\n        var best = head;\n        for (var i = 0; i < motionArgs.repeat; i++) {\n          var cursor = best;\n          for (var key in vim.marks) {\n            if (!isLowerCase(key)) {\n              continue;\n            }\n            var mark = vim.marks[key].find();\n            var isWrongDirection = (motionArgs.forward) ?\n              cursorIsBefore(mark, cursor) : cursorIsBefore(cursor, mark);\n\n            if (isWrongDirection) {\n              continue;\n            }\n            if (motionArgs.linewise && (mark.line == cursor.line)) {\n              continue;\n            }\n\n            var equal = cursorEqual(cursor, best);\n            var between = (motionArgs.forward) ?\n              cursorIsBetween(cursor, mark, best) :\n              cursorIsBetween(best, mark, cursor);\n\n            if (equal || between) {\n              best = mark;\n            }\n          }\n        }\n\n        if (motionArgs.linewise) {\n          // Vim places the cursor on the first non-whitespace character of\n          // the line if there is one, else it places the cursor at the end\n          // of the line, regardless of whether a mark was found.\n          best = new Pos(best.line, findFirstNonWhiteSpaceCharacter(cm.getLine(best.line)));\n        }\n        return best;\n      },\n      moveByCharacters: function(_cm, head, motionArgs) {\n        var cur = head;\n        var repeat = motionArgs.repeat;\n        var ch = motionArgs.forward ? cur.ch + repeat : cur.ch - repeat;\n        return new Pos(cur.line, ch);\n      },\n      moveByLines: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        var endCh = cur.ch;\n        // Depending what our last motion was, we may want to do different\n        // things. If our last motion was moving vertically, we want to\n        // preserve the HPos from our last horizontal move.  If our last motion\n        // was going to the end of a line, moving vertically we should go to\n        // the end of the line, etc.\n        switch (vim.lastMotion) {\n          case this.moveByLines:\n          case this.moveByDisplayLines:\n          case this.moveByScroll:\n          case this.moveToColumn:\n          case this.moveToEol:\n            endCh = vim.lastHPos;\n            break;\n          default:\n            vim.lastHPos = endCh;\n        }\n        var repeat = motionArgs.repeat+(motionArgs.repeatOffset||0);\n        var line = motionArgs.forward ? cur.line + repeat : cur.line - repeat;\n        var first = cm.firstLine();\n        var last = cm.lastLine();\n        var posV = cm.findPosV(cur, (motionArgs.forward ? repeat : -repeat), 'line', vim.lastHSPos);\n        var hasMarkedText = motionArgs.forward ? posV.line > line : posV.line < line;\n        if (hasMarkedText) {\n          line = posV.line;\n          endCh = posV.ch;\n        }\n        // Vim go to line begin or line end when cursor at first/last line and\n        // move to previous/next line is triggered.\n        if (line < first && cur.line == first){\n          return this.moveToStartOfLine(cm, head, motionArgs, vim);\n        } else if (line > last && cur.line == last){\n            return moveToEol(cm, head, motionArgs, vim, true);\n        }\n        if (motionArgs.toFirstChar){\n          endCh=findFirstNonWhiteSpaceCharacter(cm.getLine(line));\n          vim.lastHPos = endCh;\n        }\n        vim.lastHSPos = cm.charCoords(new Pos(line, endCh),'div').left;\n        return new Pos(line, endCh);\n      },\n      moveByDisplayLines: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        switch (vim.lastMotion) {\n          case this.moveByDisplayLines:\n          case this.moveByScroll:\n          case this.moveByLines:\n          case this.moveToColumn:\n          case this.moveToEol:\n            break;\n          default:\n            vim.lastHSPos = cm.charCoords(cur,'div').left;\n        }\n        var repeat = motionArgs.repeat;\n        var res=cm.findPosV(cur,(motionArgs.forward ? repeat : -repeat),'line',vim.lastHSPos);\n        if (res.hitSide) {\n          if (motionArgs.forward) {\n            var lastCharCoords = cm.charCoords(res, 'div');\n            var goalCoords = { top: lastCharCoords.top + 8, left: vim.lastHSPos };\n            var res = cm.coordsChar(goalCoords, 'div');\n          } else {\n            var resCoords = cm.charCoords(new Pos(cm.firstLine(), 0), 'div');\n            resCoords.left = vim.lastHSPos;\n            res = cm.coordsChar(resCoords, 'div');\n          }\n        }\n        vim.lastHPos = res.ch;\n        return res;\n      },\n      moveByPage: function(cm, head, motionArgs) {\n        // CodeMirror only exposes functions that move the cursor page down, so\n        // doing this bad hack to move the cursor and move it back. evalInput\n        // will move the cursor to where it should be in the end.\n        var curStart = head;\n        var repeat = motionArgs.repeat;\n        return cm.findPosV(curStart, (motionArgs.forward ? repeat : -repeat), 'page');\n      },\n      moveByParagraph: function(cm, head, motionArgs) {\n        var dir = motionArgs.forward ? 1 : -1;\n        return findParagraph(cm, head, motionArgs.repeat, dir);\n      },\n      moveBySentence: function(cm, head, motionArgs) {\n        var dir = motionArgs.forward ? 1 : -1;\n        return findSentence(cm, head, motionArgs.repeat, dir);\n      },\n      moveByScroll: function(cm, head, motionArgs, vim) {\n        var scrollbox = cm.getScrollInfo();\n        var curEnd = null;\n        var repeat = motionArgs.repeat;\n        if (!repeat) {\n          repeat = scrollbox.clientHeight / (2 * cm.defaultTextHeight());\n        }\n        var orig = cm.charCoords(head, 'local');\n        motionArgs.repeat = repeat;\n        curEnd = motions.moveByDisplayLines(cm, head, motionArgs, vim);\n        if (!curEnd) {\n          return null;\n        }\n        var dest = cm.charCoords(curEnd, 'local');\n        cm.scrollTo(null, scrollbox.top + dest.top - orig.top);\n        return curEnd;\n      },\n      moveByWords: function(cm, head, motionArgs) {\n        return moveToWord(cm, head, motionArgs.repeat, !!motionArgs.forward,\n            !!motionArgs.wordEnd, !!motionArgs.bigWord);\n      },\n      moveTillCharacter: function(cm, _head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        var curEnd = moveToCharacter(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter);\n        var increment = motionArgs.forward ? -1 : 1;\n        recordLastCharacterSearch(increment, motionArgs);\n        if (!curEnd) return null;\n        curEnd.ch += increment;\n        return curEnd;\n      },\n      moveToCharacter: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        recordLastCharacterSearch(0, motionArgs);\n        return moveToCharacter(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter) || head;\n      },\n      moveToSymbol: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        return findSymbol(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter) || head;\n      },\n      moveToColumn: function(cm, head, motionArgs, vim) {\n        var repeat = motionArgs.repeat;\n        // repeat is equivalent to which column we want to move to!\n        vim.lastHPos = repeat - 1;\n        vim.lastHSPos = cm.charCoords(head,'div').left;\n        return moveToColumn(cm, repeat);\n      },\n      moveToEol: function(cm, head, motionArgs, vim) {\n        return moveToEol(cm, head, motionArgs, vim, false);\n      },\n      moveToFirstNonWhiteSpaceCharacter: function(cm, head) {\n        // Go to the start of the line where the text begins, or the end for\n        // whitespace-only lines\n        var cursor = head;\n        return new Pos(cursor.line,\n                   findFirstNonWhiteSpaceCharacter(cm.getLine(cursor.line)));\n      },\n      moveToMatchedSymbol: function(cm, head) {\n        var cursor = head;\n        var line = cursor.line;\n        var ch = cursor.ch;\n        var lineText = cm.getLine(line);\n        var symbol;\n        for (; ch < lineText.length; ch++) {\n          symbol = lineText.charAt(ch);\n          if (symbol && isMatchableSymbol(symbol)) {\n            var style = cm.getTokenTypeAt(new Pos(line, ch + 1));\n            if (style !== \"string\" && style !== \"comment\") {\n              break;\n            }\n          }\n        }\n        if (ch < lineText.length) {\n          // Only include angle brackets in analysis if they are being matched.\n          var re = (ch === '<' || ch === '>') ? /[(){}[\\]<>]/ : /[(){}[\\]]/;\n          var matched = cm.findMatchingBracket(new Pos(line, ch), {bracketRegex: re});\n          return matched.to;\n        } else {\n          return cursor;\n        }\n      },\n      moveToStartOfLine: function(_cm, head) {\n        return new Pos(head.line, 0);\n      },\n      moveToLineOrEdgeOfDocument: function(cm, _head, motionArgs) {\n        var lineNum = motionArgs.forward ? cm.lastLine() : cm.firstLine();\n        if (motionArgs.repeatIsExplicit) {\n          lineNum = motionArgs.repeat - cm.getOption('firstLineNumber');\n        }\n        return new Pos(lineNum,\n                   findFirstNonWhiteSpaceCharacter(cm.getLine(lineNum)));\n      },\n      moveToStartOfDisplayLine: function(cm) {\n        cm.execCommand(\"goLineLeft\");\n        return cm.getCursor();\n      },\n      moveToEndOfDisplayLine: function(cm) {\n        cm.execCommand(\"goLineRight\");\n        var head = cm.getCursor();\n        if (head.sticky == \"before\") head.ch--;\n        return head;\n      },\n      textObjectManipulation: function(cm, head, motionArgs, vim) {\n        // TODO: lots of possible exceptions that can be thrown here. Try da(\n        //     outside of a () block.\n        var mirroredPairs = {'(': ')', ')': '(',\n                             '{': '}', '}': '{',\n                             '[': ']', ']': '[',\n                             '<': '>', '>': '<'};\n        var selfPaired = {'\\'': true, '\"': true, '`': true};\n\n        var character = motionArgs.selectedCharacter;\n        // 'b' refers to  '()' block.\n        // 'B' refers to  '{}' block.\n        if (character == 'b') {\n          character = '(';\n        } else if (character == 'B') {\n          character = '{';\n        }\n\n        // Inclusive is the difference between a and i\n        // TODO: Instead of using the additional text object map to perform text\n        //     object operations, merge the map into the defaultKeyMap and use\n        //     motionArgs to define behavior. Define separate entries for 'aw',\n        //     'iw', 'a[', 'i[', etc.\n        var inclusive = !motionArgs.textObjectInner;\n\n        var tmp;\n        if (mirroredPairs[character]) {\n          tmp = selectCompanionObject(cm, head, character, inclusive);\n        } else if (selfPaired[character]) {\n          tmp = findBeginningAndEnd(cm, head, character, inclusive);\n        } else if (character === 'W') {\n          tmp = expandWordUnderCursor(cm, inclusive, true /** forward */,\n                                                     true /** bigWord */);\n        } else if (character === 'w') {\n          tmp = expandWordUnderCursor(cm, inclusive, true /** forward */,\n                                                     false /** bigWord */);\n        } else if (character === 'p') {\n          tmp = findParagraph(cm, head, motionArgs.repeat, 0, inclusive);\n          motionArgs.linewise = true;\n          if (vim.visualMode) {\n            if (!vim.visualLine) { vim.visualLine = true; }\n          } else {\n            var operatorArgs = vim.inputState.operatorArgs;\n            if (operatorArgs) { operatorArgs.linewise = true; }\n            tmp.end.line--;\n          }\n        } else if (character === 't') {\n          tmp = expandTagUnderCursor(cm, head, inclusive);\n        } else if (character === 's') {\n          // account for cursor on end of sentence symbol\n          var content = cm.getLine(head.line);\n          if (head.ch > 0 && isEndOfSentenceSymbol(content[head.ch])) {\n            head.ch -= 1;\n          }\n          var end = getSentence(cm, head, motionArgs.repeat, 1, inclusive);\n          var start = getSentence(cm, head, motionArgs.repeat, -1, inclusive);\n          // closer vim behaviour, 'a' only takes the space after the sentence if there is one before and after\n          if (isWhiteSpaceString(cm.getLine(start.line)[start.ch])\n              && isWhiteSpaceString(cm.getLine(end.line)[end.ch -1])) {\n            start = {line: start.line, ch: start.ch + 1};\n          }\n          tmp = {start: start, end: end};\n        } else {\n          // No text object defined for this, don't move.\n          return null;\n        }\n\n        if (!cm.state.vim.visualMode) {\n          return [tmp.start, tmp.end];\n        } else {\n          return expandSelection(cm, tmp.start, tmp.end);\n        }\n      },\n\n      repeatLastCharacterSearch: function(cm, head, motionArgs) {\n        var lastSearch = vimGlobalState.lastCharacterSearch;\n        var repeat = motionArgs.repeat;\n        var forward = motionArgs.forward === lastSearch.forward;\n        var increment = (lastSearch.increment ? 1 : 0) * (forward ? -1 : 1);\n        cm.moveH(-increment, 'char');\n        motionArgs.inclusive = forward ? true : false;\n        var curEnd = moveToCharacter(cm, repeat, forward, lastSearch.selectedCharacter);\n        if (!curEnd) {\n          cm.moveH(increment, 'char');\n          return head;\n        }\n        curEnd.ch += increment;\n        return curEnd;\n      }\n    };\n\n    function defineMotion(name, fn) {\n      motions[name] = fn;\n    }\n\n    function fillArray(val, times) {\n      var arr = [];\n      for (var i = 0; i < times; i++) {\n        arr.push(val);\n      }\n      return arr;\n    }\n    /**\n     * An operator acts on a text selection. It receives the list of selections\n     * as input. The corresponding CodeMirror selection is guaranteed to\n    * match the input selection.\n     */\n    var operators = {\n      change: function(cm, args, ranges) {\n        var finalHead, text;\n        var vim = cm.state.vim;\n        var anchor = ranges[0].anchor,\n            head = ranges[0].head;\n        if (!vim.visualMode) {\n          text = cm.getRange(anchor, head);\n          var lastState = vim.lastEditInputState || {};\n          if (lastState.motion == \"moveByWords\" && !isWhiteSpaceString(text)) {\n            // Exclude trailing whitespace if the range is not all whitespace.\n            var match = (/\\s+$/).exec(text);\n            if (match && lastState.motionArgs && lastState.motionArgs.forward) {\n              head = offsetCursor(head, 0, - match[0].length);\n              text = text.slice(0, - match[0].length);\n            }\n          }\n          var prevLineEnd = new Pos(anchor.line - 1, Number.MAX_VALUE);\n          var wasLastLine = cm.firstLine() == cm.lastLine();\n          if (head.line > cm.lastLine() && args.linewise && !wasLastLine) {\n            cm.replaceRange('', prevLineEnd, head);\n          } else {\n            cm.replaceRange('', anchor, head);\n          }\n          if (args.linewise) {\n            // Push the next line back down, if there is a next line.\n            if (!wasLastLine) {\n              cm.setCursor(prevLineEnd);\n              CodeMirror.commands.newlineAndIndent(cm);\n            }\n            // make sure cursor ends up at the end of the line.\n            anchor.ch = Number.MAX_VALUE;\n          }\n          finalHead = anchor;\n        } else if (args.fullLine) {\n            head.ch = Number.MAX_VALUE;\n            head.line--;\n            cm.setSelection(anchor, head);\n            text = cm.getSelection();\n            cm.replaceSelection(\"\");\n            finalHead = anchor;\n        } else {\n          text = cm.getSelection();\n          var replacement = fillArray('', ranges.length);\n          cm.replaceSelections(replacement);\n          finalHead = cursorMin(ranges[0].head, ranges[0].anchor);\n        }\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'change', text,\n            args.linewise, ranges.length > 1);\n        actions.enterInsertMode(cm, {head: finalHead}, cm.state.vim);\n      },\n      // delete is a javascript keyword.\n      'delete': function(cm, args, ranges) {\n        var finalHead, text;\n        var vim = cm.state.vim;\n        if (!vim.visualBlock) {\n          var anchor = ranges[0].anchor,\n              head = ranges[0].head;\n          if (args.linewise &&\n              head.line != cm.firstLine() &&\n              anchor.line == cm.lastLine() &&\n              anchor.line == head.line - 1) {\n            // Special case for dd on last line (and first line).\n            if (anchor.line == cm.firstLine()) {\n              anchor.ch = 0;\n            } else {\n              anchor = new Pos(anchor.line - 1, lineLength(cm, anchor.line - 1));\n            }\n          }\n          text = cm.getRange(anchor, head);\n          cm.replaceRange('', anchor, head);\n          finalHead = anchor;\n          if (args.linewise) {\n            finalHead = motions.moveToFirstNonWhiteSpaceCharacter(cm, anchor);\n          }\n        } else {\n          text = cm.getSelection();\n          var replacement = fillArray('', ranges.length);\n          cm.replaceSelections(replacement);\n          finalHead = cursorMin(ranges[0].head, ranges[0].anchor);\n        }\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'delete', text,\n            args.linewise, vim.visualBlock);\n        return clipCursorToContent(cm, finalHead);\n      },\n      indent: function(cm, args, ranges) {\n        var vim = cm.state.vim;\n        if (cm.indentMore) {\n          var repeat = (vim.visualMode) ? args.repeat : 1;\n          for (var j = 0; j < repeat; j++) {\n            if (args.indentRight) cm.indentMore();\n            else cm.indentLess();\n          }\n        } else {\n          var startLine = ranges[0].anchor.line;\n          var endLine = vim.visualBlock ?\n            ranges[ranges.length - 1].anchor.line :\n            ranges[0].head.line;\n          // In visual mode, n> shifts the selection right n times, instead of\n          // shifting n lines right once.\n          var repeat = (vim.visualMode) ? args.repeat : 1;\n          if (args.linewise) {\n            // The only way to delete a newline is to delete until the start of\n            // the next line, so in linewise mode evalInput will include the next\n            // line. We don't want this in indent, so we go back a line.\n            endLine--;\n          }\n          for (var i = startLine; i <= endLine; i++) {\n            for (var j = 0; j < repeat; j++) {\n              cm.indentLine(i, args.indentRight);\n            }\n          }\n        }\n        return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);\n      },\n      indentAuto: function(cm, _args, ranges) {\n        cm.execCommand(\"indentAuto\");\n        return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);\n      },\n      changeCase: function(cm, args, ranges, oldAnchor, newHead) {\n        var selections = cm.getSelections();\n        var swapped = [];\n        var toLower = args.toLower;\n        for (var j = 0; j < selections.length; j++) {\n          var toSwap = selections[j];\n          var text = '';\n          if (toLower === true) {\n            text = toSwap.toLowerCase();\n          } else if (toLower === false) {\n            text = toSwap.toUpperCase();\n          } else {\n            for (var i = 0; i < toSwap.length; i++) {\n              var character = toSwap.charAt(i);\n              text += isUpperCase(character) ? character.toLowerCase() :\n                  character.toUpperCase();\n            }\n          }\n          swapped.push(text);\n        }\n        cm.replaceSelections(swapped);\n        if (args.shouldMoveCursor){\n          return newHead;\n        } else if (!cm.state.vim.visualMode && args.linewise && ranges[0].anchor.line + 1 == ranges[0].head.line) {\n          return motions.moveToFirstNonWhiteSpaceCharacter(cm, oldAnchor);\n        } else if (args.linewise){\n          return oldAnchor;\n        } else {\n          return cursorMin(ranges[0].anchor, ranges[0].head);\n        }\n      },\n      yank: function(cm, args, ranges, oldAnchor) {\n        var vim = cm.state.vim;\n        var text = cm.getSelection();\n        var endPos = vim.visualMode\n          ? cursorMin(vim.sel.anchor, vim.sel.head, ranges[0].head, ranges[0].anchor)\n          : oldAnchor;\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'yank',\n            text, args.linewise, vim.visualBlock);\n        return endPos;\n      }\n    };\n\n    function defineOperator(name, fn) {\n      operators[name] = fn;\n    }\n\n    var actions = {\n      jumpListWalk: function(cm, actionArgs, vim) {\n        if (vim.visualMode) {\n          return;\n        }\n        var repeat = actionArgs.repeat;\n        var forward = actionArgs.forward;\n        var jumpList = vimGlobalState.jumpList;\n\n        var mark = jumpList.move(cm, forward ? repeat : -repeat);\n        var markPos = mark ? mark.find() : undefined;\n        markPos = markPos ? markPos : cm.getCursor();\n        cm.setCursor(markPos);\n      },\n      scroll: function(cm, actionArgs, vim) {\n        if (vim.visualMode) {\n          return;\n        }\n        var repeat = actionArgs.repeat || 1;\n        var lineHeight = cm.defaultTextHeight();\n        var top = cm.getScrollInfo().top;\n        var delta = lineHeight * repeat;\n        var newPos = actionArgs.forward ? top + delta : top - delta;\n        var cursor = copyCursor(cm.getCursor());\n        var cursorCoords = cm.charCoords(cursor, 'local');\n        if (actionArgs.forward) {\n          if (newPos > cursorCoords.top) {\n             cursor.line += (newPos - cursorCoords.top) / lineHeight;\n             cursor.line = Math.ceil(cursor.line);\n             cm.setCursor(cursor);\n             cursorCoords = cm.charCoords(cursor, 'local');\n             cm.scrollTo(null, cursorCoords.top);\n          } else {\n             // Cursor stays within bounds.  Just reposition the scroll window.\n             cm.scrollTo(null, newPos);\n          }\n        } else {\n          var newBottom = newPos + cm.getScrollInfo().clientHeight;\n          if (newBottom < cursorCoords.bottom) {\n             cursor.line -= (cursorCoords.bottom - newBottom) / lineHeight;\n             cursor.line = Math.floor(cursor.line);\n             cm.setCursor(cursor);\n             cursorCoords = cm.charCoords(cursor, 'local');\n             cm.scrollTo(\n                 null, cursorCoords.bottom - cm.getScrollInfo().clientHeight);\n          } else {\n             // Cursor stays within bounds.  Just reposition the scroll window.\n             cm.scrollTo(null, newPos);\n          }\n        }\n      },\n      scrollToCursor: function(cm, actionArgs) {\n        var lineNum = cm.getCursor().line;\n        var charCoords = cm.charCoords(new Pos(lineNum, 0), 'local');\n        var height = cm.getScrollInfo().clientHeight;\n        var y = charCoords.top;\n        switch (actionArgs.position) {\n          case 'center': y = charCoords.bottom - height / 2;\n            break;\n          case 'bottom':\n            var lineLastCharPos = new Pos(lineNum, cm.getLine(lineNum).length - 1);\n            var lineLastCharCoords = cm.charCoords(lineLastCharPos, 'local');\n            var lineHeight = lineLastCharCoords.bottom - y;\n            y = y - height + lineHeight;\n            break;\n        }\n        cm.scrollTo(null, y);\n      },\n      replayMacro: function(cm, actionArgs, vim) {\n        var registerName = actionArgs.selectedCharacter;\n        var repeat = actionArgs.repeat;\n        var macroModeState = vimGlobalState.macroModeState;\n        if (registerName == '@') {\n          registerName = macroModeState.latestRegister;\n        } else {\n          macroModeState.latestRegister = registerName;\n        }\n        while(repeat--){\n          executeMacroRegister(cm, vim, macroModeState, registerName);\n        }\n      },\n      enterMacroRecordMode: function(cm, actionArgs) {\n        var macroModeState = vimGlobalState.macroModeState;\n        var registerName = actionArgs.selectedCharacter;\n        if (vimGlobalState.registerController.isValidRegister(registerName)) {\n          macroModeState.enterMacroRecordMode(cm, registerName);\n        }\n      },\n      toggleOverwrite: function(cm) {\n        if (!cm.state.overwrite) {\n          cm.toggleOverwrite(true);\n          cm.setOption('keyMap', 'vim-replace');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"replace\"});\n        } else {\n          cm.toggleOverwrite(false);\n          cm.setOption('keyMap', 'vim-insert');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"insert\"});\n        }\n      },\n      enterInsertMode: function(cm, actionArgs, vim) {\n        if (cm.getOption('readOnly')) { return; }\n        vim.insertMode = true;\n        vim.insertModeRepeat = actionArgs && actionArgs.repeat || 1;\n        var insertAt = (actionArgs) ? actionArgs.insertAt : null;\n        var sel = vim.sel;\n        var head = actionArgs.head || cm.getCursor('head');\n        var height = cm.listSelections().length;\n        if (insertAt == 'eol') {\n          head = new Pos(head.line, lineLength(cm, head.line));\n        } else if (insertAt == 'bol') {\n          head = new Pos(head.line, 0);\n        } else if (insertAt == 'charAfter') {\n          var newPosition = updateSelectionForSurrogateCharacters(cm, head, offsetCursor(head, 0, 1));\n          head = newPosition.end;\n        } else if (insertAt == 'firstNonBlank') {\n          var newPosition = updateSelectionForSurrogateCharacters(cm, head, motions.moveToFirstNonWhiteSpaceCharacter(cm, head));\n          head = newPosition.end;\n        } else if (insertAt == 'startOfSelectedArea') {\n          if (!vim.visualMode)\n              return;\n          if (!vim.visualBlock) {\n            if (sel.head.line < sel.anchor.line) {\n              head = sel.head;\n            } else {\n              head = new Pos(sel.anchor.line, 0);\n            }\n          } else {\n            head = new Pos(\n                Math.min(sel.head.line, sel.anchor.line),\n                Math.min(sel.head.ch, sel.anchor.ch));\n            height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n          }\n        } else if (insertAt == 'endOfSelectedArea') {\n            if (!vim.visualMode)\n              return;\n          if (!vim.visualBlock) {\n            if (sel.head.line >= sel.anchor.line) {\n              head = offsetCursor(sel.head, 0, 1);\n            } else {\n              head = new Pos(sel.anchor.line, 0);\n            }\n          } else {\n            head = new Pos(\n                Math.min(sel.head.line, sel.anchor.line),\n                Math.max(sel.head.ch, sel.anchor.ch) + 1);\n            height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n          }\n        } else if (insertAt == 'inplace') {\n          if (vim.visualMode){\n            return;\n          }\n        } else if (insertAt == 'lastEdit') {\n          head = getLastEditPos(cm) || head;\n        }\n        cm.setOption('disableInput', false);\n        if (actionArgs && actionArgs.replace) {\n          // Handle Replace-mode as a special case of insert mode.\n          cm.toggleOverwrite(true);\n          cm.setOption('keyMap', 'vim-replace');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"replace\"});\n        } else {\n          cm.toggleOverwrite(false);\n          cm.setOption('keyMap', 'vim-insert');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"insert\"});\n        }\n        if (!vimGlobalState.macroModeState.isPlaying) {\n          // Only record if not replaying.\n          cm.on('change', onChange);\n          CodeMirror.on(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n        }\n        if (vim.visualMode) {\n          exitVisualMode(cm);\n        }\n        selectForInsert(cm, head, height);\n      },\n      toggleVisualMode: function(cm, actionArgs, vim) {\n        var repeat = actionArgs.repeat;\n        var anchor = cm.getCursor();\n        var head;\n        // TODO: The repeat should actually select number of characters/lines\n        //     equal to the repeat times the size of the previous visual\n        //     operation.\n        if (!vim.visualMode) {\n          // Entering visual mode\n          vim.visualMode = true;\n          vim.visualLine = !!actionArgs.linewise;\n          vim.visualBlock = !!actionArgs.blockwise;\n          head = clipCursorToContent(\n              cm, new Pos(anchor.line, anchor.ch + repeat - 1));\n          var newPosition = updateSelectionForSurrogateCharacters(cm, anchor, head);\n          vim.sel = {\n            anchor: newPosition.start,\n            head: newPosition.end\n          };\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"});\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorMin(anchor, head));\n          updateMark(cm, vim, '>', cursorMax(anchor, head));\n        } else if (vim.visualLine ^ actionArgs.linewise ||\n            vim.visualBlock ^ actionArgs.blockwise) {\n          // Toggling between modes\n          vim.visualLine = !!actionArgs.linewise;\n          vim.visualBlock = !!actionArgs.blockwise;\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"});\n          updateCmSelection(cm);\n        } else {\n          exitVisualMode(cm);\n        }\n      },\n      reselectLastSelection: function(cm, _actionArgs, vim) {\n        var lastSelection = vim.lastSelection;\n        if (vim.visualMode) {\n          updateLastSelection(cm, vim);\n        }\n        if (lastSelection) {\n          var anchor = lastSelection.anchorMark.find();\n          var head = lastSelection.headMark.find();\n          if (!anchor || !head) {\n            // If the marks have been destroyed due to edits, do nothing.\n            return;\n          }\n          vim.sel = {\n            anchor: anchor,\n            head: head\n          };\n          vim.visualMode = true;\n          vim.visualLine = lastSelection.visualLine;\n          vim.visualBlock = lastSelection.visualBlock;\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorMin(anchor, head));\n          updateMark(cm, vim, '>', cursorMax(anchor, head));\n          CodeMirror.signal(cm, 'vim-mode-change', {\n            mode: 'visual',\n            subMode: vim.visualLine ? 'linewise' :\n                     vim.visualBlock ? 'blockwise' : ''});\n        }\n      },\n      joinLines: function(cm, actionArgs, vim) {\n        var curStart, curEnd;\n        if (vim.visualMode) {\n          curStart = cm.getCursor('anchor');\n          curEnd = cm.getCursor('head');\n          if (cursorIsBefore(curEnd, curStart)) {\n            var tmp = curEnd;\n            curEnd = curStart;\n            curStart = tmp;\n          }\n          curEnd.ch = lineLength(cm, curEnd.line) - 1;\n        } else {\n          // Repeat is the number of lines to join. Minimum 2 lines.\n          var repeat = Math.max(actionArgs.repeat, 2);\n          curStart = cm.getCursor();\n          curEnd = clipCursorToContent(cm, new Pos(curStart.line + repeat - 1,\n                                               Infinity));\n        }\n        var finalCh = 0;\n        for (var i = curStart.line; i < curEnd.line; i++) {\n          finalCh = lineLength(cm, curStart.line);\n          var text = '';\n          var nextStartCh = 0;\n          if (!actionArgs.keepSpaces) {\n            var nextLine = cm.getLine(curStart.line + 1);\n            nextStartCh = nextLine.search(/\\S/);\n            if (nextStartCh == -1) {\n              nextStartCh = nextLine.length;\n            } else {\n              text = \" \";\n            }\n          }\n          cm.replaceRange(text, \n            new Pos(curStart.line, finalCh),\n            new Pos(curStart.line + 1, nextStartCh));\n        }\n        var curFinalPos = clipCursorToContent(cm, new Pos(curStart.line, finalCh));\n        if (vim.visualMode) {\n          exitVisualMode(cm, false);\n        }\n        cm.setCursor(curFinalPos);\n      },\n      newLineAndEnterInsertMode: function(cm, actionArgs, vim) {\n        vim.insertMode = true;\n        var insertAt = copyCursor(cm.getCursor());\n        if (insertAt.line === cm.firstLine() && !actionArgs.after) {\n          // Special case for inserting newline before start of document.\n          cm.replaceRange('\\n', new Pos(cm.firstLine(), 0));\n          cm.setCursor(cm.firstLine(), 0);\n        } else {\n          insertAt.line = (actionArgs.after) ? insertAt.line :\n              insertAt.line - 1;\n          insertAt.ch = lineLength(cm, insertAt.line);\n          cm.setCursor(insertAt);\n          var newlineFn = CodeMirror.commands.newlineAndIndentContinueComment ||\n              CodeMirror.commands.newlineAndIndent;\n          newlineFn(cm);\n        }\n        this.enterInsertMode(cm, { repeat: actionArgs.repeat }, vim);\n      },\n      paste: function(cm, actionArgs, vim) {\n        var register = vimGlobalState.registerController.getRegister(\n            actionArgs.registerName);\n        if (actionArgs.registerName === '+') {\n          navigator.clipboard.readText().then((value) => {\n            this.continuePaste(cm, actionArgs, vim, value, register);\n          });\n        } else {\n          var text = register.toString();\n          this.continuePaste(cm, actionArgs, vim, text, register);\n        }\n      },\n      continuePaste: function(cm, actionArgs, vim, text, register) {\n        var cur = copyCursor(cm.getCursor());\n        if (!text) {\n          return;\n        }\n        if (actionArgs.matchIndent) {\n          var tabSize = cm.getOption(\"tabSize\");\n          // length that considers tabs and tabSize\n          var whitespaceLength = function(str) {\n            var tabs = (str.split(\"\\t\").length - 1);\n            var spaces = (str.split(\" \").length - 1);\n            return tabs * tabSize + spaces * 1;\n          };\n          var currentLine = cm.getLine(cm.getCursor().line);\n          var indent = whitespaceLength(currentLine.match(/^\\s*/)[0]);\n          // chomp last newline b/c don't want it to match /^\\s*/gm\n          var chompedText = text.replace(/\\n$/, '');\n          var wasChomped = text !== chompedText;\n          var firstIndent = whitespaceLength(text.match(/^\\s*/)[0]);\n          var text = chompedText.replace(/^\\s*/gm, function(wspace) {\n            var newIndent = indent + (whitespaceLength(wspace) - firstIndent);\n            if (newIndent < 0) {\n              return \"\";\n            }\n            else if (cm.getOption(\"indentWithTabs\")) {\n              var quotient = Math.floor(newIndent / tabSize);\n              return Array(quotient + 1).join('\\t');\n            }\n            else {\n              return Array(newIndent + 1).join(' ');\n            }\n          });\n          text += wasChomped ? \"\\n\" : \"\";\n        }\n        if (actionArgs.repeat > 1) {\n          var text = Array(actionArgs.repeat + 1).join(text);\n        }\n        var linewise = register.linewise;\n        var blockwise = register.blockwise;\n        if (blockwise) {\n          text = text.split('\\n');\n          if (linewise) {\n            text.pop();\n          }\n          for (var i = 0; i < text.length; i++) {\n            text[i] = (text[i] == '') ? ' ' : text[i];\n          }\n          cur.ch += actionArgs.after ? 1 : 0;\n          cur.ch = Math.min(lineLength(cm, cur.line), cur.ch);\n        } else if (linewise) {\n          if(vim.visualMode) {\n            text = vim.visualLine ? text.slice(0, -1) : '\\n' + text.slice(0, text.length - 1) + '\\n';\n          } else if (actionArgs.after) {\n            // Move the newline at the end to the start instead, and paste just\n            // before the newline character of the line we are on right now.\n            text = '\\n' + text.slice(0, text.length - 1);\n            cur.ch = lineLength(cm, cur.line);\n          } else {\n            cur.ch = 0;\n          }\n        } else {\n          cur.ch += actionArgs.after ? 1 : 0;\n        }\n        var curPosFinal;\n        var idx;\n        if (vim.visualMode) {\n          //  save the pasted text for reselection if the need arises\n          vim.lastPastedText = text;\n          var lastSelectionCurEnd;\n          var selectedArea = getSelectedAreaRange(cm, vim);\n          var selectionStart = selectedArea[0];\n          var selectionEnd = selectedArea[1];\n          var selectedText = cm.getSelection();\n          var selections = cm.listSelections();\n          var emptyStrings = new Array(selections.length).join('1').split('1');\n          // save the curEnd marker before it get cleared due to cm.replaceRange.\n          if (vim.lastSelection) {\n            lastSelectionCurEnd = vim.lastSelection.headMark.find();\n          }\n          // push the previously selected text to unnamed register\n          vimGlobalState.registerController.unnamedRegister.setText(selectedText);\n          if (blockwise) {\n            // first delete the selected text\n            cm.replaceSelections(emptyStrings);\n            // Set new selections as per the block length of the yanked text\n            selectionEnd = new Pos(selectionStart.line + text.length-1, selectionStart.ch);\n            cm.setCursor(selectionStart);\n            selectBlock(cm, selectionEnd);\n            cm.replaceSelections(text);\n            curPosFinal = selectionStart;\n          } else if (vim.visualBlock) {\n            cm.replaceSelections(emptyStrings);\n            cm.setCursor(selectionStart);\n            cm.replaceRange(text, selectionStart, selectionStart);\n            curPosFinal = selectionStart;\n          } else {\n            cm.replaceRange(text, selectionStart, selectionEnd);\n            curPosFinal = cm.posFromIndex(cm.indexFromPos(selectionStart) + text.length - 1);\n          }\n          // restore the the curEnd marker\n          if(lastSelectionCurEnd) {\n            vim.lastSelection.headMark = cm.setBookmark(lastSelectionCurEnd);\n          }\n          if (linewise) {\n            curPosFinal.ch=0;\n          }\n        } else {\n          if (blockwise) {\n            cm.setCursor(cur);\n            for (var i = 0; i < text.length; i++) {\n              var line = cur.line+i;\n              if (line > cm.lastLine()) {\n                cm.replaceRange('\\n',  new Pos(line, 0));\n              }\n              var lastCh = lineLength(cm, line);\n              if (lastCh < cur.ch) {\n                extendLineToColumn(cm, line, cur.ch);\n              }\n            }\n            cm.setCursor(cur);\n            selectBlock(cm, new Pos(cur.line + text.length-1, cur.ch));\n            cm.replaceSelections(text);\n            curPosFinal = cur;\n          } else {\n            cm.replaceRange(text, cur);\n            // Now fine tune the cursor to where we want it.\n            if (linewise && actionArgs.after) {\n              curPosFinal = new Pos(\n                cur.line + 1,\n                findFirstNonWhiteSpaceCharacter(cm.getLine(cur.line + 1)));\n            } else if (linewise && !actionArgs.after) {\n              curPosFinal = new Pos(\n                cur.line,\n                findFirstNonWhiteSpaceCharacter(cm.getLine(cur.line)));\n            } else if (!linewise && actionArgs.after) {\n              idx = cm.indexFromPos(cur);\n              curPosFinal = cm.posFromIndex(idx + text.length - 1);\n            } else {\n              idx = cm.indexFromPos(cur);\n              curPosFinal = cm.posFromIndex(idx + text.length);\n            }\n          }\n        }\n        if (vim.visualMode) {\n          exitVisualMode(cm, false);\n        }\n        cm.setCursor(curPosFinal);\n      },\n      undo: function(cm, actionArgs) {\n        cm.operation(function() {\n          repeatFn(cm, CodeMirror.commands.undo, actionArgs.repeat)();\n          cm.setCursor(clipCursorToContent(cm, cm.getCursor('start')));\n        });\n      },\n      redo: function(cm, actionArgs) {\n        repeatFn(cm, CodeMirror.commands.redo, actionArgs.repeat)();\n      },\n      setRegister: function(_cm, actionArgs, vim) {\n        vim.inputState.registerName = actionArgs.selectedCharacter;\n      },\n      insertRegister: function(cm, actionArgs, vim) {\n        var registerName = actionArgs.selectedCharacter;\n        var register = vimGlobalState.registerController.getRegister(registerName);\n        var text = register && register.toString();\n        if (text) {\n          cm.replaceSelection(text);\n        }\n      },\n      setMark: function(cm, actionArgs, vim) {\n        var markName = actionArgs.selectedCharacter;\n        updateMark(cm, vim, markName, cm.getCursor());\n      },\n      replace: function(cm, actionArgs, vim) {\n        var replaceWith = actionArgs.selectedCharacter;\n        var curStart = cm.getCursor();\n        var replaceTo;\n        var curEnd;\n        var selections = cm.listSelections();\n        if (vim.visualMode) {\n          curStart = cm.getCursor('start');\n          curEnd = cm.getCursor('end');\n        } else {\n          var line = cm.getLine(curStart.line);\n          replaceTo = curStart.ch + actionArgs.repeat;\n          if (replaceTo > line.length) {\n            replaceTo=line.length;\n          }\n          curEnd = new Pos(curStart.line, replaceTo);\n        }\n\n        var newPositions = updateSelectionForSurrogateCharacters(cm, curStart, curEnd);\n        curStart = newPositions.start;\n        curEnd = newPositions.end;\n        if (replaceWith=='\\n') {\n          if (!vim.visualMode) cm.replaceRange('', curStart, curEnd);\n          // special case, where vim help says to replace by just one line-break\n          (CodeMirror.commands.newlineAndIndentContinueComment || CodeMirror.commands.newlineAndIndent)(cm);\n        } else {\n          var replaceWithStr = cm.getRange(curStart, curEnd);\n          // replace all surrogate characters with selected character\n          replaceWithStr = replaceWithStr.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, replaceWith);\n          //replace all characters in range by selected, but keep linebreaks\n          replaceWithStr = replaceWithStr.replace(/[^\\n]/g, replaceWith);\n          if (vim.visualBlock) {\n            // Tabs are split in visua block before replacing\n            var spaces = new Array(cm.getOption(\"tabSize\")+1).join(' ');\n            replaceWithStr = cm.getSelection();\n            replaceWithStr = replaceWithStr.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, replaceWith);\n            replaceWithStr = replaceWithStr.replace(/\\t/g, spaces).replace(/[^\\n]/g, replaceWith).split('\\n');\n            cm.replaceSelections(replaceWithStr);\n          } else {\n            cm.replaceRange(replaceWithStr, curStart, curEnd);\n          }\n          if (vim.visualMode) {\n            curStart = cursorIsBefore(selections[0].anchor, selections[0].head) ?\n                         selections[0].anchor : selections[0].head;\n            cm.setCursor(curStart);\n            exitVisualMode(cm, false);\n          } else {\n            cm.setCursor(offsetCursor(curEnd, 0, -1));\n          }\n        }\n      },\n      incrementNumberToken: function(cm, actionArgs) {\n        var cur = cm.getCursor();\n        var lineStr = cm.getLine(cur.line);\n        var re = /(-?)(?:(0x)([\\da-f]+)|(0b|0|)(\\d+))/gi;\n        var match;\n        var start;\n        var end;\n        var numberStr;\n        while ((match = re.exec(lineStr)) !== null) {\n          start = match.index;\n          end = start + match[0].length;\n          if (cur.ch < end)break;\n        }\n        if (!actionArgs.backtrack && (end <= cur.ch))return;\n        if (match) {\n          var baseStr = match[2] || match[4];\n          var digits = match[3] || match[5];\n          var increment = actionArgs.increase ? 1 : -1;\n          var base = {'0b': 2, '0': 8, '': 10, '0x': 16}[baseStr.toLowerCase()];\n          var number = parseInt(match[1] + digits, base) + (increment * actionArgs.repeat);\n          numberStr = number.toString(base);\n          var zeroPadding = baseStr ? new Array(digits.length - numberStr.length + 1 + match[1].length).join('0') : '';\n          if (numberStr.charAt(0) === '-') {\n            numberStr = '-' + baseStr + zeroPadding + numberStr.substr(1);\n          } else {\n            numberStr = baseStr + zeroPadding + numberStr;\n          }\n          var from = new Pos(cur.line, start);\n          var to = new Pos(cur.line, end);\n          cm.replaceRange(numberStr, from, to);\n        } else {\n          return;\n        }\n        cm.setCursor(new Pos(cur.line, start + numberStr.length - 1));\n      },\n      repeatLastEdit: function(cm, actionArgs, vim) {\n        var lastEditInputState = vim.lastEditInputState;\n        if (!lastEditInputState) { return; }\n        var repeat = actionArgs.repeat;\n        if (repeat && actionArgs.repeatIsExplicit) {\n          vim.lastEditInputState.repeatOverride = repeat;\n        } else {\n          repeat = vim.lastEditInputState.repeatOverride || repeat;\n        }\n        repeatLastEdit(cm, vim, repeat, false /** repeatForInsert */);\n      },\n      indent: function(cm, actionArgs) {\n        cm.indentLine(cm.getCursor().line, actionArgs.indentRight);\n      },\n      exitInsertMode: exitInsertMode\n    };\n\n    function defineAction(name, fn) {\n      actions[name] = fn;\n    }\n\n    /*\n     * Below are miscellaneous utility functions used by vim.js\n     */\n\n    /**\n     * Clips cursor to ensure that line is within the buffer's range\n     * and is not inside surrogate pair\n     * If includeLineBreak is true, then allow cur.ch == lineLength.\n     */\n    function clipCursorToContent(cm, cur, oldCur) {\n      var vim = cm.state.vim;\n      var includeLineBreak = vim.insertMode || vim.visualMode;\n      var line = Math.min(Math.max(cm.firstLine(), cur.line), cm.lastLine() );\n      var text = cm.getLine(line);\n      var maxCh = text.length - 1 + Number(!!includeLineBreak);\n      var ch = Math.min(Math.max(0, cur.ch), maxCh);\n      // prevent cursor from entering surrogate pair\n      var charCode = text.charCodeAt(ch);\n      if (0xDC00 <= charCode && charCode <= 0xDFFF) {\n        var direction = 1;\n        if (oldCur && oldCur.line == line && oldCur.ch > ch) {\n          direction = -1;\n        }\n        ch +=direction;\n        if (ch > maxCh) ch -=2;\n      }\n      return new Pos(line, ch);\n    }\n    function copyArgs(args) {\n      var ret = {};\n      for (var prop in args) {\n        if (args.hasOwnProperty(prop)) {\n          ret[prop] = args[prop];\n        }\n      }\n      return ret;\n    }\n    function offsetCursor(cur, offsetLine, offsetCh) {\n      if (typeof offsetLine === 'object') {\n        offsetCh = offsetLine.ch;\n        offsetLine = offsetLine.line;\n      }\n      return new Pos(cur.line + offsetLine, cur.ch + offsetCh);\n    }\n    function commandMatches(keys, keyMap, context, inputState) {\n      // Partial matches are not applied. They inform the key handler\n      // that the current key sequence is a subsequence of a valid key\n      // sequence, so that the key buffer is not cleared.\n      var match, partial = [], full = [];\n      for (var i = 0; i < keyMap.length; i++) {\n        var command = keyMap[i];\n        if (context == 'insert' && command.context != 'insert' ||\n            command.context && command.context != context ||\n            inputState.operator && command.type == 'action' ||\n            !(match = commandMatch(keys, command.keys))) { continue; }\n        if (match == 'partial') { partial.push(command); }\n        if (match == 'full') { full.push(command); }\n      }\n      return {\n        partial: partial.length && partial,\n        full: full.length && full\n      };\n    }\n    function commandMatch(pressed, mapped) {\n      if (mapped.slice(-11) == '<character>') {\n        // Last character matches anything.\n        var prefixLen = mapped.length - 11;\n        var pressedPrefix = pressed.slice(0, prefixLen);\n        var mappedPrefix = mapped.slice(0, prefixLen);\n        return pressedPrefix == mappedPrefix && pressed.length > prefixLen ? 'full' :\n               mappedPrefix.indexOf(pressedPrefix) == 0 ? 'partial' : false;\n      } else {\n        return pressed == mapped ? 'full' :\n               mapped.indexOf(pressed) == 0 ? 'partial' : false;\n      }\n    }\n    function lastChar(keys) {\n      var match = /^.*(<[^>]+>)$/.exec(keys);\n      var selectedCharacter = match ? match[1] : keys.slice(-1);\n      if (selectedCharacter.length > 1){\n        switch(selectedCharacter){\n          case '<CR>':\n            selectedCharacter='\\n';\n            break;\n          case '<Space>':\n            selectedCharacter=' ';\n            break;\n          default:\n            selectedCharacter='';\n            break;\n        }\n      }\n      return selectedCharacter;\n    }\n    function repeatFn(cm, fn, repeat) {\n      return function() {\n        for (var i = 0; i < repeat; i++) {\n          fn(cm);\n        }\n      };\n    }\n    function copyCursor(cur) {\n      return new Pos(cur.line, cur.ch);\n    }\n    function cursorEqual(cur1, cur2) {\n      return cur1.ch == cur2.ch && cur1.line == cur2.line;\n    }\n    function cursorIsBefore(cur1, cur2) {\n      if (cur1.line < cur2.line) {\n        return true;\n      }\n      if (cur1.line == cur2.line && cur1.ch < cur2.ch) {\n        return true;\n      }\n      return false;\n    }\n    function cursorMin(cur1, cur2) {\n      if (arguments.length > 2) {\n        cur2 = cursorMin.apply(undefined, Array.prototype.slice.call(arguments, 1));\n      }\n      return cursorIsBefore(cur1, cur2) ? cur1 : cur2;\n    }\n    function cursorMax(cur1, cur2) {\n      if (arguments.length > 2) {\n        cur2 = cursorMax.apply(undefined, Array.prototype.slice.call(arguments, 1));\n      }\n      return cursorIsBefore(cur1, cur2) ? cur2 : cur1;\n    }\n    function cursorIsBetween(cur1, cur2, cur3) {\n      // returns true if cur2 is between cur1 and cur3.\n      var cur1before2 = cursorIsBefore(cur1, cur2);\n      var cur2before3 = cursorIsBefore(cur2, cur3);\n      return cur1before2 && cur2before3;\n    }\n    function lineLength(cm, lineNum) {\n      return cm.getLine(lineNum).length;\n    }\n    function trim(s) {\n      if (s.trim) {\n        return s.trim();\n      }\n      return s.replace(/^\\s+|\\s+$/g, '');\n    }\n    function escapeRegex(s) {\n      return s.replace(/([.?*+$\\[\\]\\/\\\\(){}|\\-])/g, '\\\\$1');\n    }\n    function extendLineToColumn(cm, lineNum, column) {\n      var endCh = lineLength(cm, lineNum);\n      var spaces = new Array(column-endCh+1).join(' ');\n      cm.setCursor(new Pos(lineNum, endCh));\n      cm.replaceRange(spaces, cm.getCursor());\n    }\n    // This functions selects a rectangular block\n    // of text with selectionEnd as any of its corner\n    // Height of block:\n    // Difference in selectionEnd.line and first/last selection.line\n    // Width of the block:\n    // Distance between selectionEnd.ch and any(first considered here) selection.ch\n    function selectBlock(cm, selectionEnd) {\n      var selections = [], ranges = cm.listSelections();\n      var head = copyCursor(cm.clipPos(selectionEnd));\n      var isClipped = !cursorEqual(selectionEnd, head);\n      var curHead = cm.getCursor('head');\n      var primIndex = getIndex(ranges, curHead);\n      var wasClipped = cursorEqual(ranges[primIndex].head, ranges[primIndex].anchor);\n      var max = ranges.length - 1;\n      var index = max - primIndex > primIndex ? max : 0;\n      var base = ranges[index].anchor;\n\n      var firstLine = Math.min(base.line, head.line);\n      var lastLine = Math.max(base.line, head.line);\n      var baseCh = base.ch, headCh = head.ch;\n\n      var dir = ranges[index].head.ch - baseCh;\n      var newDir = headCh - baseCh;\n      if (dir > 0 && newDir <= 0) {\n        baseCh++;\n        if (!isClipped) { headCh--; }\n      } else if (dir < 0 && newDir >= 0) {\n        baseCh--;\n        if (!wasClipped) { headCh++; }\n      } else if (dir < 0 && newDir == -1) {\n        baseCh--;\n        headCh++;\n      }\n      for (var line = firstLine; line <= lastLine; line++) {\n        var range = {anchor: new Pos(line, baseCh), head: new Pos(line, headCh)};\n        selections.push(range);\n      }\n      cm.setSelections(selections);\n      selectionEnd.ch = headCh;\n      base.ch = baseCh;\n      return base;\n    }\n    function selectForInsert(cm, head, height) {\n      var sel = [];\n      for (var i = 0; i < height; i++) {\n        var lineHead = offsetCursor(head, i, 0);\n        sel.push({anchor: lineHead, head: lineHead});\n      }\n      cm.setSelections(sel, 0);\n    }\n    // getIndex returns the index of the cursor in the selections.\n    function getIndex(ranges, cursor, end) {\n      for (var i = 0; i < ranges.length; i++) {\n        var atAnchor = end != 'head' && cursorEqual(ranges[i].anchor, cursor);\n        var atHead = end != 'anchor' && cursorEqual(ranges[i].head, cursor);\n        if (atAnchor || atHead) {\n          return i;\n        }\n      }\n      return -1;\n    }\n    function getSelectedAreaRange(cm, vim) {\n      var lastSelection = vim.lastSelection;\n      var getCurrentSelectedAreaRange = function() {\n        var selections = cm.listSelections();\n        var start =  selections[0];\n        var end = selections[selections.length-1];\n        var selectionStart = cursorIsBefore(start.anchor, start.head) ? start.anchor : start.head;\n        var selectionEnd = cursorIsBefore(end.anchor, end.head) ? end.head : end.anchor;\n        return [selectionStart, selectionEnd];\n      };\n      var getLastSelectedAreaRange = function() {\n        var selectionStart = cm.getCursor();\n        var selectionEnd = cm.getCursor();\n        var block = lastSelection.visualBlock;\n        if (block) {\n          var width = block.width;\n          var height = block.height;\n          selectionEnd = new Pos(selectionStart.line + height, selectionStart.ch + width);\n          var selections = [];\n          // selectBlock creates a 'proper' rectangular block.\n          // We do not want that in all cases, so we manually set selections.\n          for (var i = selectionStart.line; i < selectionEnd.line; i++) {\n            var anchor = new Pos(i, selectionStart.ch);\n            var head = new Pos(i, selectionEnd.ch);\n            var range = {anchor: anchor, head: head};\n            selections.push(range);\n          }\n          cm.setSelections(selections);\n        } else {\n          var start = lastSelection.anchorMark.find();\n          var end = lastSelection.headMark.find();\n          var line = end.line - start.line;\n          var ch = end.ch - start.ch;\n          selectionEnd = {line: selectionEnd.line + line, ch: line ? selectionEnd.ch : ch + selectionEnd.ch};\n          if (lastSelection.visualLine) {\n            selectionStart = new Pos(selectionStart.line, 0);\n            selectionEnd = new Pos(selectionEnd.line, lineLength(cm, selectionEnd.line));\n          }\n          cm.setSelection(selectionStart, selectionEnd);\n        }\n        return [selectionStart, selectionEnd];\n      };\n      if (!vim.visualMode) {\n      // In case of replaying the action.\n        return getLastSelectedAreaRange();\n      } else {\n        return getCurrentSelectedAreaRange();\n      }\n    }\n    // Updates the previous selection with the current selection's values. This\n    // should only be called in visual mode.\n    function updateLastSelection(cm, vim) {\n      var anchor = vim.sel.anchor;\n      var head = vim.sel.head;\n      // To accommodate the effect of lastPastedText in the last selection\n      if (vim.lastPastedText) {\n        head = cm.posFromIndex(cm.indexFromPos(anchor) + vim.lastPastedText.length);\n        vim.lastPastedText = null;\n      }\n      vim.lastSelection = {'anchorMark': cm.setBookmark(anchor),\n                           'headMark': cm.setBookmark(head),\n                           'anchor': copyCursor(anchor),\n                           'head': copyCursor(head),\n                           'visualMode': vim.visualMode,\n                           'visualLine': vim.visualLine,\n                           'visualBlock': vim.visualBlock};\n    }\n    function expandSelection(cm, start, end) {\n      var sel = cm.state.vim.sel;\n      var head = sel.head;\n      var anchor = sel.anchor;\n      var tmp;\n      if (cursorIsBefore(end, start)) {\n        tmp = end;\n        end = start;\n        start = tmp;\n      }\n      if (cursorIsBefore(head, anchor)) {\n        head = cursorMin(start, head);\n        anchor = cursorMax(anchor, end);\n      } else {\n        anchor = cursorMin(start, anchor);\n        head = cursorMax(head, end);\n        head = offsetCursor(head, 0, -1);\n        if (head.ch == -1 && head.line != cm.firstLine()) {\n          head = new Pos(head.line - 1, lineLength(cm, head.line - 1));\n        }\n      }\n      return [anchor, head];\n    }\n    /**\n     * Updates the CodeMirror selection to match the provided vim selection.\n     * If no arguments are given, it uses the current vim selection state.\n     */\n    function updateCmSelection(cm, sel, mode) {\n      var vim = cm.state.vim;\n      sel = sel || vim.sel;\n      var mode = mode ||\n        vim.visualLine ? 'line' : vim.visualBlock ? 'block' : 'char';\n      var cmSel = makeCmSelection(cm, sel, mode);\n      cm.setSelections(cmSel.ranges, cmSel.primary);\n    }\n    function makeCmSelection(cm, sel, mode, exclusive) {\n      var head = copyCursor(sel.head);\n      var anchor = copyCursor(sel.anchor);\n      if (mode == 'char') {\n        var headOffset = !exclusive && !cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n        var anchorOffset = cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n        head = offsetCursor(sel.head, 0, headOffset);\n        anchor = offsetCursor(sel.anchor, 0, anchorOffset);\n        return {\n          ranges: [{anchor: anchor, head: head}],\n          primary: 0\n        };\n      } else if (mode == 'line') {\n        if (!cursorIsBefore(sel.head, sel.anchor)) {\n          anchor.ch = 0;\n\n          var lastLine = cm.lastLine();\n          if (head.line > lastLine) {\n            head.line = lastLine;\n          }\n          head.ch = lineLength(cm, head.line);\n        } else {\n          head.ch = 0;\n          anchor.ch = lineLength(cm, anchor.line);\n        }\n        return {\n          ranges: [{anchor: anchor, head: head}],\n          primary: 0\n        };\n      } else if (mode == 'block') {\n        var top = Math.min(anchor.line, head.line),\n            fromCh = anchor.ch,\n            bottom = Math.max(anchor.line, head.line),\n            toCh = head.ch;\n        if (fromCh < toCh) { toCh += 1; }\n        else { fromCh += 1; }        var height = bottom - top + 1;\n        var primary = head.line == top ? 0 : height - 1;\n        var ranges = [];\n        for (var i = 0; i < height; i++) {\n          ranges.push({\n            anchor: new Pos(top + i, fromCh),\n            head: new Pos(top + i, toCh)\n          });\n        }\n        return {\n          ranges: ranges,\n          primary: primary\n        };\n      }\n    }\n    function getHead(cm) {\n      var cur = cm.getCursor('head');\n      if (cm.getSelection().length == 1) {\n        // Small corner case when only 1 character is selected. The \"real\"\n        // head is the left of head and anchor.\n        cur = cursorMin(cur, cm.getCursor('anchor'));\n      }\n      return cur;\n    }\n\n    /**\n     * If moveHead is set to false, the CodeMirror selection will not be\n     * touched. The caller assumes the responsibility of putting the cursor\n    * in the right place.\n     */\n    function exitVisualMode(cm, moveHead) {\n      var vim = cm.state.vim;\n      if (moveHead !== false) {\n        cm.setCursor(clipCursorToContent(cm, vim.sel.head));\n      }\n      updateLastSelection(cm, vim);\n      vim.visualMode = false;\n      vim.visualLine = false;\n      vim.visualBlock = false;\n      if (!vim.insertMode) CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n    }\n\n    // Remove any trailing newlines from the selection. For\n    // example, with the caret at the start of the last word on the line,\n    // 'dw' should word, but not the newline, while 'w' should advance the\n    // caret to the first character of the next line.\n    function clipToLine(cm, curStart, curEnd) {\n      var selection = cm.getRange(curStart, curEnd);\n      // Only clip if the selection ends with trailing newline + whitespace\n      if (/\\n\\s*$/.test(selection)) {\n        var lines = selection.split('\\n');\n        // We know this is all whitespace.\n        lines.pop();\n\n        // Cases:\n        // 1. Last word is an empty line - do not clip the trailing '\\n'\n        // 2. Last word is not an empty line - clip the trailing '\\n'\n        var line;\n        // Find the line containing the last word, and clip all whitespace up\n        // to it.\n        for (var line = lines.pop(); lines.length > 0 && line && isWhiteSpaceString(line); line = lines.pop()) {\n          curEnd.line--;\n          curEnd.ch = 0;\n        }\n        // If the last word is not an empty line, clip an additional newline\n        if (line) {\n          curEnd.line--;\n          curEnd.ch = lineLength(cm, curEnd.line);\n        } else {\n          curEnd.ch = 0;\n        }\n      }\n    }\n\n    // Expand the selection to line ends.\n    function expandSelectionToLine(_cm, curStart, curEnd) {\n      curStart.ch = 0;\n      curEnd.ch = 0;\n      curEnd.line++;\n    }\n\n    function findFirstNonWhiteSpaceCharacter(text) {\n      if (!text) {\n        return 0;\n      }\n      var firstNonWS = text.search(/\\S/);\n      return firstNonWS == -1 ? text.length : firstNonWS;\n    }\n\n    function expandWordUnderCursor(cm, inclusive, _forward, bigWord, noSymbol) {\n      var cur = getHead(cm);\n      var line = cm.getLine(cur.line);\n      var idx = cur.ch;\n\n      // Seek to first word or non-whitespace character, depending on if\n      // noSymbol is true.\n      var test = noSymbol ? wordCharTest[0] : bigWordCharTest [0];\n      while (!test(line.charAt(idx))) {\n        idx++;\n        if (idx >= line.length) { return null; }\n      }\n\n      if (bigWord) {\n        test = bigWordCharTest[0];\n      } else {\n        test = wordCharTest[0];\n        if (!test(line.charAt(idx))) {\n          test = wordCharTest[1];\n        }\n      }\n\n      var end = idx, start = idx;\n      while (test(line.charAt(end)) && end < line.length) { end++; }\n      while (test(line.charAt(start)) && start >= 0) { start--; }\n      start++;\n\n      if (inclusive) {\n        // If present, include all whitespace after word.\n        // Otherwise, include all whitespace before word, except indentation.\n        var wordEnd = end;\n        while (/\\s/.test(line.charAt(end)) && end < line.length) { end++; }\n        if (wordEnd == end) {\n          var wordStart = start;\n          while (/\\s/.test(line.charAt(start - 1)) && start > 0) { start--; }\n          if (!start) { start = wordStart; }\n        }\n      }\n      return { start: new Pos(cur.line, start), end: new Pos(cur.line, end) };\n    }\n\n    /**\n     * Depends on the following:\n     *\n     * - editor mode should be htmlmixedmode / xml\n     * - mode/xml/xml.js should be loaded\n     * - addon/fold/xml-fold.js should be loaded\n     *\n     * If any of the above requirements are not true, this function noops.\n     *\n     * This is _NOT_ a 100% accurate implementation of vim tag text objects.\n     * The following caveats apply (based off cursory testing, I'm sure there\n     * are other discrepancies):\n     *\n     * - Does not work inside comments:\n     *   ```\n     *   <!-- <div>broken</div> -->\n     *   ```\n     * - Does not work when tags have different cases:\n     *   ```\n     *   <div>broken</DIV>\n     *   ```\n     * - Does not work when cursor is inside a broken tag:\n     *   ```\n     *   <div><brok><en></div>\n     *   ```\n     */\n    function expandTagUnderCursor(cm, head, inclusive) {\n      var cur = head;\n      if (!CodeMirror.findMatchingTag || !CodeMirror.findEnclosingTag) {\n        return { start: cur, end: cur };\n      }\n\n      var tags = CodeMirror.findMatchingTag(cm, head) || CodeMirror.findEnclosingTag(cm, head);\n      if (!tags || !tags.open || !tags.close) {\n        return { start: cur, end: cur };\n      }\n\n      if (inclusive) {\n        return { start: tags.open.from, end: tags.close.to };\n      }\n      return { start: tags.open.to, end: tags.close.from };\n    }\n\n    function recordJumpPosition(cm, oldCur, newCur) {\n      if (!cursorEqual(oldCur, newCur)) {\n        vimGlobalState.jumpList.add(cm, oldCur, newCur);\n      }\n    }\n\n    function recordLastCharacterSearch(increment, args) {\n        vimGlobalState.lastCharacterSearch.increment = increment;\n        vimGlobalState.lastCharacterSearch.forward = args.forward;\n        vimGlobalState.lastCharacterSearch.selectedCharacter = args.selectedCharacter;\n    }\n\n    var symbolToMode = {\n        '(': 'bracket', ')': 'bracket', '{': 'bracket', '}': 'bracket',\n        '[': 'section', ']': 'section',\n        '*': 'comment', '/': 'comment',\n        'm': 'method', 'M': 'method',\n        '#': 'preprocess'\n    };\n    var findSymbolModes = {\n      bracket: {\n        isComplete: function(state) {\n          if (state.nextCh === state.symb) {\n            state.depth++;\n            if (state.depth >= 1)return true;\n          } else if (state.nextCh === state.reverseSymb) {\n            state.depth--;\n          }\n          return false;\n        }\n      },\n      section: {\n        init: function(state) {\n          state.curMoveThrough = true;\n          state.symb = (state.forward ? ']' : '[') === state.symb ? '{' : '}';\n        },\n        isComplete: function(state) {\n          return state.index === 0 && state.nextCh === state.symb;\n        }\n      },\n      comment: {\n        isComplete: function(state) {\n          var found = state.lastCh === '*' && state.nextCh === '/';\n          state.lastCh = state.nextCh;\n          return found;\n        }\n      },\n      // TODO: The original Vim implementation only operates on level 1 and 2.\n      // The current implementation doesn't check for code block level and\n      // therefore it operates on any levels.\n      method: {\n        init: function(state) {\n          state.symb = (state.symb === 'm' ? '{' : '}');\n          state.reverseSymb = state.symb === '{' ? '}' : '{';\n        },\n        isComplete: function(state) {\n          if (state.nextCh === state.symb)return true;\n          return false;\n        }\n      },\n      preprocess: {\n        init: function(state) {\n          state.index = 0;\n        },\n        isComplete: function(state) {\n          if (state.nextCh === '#') {\n            var token = state.lineText.match(/^#(\\w+)/)[1];\n            if (token === 'endif') {\n              if (state.forward && state.depth === 0) {\n                return true;\n              }\n              state.depth++;\n            } else if (token === 'if') {\n              if (!state.forward && state.depth === 0) {\n                return true;\n              }\n              state.depth--;\n            }\n            if (token === 'else' && state.depth === 0)return true;\n          }\n          return false;\n        }\n      }\n    };\n    function findSymbol(cm, repeat, forward, symb) {\n      var cur = copyCursor(cm.getCursor());\n      var increment = forward ? 1 : -1;\n      var endLine = forward ? cm.lineCount() : -1;\n      var curCh = cur.ch;\n      var line = cur.line;\n      var lineText = cm.getLine(line);\n      var state = {\n        lineText: lineText,\n        nextCh: lineText.charAt(curCh),\n        lastCh: null,\n        index: curCh,\n        symb: symb,\n        reverseSymb: (forward ?  { ')': '(', '}': '{' } : { '(': ')', '{': '}' })[symb],\n        forward: forward,\n        depth: 0,\n        curMoveThrough: false\n      };\n      var mode = symbolToMode[symb];\n      if (!mode)return cur;\n      var init = findSymbolModes[mode].init;\n      var isComplete = findSymbolModes[mode].isComplete;\n      if (init) { init(state); }\n      while (line !== endLine && repeat) {\n        state.index += increment;\n        state.nextCh = state.lineText.charAt(state.index);\n        if (!state.nextCh) {\n          line += increment;\n          state.lineText = cm.getLine(line) || '';\n          if (increment > 0) {\n            state.index = 0;\n          } else {\n            var lineLen = state.lineText.length;\n            state.index = (lineLen > 0) ? (lineLen-1) : 0;\n          }\n          state.nextCh = state.lineText.charAt(state.index);\n        }\n        if (isComplete(state)) {\n          cur.line = line;\n          cur.ch = state.index;\n          repeat--;\n        }\n      }\n      if (state.nextCh || state.curMoveThrough) {\n        return new Pos(line, state.index);\n      }\n      return cur;\n    }\n\n    /*\n     * Returns the boundaries of the next word. If the cursor in the middle of\n     * the word, then returns the boundaries of the current word, starting at\n     * the cursor. If the cursor is at the start/end of a word, and we are going\n     * forward/backward, respectively, find the boundaries of the next word.\n     *\n     * @param {CodeMirror} cm CodeMirror object.\n     * @param {Cursor} cur The cursor position.\n     * @param {boolean} forward True to search forward. False to search\n     *     backward.\n     * @param {boolean} bigWord True if punctuation count as part of the word.\n     *     False if only [a-zA-Z0-9] characters count as part of the word.\n     * @param {boolean} emptyLineIsWord True if empty lines should be treated\n     *     as words.\n     * @return {Object{from:number, to:number, line: number}} The boundaries of\n     *     the word, or null if there are no more words.\n     */\n    function findWord(cm, cur, forward, bigWord, emptyLineIsWord) {\n      var lineNum = cur.line;\n      var pos = cur.ch;\n      var line = cm.getLine(lineNum);\n      var dir = forward ? 1 : -1;\n      var charTests = bigWord ? bigWordCharTest: wordCharTest;\n\n      if (emptyLineIsWord && line == '') {\n        lineNum += dir;\n        line = cm.getLine(lineNum);\n        if (!isLine(cm, lineNum)) {\n          return null;\n        }\n        pos = (forward) ? 0 : line.length;\n      }\n\n      while (true) {\n        if (emptyLineIsWord && line == '') {\n          return { from: 0, to: 0, line: lineNum };\n        }\n        var stop = (dir > 0) ? line.length : -1;\n        var wordStart = stop, wordEnd = stop;\n        // Find bounds of next word.\n        while (pos != stop) {\n          var foundWord = false;\n          for (var i = 0; i < charTests.length && !foundWord; ++i) {\n            if (charTests[i](line.charAt(pos))) {\n              wordStart = pos;\n              // Advance to end of word.\n              while (pos != stop && charTests[i](line.charAt(pos))) {\n                pos += dir;\n              }\n              wordEnd = pos;\n              foundWord = wordStart != wordEnd;\n              if (wordStart == cur.ch && lineNum == cur.line &&\n                  wordEnd == wordStart + dir) {\n                // We started at the end of a word. Find the next one.\n                continue;\n              } else {\n                return {\n                  from: Math.min(wordStart, wordEnd + 1),\n                  to: Math.max(wordStart, wordEnd),\n                  line: lineNum };\n              }\n            }\n          }\n          if (!foundWord) {\n            pos += dir;\n          }\n        }\n        // Advance to next/prev line.\n        lineNum += dir;\n        if (!isLine(cm, lineNum)) {\n          return null;\n        }\n        line = cm.getLine(lineNum);\n        pos = (dir > 0) ? 0 : line.length;\n      }\n    }\n\n    /**\n     * @param {CodeMirror} cm CodeMirror object.\n     * @param {Pos} cur The position to start from.\n     * @param {int} repeat Number of words to move past.\n     * @param {boolean} forward True to search forward. False to search\n     *     backward.\n     * @param {boolean} wordEnd True to move to end of word. False to move to\n     *     beginning of word.\n     * @param {boolean} bigWord True if punctuation count as part of the word.\n     *     False if only alphabet characters count as part of the word.\n     * @return {Cursor} The position the cursor should move to.\n     */\n    function moveToWord(cm, cur, repeat, forward, wordEnd, bigWord) {\n      var curStart = copyCursor(cur);\n      var words = [];\n      if (forward && !wordEnd || !forward && wordEnd) {\n        repeat++;\n      }\n      // For 'e', empty lines are not considered words, go figure.\n      var emptyLineIsWord = !(forward && wordEnd);\n      for (var i = 0; i < repeat; i++) {\n        var word = findWord(cm, cur, forward, bigWord, emptyLineIsWord);\n        if (!word) {\n          var eodCh = lineLength(cm, cm.lastLine());\n          words.push(forward\n              ? {line: cm.lastLine(), from: eodCh, to: eodCh}\n              : {line: 0, from: 0, to: 0});\n          break;\n        }\n        words.push(word);\n        cur = new Pos(word.line, forward ? (word.to - 1) : word.from);\n      }\n      var shortCircuit = words.length != repeat;\n      var firstWord = words[0];\n      var lastWord = words.pop();\n      if (forward && !wordEnd) {\n        // w\n        if (!shortCircuit && (firstWord.from != curStart.ch || firstWord.line != curStart.line)) {\n          // We did not start in the middle of a word. Discard the extra word at the end.\n          lastWord = words.pop();\n        }\n        return new Pos(lastWord.line, lastWord.from);\n      } else if (forward && wordEnd) {\n        return new Pos(lastWord.line, lastWord.to - 1);\n      } else if (!forward && wordEnd) {\n        // ge\n        if (!shortCircuit && (firstWord.to != curStart.ch || firstWord.line != curStart.line)) {\n          // We did not start in the middle of a word. Discard the extra word at the end.\n          lastWord = words.pop();\n        }\n        return new Pos(lastWord.line, lastWord.to);\n      } else {\n        // b\n        return new Pos(lastWord.line, lastWord.from);\n      }\n    }\n\n    function moveToEol(cm, head, motionArgs, vim, keepHPos) {\n      var cur = head;\n      var retval= new Pos(cur.line + motionArgs.repeat - 1, Infinity);\n      var end=cm.clipPos(retval);\n      end.ch--;\n      if (!keepHPos) {\n        vim.lastHPos = Infinity;\n        vim.lastHSPos = cm.charCoords(end,'div').left;\n      }\n      return retval;\n    }\n\n    function moveToCharacter(cm, repeat, forward, character) {\n      var cur = cm.getCursor();\n      var start = cur.ch;\n      var idx;\n      for (var i = 0; i < repeat; i ++) {\n        var line = cm.getLine(cur.line);\n        idx = charIdxInLine(start, line, character, forward, true);\n        if (idx == -1) {\n          return null;\n        }\n        start = idx;\n      }\n      return new Pos(cm.getCursor().line, idx);\n    }\n\n    function moveToColumn(cm, repeat) {\n      // repeat is always >= 1, so repeat - 1 always corresponds\n      // to the column we want to go to.\n      var line = cm.getCursor().line;\n      return clipCursorToContent(cm, new Pos(line, repeat - 1));\n    }\n\n    function updateMark(cm, vim, markName, pos) {\n      if (!inArray(markName, validMarks)) {\n        return;\n      }\n      if (vim.marks[markName]) {\n        vim.marks[markName].clear();\n      }\n      vim.marks[markName] = cm.setBookmark(pos);\n    }\n\n    function charIdxInLine(start, line, character, forward, includeChar) {\n      // Search for char in line.\n      // motion_options: {forward, includeChar}\n      // If includeChar = true, include it too.\n      // If forward = true, search forward, else search backwards.\n      // If char is not found on this line, do nothing\n      var idx;\n      if (forward) {\n        idx = line.indexOf(character, start + 1);\n        if (idx != -1 && !includeChar) {\n          idx -= 1;\n        }\n      } else {\n        idx = line.lastIndexOf(character, start - 1);\n        if (idx != -1 && !includeChar) {\n          idx += 1;\n        }\n      }\n      return idx;\n    }\n\n    function findParagraph(cm, head, repeat, dir, inclusive) {\n      var line = head.line;\n      var min = cm.firstLine();\n      var max = cm.lastLine();\n      var start, end, i = line;\n      function isEmpty(i) { return !cm.getLine(i); }\n      function isBoundary(i, dir, any) {\n        if (any) { return isEmpty(i) != isEmpty(i + dir); }\n        return !isEmpty(i) && isEmpty(i + dir);\n      }\n      if (dir) {\n        while (min <= i && i <= max && repeat > 0) {\n          if (isBoundary(i, dir)) { repeat--; }\n          i += dir;\n        }\n        return new Pos(i, 0);\n      }\n\n      var vim = cm.state.vim;\n      if (vim.visualLine && isBoundary(line, 1, true)) {\n        var anchor = vim.sel.anchor;\n        if (isBoundary(anchor.line, -1, true)) {\n          if (!inclusive || anchor.line != line) {\n            line += 1;\n          }\n        }\n      }\n      var startState = isEmpty(line);\n      for (i = line; i <= max && repeat; i++) {\n        if (isBoundary(i, 1, true)) {\n          if (!inclusive || isEmpty(i) != startState) {\n            repeat--;\n          }\n        }\n      }\n      end = new Pos(i, 0);\n      // select boundary before paragraph for the last one\n      if (i > max && !startState) { startState = true; }\n      else { inclusive = false; }\n      for (i = line; i > min; i--) {\n        if (!inclusive || isEmpty(i) == startState || i == line) {\n          if (isBoundary(i, -1, true)) { break; }\n        }\n      }\n      start = new Pos(i, 0);\n      return { start: start, end: end };\n    }\n\n    /**\n     * Based on {@link findSentence}. The internal functions have the same names,\n     * but their behaviour is different. findSentence() crosses line breaks and \n     * is used for jumping to sentence beginnings before or after the current cursor position, \n     * whereas getSentence() is for getting the beginning or end of the sentence \n     * at the current cursor position, either including (a) or excluding (i) whitespace.\n     */\n    function getSentence(cm, cur, repeat, dir, inclusive /*includes whitespace*/) {\n\n      /*\n        Takes an index object\n        {\n          line: the line string,\n          ln: line number,\n          pos: index in line,\n          dir: direction of traversal (-1 or 1)\n        }\n        and modifies the pos member to represent the\n        next valid position or sets the line to null if there are\n        no more valid positions.\n       */\n      function nextChar(curr) {\n        if (curr.pos + curr.dir < 0 || curr.pos + curr.dir >= curr.line.length) {\n          curr.line = null;\n        }\n        else {\n          curr.pos += curr.dir;\n        }\n      }\n      /*\n        Performs one iteration of traversal in forward direction\n        Returns an index object of the sentence end\n       */\n      function forward(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        };\n\n        if (curr.line === \"\") {\n          return { ln: curr.ln, pos: curr.pos };\n        }\n\n        var lastSentencePos = curr.pos;\n\n        // Move one step to skip character we start on\n        nextChar(curr);\n\n        while (curr.line !== null) {\n          lastSentencePos = curr.pos;\n          if (isEndOfSentenceSymbol(curr.line[curr.pos])) {\n            if (!inclusive) {\n              return { ln: curr.ln, pos: curr.pos + 1 };\n            } \n            else {\n              nextChar(curr);\n              while (curr.line !== null ) {\n                if (isWhiteSpaceString(curr.line[curr.pos])) {\n                  lastSentencePos = curr.pos;\n                  nextChar(curr);\n                } \n                else {\n                  break;\n                }\n              }\n              return { ln: curr.ln, pos: lastSentencePos + 1 };\n            }\n          }\n          nextChar(curr);\n        }\n        return { ln: curr.ln, pos: lastSentencePos + 1 };\n      }\n\n      /*\n        Performs one iteration of traversal in reverse direction\n        Returns an index object of the sentence start\n       */\n      function reverse(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        };\n\n        if (curr.line === \"\") {\n          return { ln: curr.ln, pos: curr.pos };\n        }\n\n        var lastSentencePos = curr.pos;\n\n        // Move one step to skip character we start on\n        nextChar(curr);\n\n        while (curr.line !== null) {\n          if (!isWhiteSpaceString(curr.line[curr.pos]) && !isEndOfSentenceSymbol(curr.line[curr.pos])) {\n            lastSentencePos = curr.pos;\n          }\n\n          else if (isEndOfSentenceSymbol(curr.line[curr.pos]) ) {\n            if (!inclusive) {\n              return { ln: curr.ln, pos: lastSentencePos };\n            } \n            else {\n              if (isWhiteSpaceString(curr.line[curr.pos + 1])) {\n                return { ln: curr.ln, pos: curr.pos + 1 };\n              } \n              else {\n                return { ln: curr.ln, pos: lastSentencePos };\n              }\n            }\n          }\n\n          nextChar(curr);\n        }\n        curr.line = line;\n        if (inclusive && isWhiteSpaceString(curr.line[curr.pos])) {\n          return { ln: curr.ln, pos: curr.pos };\n        } \n        else {\n          return { ln: curr.ln, pos: lastSentencePos };\n        }\n\n      }\n\n      var curr_index = {\n        ln: cur.line,\n        pos: cur.ch,\n      };\n\n      while (repeat > 0) {\n        if (dir < 0) {\n          curr_index = reverse(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        else {\n          curr_index = forward(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        repeat--;\n      }\n\n      return new Pos(curr_index.ln, curr_index.pos);\n    }\n\n    function findSentence(cm, cur, repeat, dir) {\n\n       /*\n         Takes an index object\n         {\n           line: the line string,\n           ln: line number,\n           pos: index in line,\n           dir: direction of traversal (-1 or 1)\n         }\n         and modifies the line, ln, and pos members to represent the\n         next valid position or sets them to null if there are\n         no more valid positions.\n       */\n      function nextChar(cm, idx) {\n        if (idx.pos + idx.dir < 0 || idx.pos + idx.dir >= idx.line.length) {\n          idx.ln += idx.dir;\n          if (!isLine(cm, idx.ln)) {\n            idx.line = null;\n            idx.ln = null;\n            idx.pos = null;\n            return;\n          }\n          idx.line = cm.getLine(idx.ln);\n          idx.pos = (idx.dir > 0) ? 0 : idx.line.length - 1;\n        }\n        else {\n          idx.pos += idx.dir;\n        }\n      }\n\n      /*\n        Performs one iteration of traversal in forward direction\n        Returns an index object of the new location\n       */\n      function forward(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n        var stop = (line === \"\");\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        };\n\n        var last_valid = {\n          ln: curr.ln,\n          pos: curr.pos,\n        };\n\n        var skip_empty_lines = (curr.line === \"\");\n\n        // Move one step to skip character we start on\n        nextChar(cm, curr);\n\n        while (curr.line !== null) {\n          last_valid.ln = curr.ln;\n          last_valid.pos = curr.pos;\n\n          if (curr.line === \"\" && !skip_empty_lines) {\n            return { ln: curr.ln, pos: curr.pos, };\n          }\n          else if (stop && curr.line !== \"\" && !isWhiteSpaceString(curr.line[curr.pos])) {\n            return { ln: curr.ln, pos: curr.pos, };\n          }\n          else if (isEndOfSentenceSymbol(curr.line[curr.pos])\n            && !stop\n            && (curr.pos === curr.line.length - 1\n              || isWhiteSpaceString(curr.line[curr.pos + 1]))) {\n            stop = true;\n          }\n\n          nextChar(cm, curr);\n        }\n\n        /*\n          Set the position to the last non whitespace character on the last\n          valid line in the case that we reach the end of the document.\n        */\n        var line = cm.getLine(last_valid.ln);\n        last_valid.pos = 0;\n        for(var i = line.length - 1; i >= 0; --i) {\n          if (!isWhiteSpaceString(line[i])) {\n            last_valid.pos = i;\n            break;\n          }\n        }\n\n        return last_valid;\n\n      }\n\n      /*\n        Performs one iteration of traversal in reverse direction\n        Returns an index object of the new location\n       */\n      function reverse(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        };\n\n        var last_valid = {\n          ln: curr.ln,\n          pos: null,\n        };\n\n        var skip_empty_lines = (curr.line === \"\");\n\n        // Move one step to skip character we start on\n        nextChar(cm, curr);\n\n        while (curr.line !== null) {\n\n          if (curr.line === \"\" && !skip_empty_lines) {\n            if (last_valid.pos !== null) {\n              return last_valid;\n            }\n            else {\n              return { ln: curr.ln, pos: curr.pos };\n            }\n          }\n          else if (isEndOfSentenceSymbol(curr.line[curr.pos])\n              && last_valid.pos !== null\n              && !(curr.ln === last_valid.ln && curr.pos + 1 === last_valid.pos)) {\n            return last_valid;\n          }\n          else if (curr.line !== \"\" && !isWhiteSpaceString(curr.line[curr.pos])) {\n            skip_empty_lines = false;\n            last_valid = { ln: curr.ln, pos: curr.pos };\n          }\n\n          nextChar(cm, curr);\n        }\n\n        /*\n          Set the position to the first non whitespace character on the last\n          valid line in the case that we reach the beginning of the document.\n        */\n        var line = cm.getLine(last_valid.ln);\n        last_valid.pos = 0;\n        for(var i = 0; i < line.length; ++i) {\n          if (!isWhiteSpaceString(line[i])) {\n            last_valid.pos = i;\n            break;\n          }\n        }\n        return last_valid;\n      }\n\n      var curr_index = {\n        ln: cur.line,\n        pos: cur.ch,\n      };\n\n      while (repeat > 0) {\n        if (dir < 0) {\n          curr_index = reverse(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        else {\n          curr_index = forward(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        repeat--;\n      }\n\n      return new Pos(curr_index.ln, curr_index.pos);\n    }\n\n    // TODO: perhaps this finagling of start and end positions belongs\n    // in codemirror/replaceRange?\n    function selectCompanionObject(cm, head, symb, inclusive) {\n      var cur = head, start, end;\n\n      var bracketRegexp = ({\n        '(': /[()]/, ')': /[()]/,\n        '[': /[[\\]]/, ']': /[[\\]]/,\n        '{': /[{}]/, '}': /[{}]/,\n        '<': /[<>]/, '>': /[<>]/})[symb];\n      var openSym = ({\n        '(': '(', ')': '(',\n        '[': '[', ']': '[',\n        '{': '{', '}': '{',\n        '<': '<', '>': '<'})[symb];\n      var curChar = cm.getLine(cur.line).charAt(cur.ch);\n      // Due to the behavior of scanForBracket, we need to add an offset if the\n      // cursor is on a matching open bracket.\n      var offset = curChar === openSym ? 1 : 0;\n\n      start = cm.scanForBracket(new Pos(cur.line, cur.ch + offset), -1, undefined, {'bracketRegex': bracketRegexp});\n      end = cm.scanForBracket(new Pos(cur.line, cur.ch + offset), 1, undefined, {'bracketRegex': bracketRegexp});\n\n      if (!start || !end) {\n        return { start: cur, end: cur };\n      }\n\n      start = start.pos;\n      end = end.pos;\n\n      if ((start.line == end.line && start.ch > end.ch)\n          || (start.line > end.line)) {\n        var tmp = start;\n        start = end;\n        end = tmp;\n      }\n\n      if (inclusive) {\n        end.ch += 1;\n      } else {\n        start.ch += 1;\n      }\n\n      return { start: start, end: end };\n    }\n\n    // Takes in a symbol and a cursor and tries to simulate text objects that\n    // have identical opening and closing symbols\n    // TODO support across multiple lines\n    function findBeginningAndEnd(cm, head, symb, inclusive) {\n      var cur = copyCursor(head);\n      var line = cm.getLine(cur.line);\n      var chars = line.split('');\n      var start, end, i, len;\n      var firstIndex = chars.indexOf(symb);\n\n      // the decision tree is to always look backwards for the beginning first,\n      // but if the cursor is in front of the first instance of the symb,\n      // then move the cursor forward\n      if (cur.ch < firstIndex) {\n        cur.ch = firstIndex;\n        // Why is this line even here???\n        // cm.setCursor(cur.line, firstIndex+1);\n      }\n      // otherwise if the cursor is currently on the closing symbol\n      else if (firstIndex < cur.ch && chars[cur.ch] == symb) {\n        end = cur.ch; // assign end to the current cursor\n        --cur.ch; // make sure to look backwards\n      }\n\n      // if we're currently on the symbol, we've got a start\n      if (chars[cur.ch] == symb && !end) {\n        start = cur.ch + 1; // assign start to ahead of the cursor\n      } else {\n        // go backwards to find the start\n        for (i = cur.ch; i > -1 && !start; i--) {\n          if (chars[i] == symb) {\n            start = i + 1;\n          }\n        }\n      }\n\n      // look forwards for the end symbol\n      if (start && !end) {\n        for (i = start, len = chars.length; i < len && !end; i++) {\n          if (chars[i] == symb) {\n            end = i;\n          }\n        }\n      }\n\n      // nothing found\n      if (!start || !end) {\n        return { start: cur, end: cur };\n      }\n\n      // include the symbols\n      if (inclusive) {\n        --start; ++end;\n      }\n\n      return {\n        start: new Pos(cur.line, start),\n        end: new Pos(cur.line, end)\n      };\n    }\n\n    // Search functions\n    defineOption('pcre', true, 'boolean');\n    function SearchState() {}\n    SearchState.prototype = {\n      getQuery: function() {\n        return vimGlobalState.query;\n      },\n      setQuery: function(query) {\n        vimGlobalState.query = query;\n      },\n      getOverlay: function() {\n        return this.searchOverlay;\n      },\n      setOverlay: function(overlay) {\n        this.searchOverlay = overlay;\n      },\n      isReversed: function() {\n        return vimGlobalState.isReversed;\n      },\n      setReversed: function(reversed) {\n        vimGlobalState.isReversed = reversed;\n      },\n      getScrollbarAnnotate: function() {\n        return this.annotate;\n      },\n      setScrollbarAnnotate: function(annotate) {\n        this.annotate = annotate;\n      }\n    };\n    function getSearchState(cm) {\n      var vim = cm.state.vim;\n      return vim.searchState_ || (vim.searchState_ = new SearchState());\n    }\n    function splitBySlash(argString) {\n      return splitBySeparator(argString, '/');\n    }\n\n    function findUnescapedSlashes(argString) {\n      return findUnescapedSeparators(argString, '/');\n    }\n\n    function splitBySeparator(argString, separator) {\n      var slashes = findUnescapedSeparators(argString, separator) || [];\n      if (!slashes.length) return [];\n      var tokens = [];\n      // in case of strings like foo/bar\n      if (slashes[0] !== 0) return;\n      for (var i = 0; i < slashes.length; i++) {\n        if (typeof slashes[i] == 'number')\n          tokens.push(argString.substring(slashes[i] + 1, slashes[i+1]));\n      }\n      return tokens;\n    }\n\n    function findUnescapedSeparators(str, separator) {\n      if (!separator)\n        separator = '/';\n\n      var escapeNextChar = false;\n      var slashes = [];\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charAt(i);\n        if (!escapeNextChar && c == separator) {\n          slashes.push(i);\n        }\n        escapeNextChar = !escapeNextChar && (c == '\\\\');\n      }\n      return slashes;\n    }\n\n    // Translates a search string from ex (vim) syntax into javascript form.\n    function translateRegex(str) {\n      // When these match, add a '\\' if unescaped or remove one if escaped.\n      var specials = '|(){';\n      // Remove, but never add, a '\\' for these.\n      var unescape = '}';\n      var escapeNextChar = false;\n      var out = [];\n      for (var i = -1; i < str.length; i++) {\n        var c = str.charAt(i) || '';\n        var n = str.charAt(i+1) || '';\n        var specialComesNext = (n && specials.indexOf(n) != -1);\n        if (escapeNextChar) {\n          if (c !== '\\\\' || !specialComesNext) {\n            out.push(c);\n          }\n          escapeNextChar = false;\n        } else {\n          if (c === '\\\\') {\n            escapeNextChar = true;\n            // Treat the unescape list as special for removing, but not adding '\\'.\n            if (n && unescape.indexOf(n) != -1) {\n              specialComesNext = true;\n            }\n            // Not passing this test means removing a '\\'.\n            if (!specialComesNext || n === '\\\\') {\n              out.push(c);\n            }\n          } else {\n            out.push(c);\n            if (specialComesNext && n !== '\\\\') {\n              out.push('\\\\');\n            }\n          }\n        }\n      }\n      return out.join('');\n    }\n\n    // Translates the replace part of a search and replace from ex (vim) syntax into\n    // javascript form.  Similar to translateRegex, but additionally fixes back references\n    // (translates '\\[0..9]' to '$[0..9]') and follows different rules for escaping '$'.\n    var charUnescapes = {'\\\\n': '\\n', '\\\\r': '\\r', '\\\\t': '\\t'};\n    function translateRegexReplace(str) {\n      var escapeNextChar = false;\n      var out = [];\n      for (var i = -1; i < str.length; i++) {\n        var c = str.charAt(i) || '';\n        var n = str.charAt(i+1) || '';\n        if (charUnescapes[c + n]) {\n          out.push(charUnescapes[c+n]);\n          i++;\n        } else if (escapeNextChar) {\n          // At any point in the loop, escapeNextChar is true if the previous\n          // character was a '\\' and was not escaped.\n          out.push(c);\n          escapeNextChar = false;\n        } else {\n          if (c === '\\\\') {\n            escapeNextChar = true;\n            if ((isNumber(n) || n === '$')) {\n              out.push('$');\n            } else if (n !== '/' && n !== '\\\\') {\n              out.push('\\\\');\n            }\n          } else {\n            if (c === '$') {\n              out.push('$');\n            }\n            out.push(c);\n            if (n === '/') {\n              out.push('\\\\');\n            }\n          }\n        }\n      }\n      return out.join('');\n    }\n\n    // Unescape \\ and / in the replace part, for PCRE mode.\n    var unescapes = {'\\\\/': '/', '\\\\\\\\': '\\\\', '\\\\n': '\\n', '\\\\r': '\\r', '\\\\t': '\\t', '\\\\&':'&'};\n    function unescapeRegexReplace(str) {\n      var stream = new CodeMirror.StringStream(str);\n      var output = [];\n      while (!stream.eol()) {\n        // Search for \\.\n        while (stream.peek() && stream.peek() != '\\\\') {\n          output.push(stream.next());\n        }\n        var matched = false;\n        for (var matcher in unescapes) {\n          if (stream.match(matcher, true)) {\n            matched = true;\n            output.push(unescapes[matcher]);\n            break;\n          }\n        }\n        if (!matched) {\n          // Don't change anything\n          output.push(stream.next());\n        }\n      }\n      return output.join('');\n    }\n\n    /**\n     * Extract the regular expression from the query and return a Regexp object.\n     * Returns null if the query is blank.\n     * If ignoreCase is passed in, the Regexp object will have the 'i' flag set.\n     * If smartCase is passed in, and the query contains upper case letters,\n     *   then ignoreCase is overridden, and the 'i' flag will not be set.\n     * If the query contains the /i in the flag part of the regular expression,\n     *   then both ignoreCase and smartCase are ignored, and 'i' will be passed\n     *   through to the Regex object.\n     */\n    function parseQuery(query, ignoreCase, smartCase) {\n      // First update the last search register\n      var lastSearchRegister = vimGlobalState.registerController.getRegister('/');\n      lastSearchRegister.setText(query);\n      // Check if the query is already a regex.\n      if (query instanceof RegExp) { return query; }\n      // First try to extract regex + flags from the input. If no flags found,\n      // extract just the regex. IE does not accept flags directly defined in\n      // the regex string in the form /regex/flags\n      var slashes = findUnescapedSlashes(query);\n      var regexPart;\n      var forceIgnoreCase;\n      if (!slashes.length) {\n        // Query looks like 'regexp'\n        regexPart = query;\n      } else {\n        // Query looks like 'regexp/...'\n        regexPart = query.substring(0, slashes[0]);\n        var flagsPart = query.substring(slashes[0]);\n        forceIgnoreCase = (flagsPart.indexOf('i') != -1);\n      }\n      if (!regexPart) {\n        return null;\n      }\n      if (!getOption('pcre')) {\n        regexPart = translateRegex(regexPart);\n      }\n      if (smartCase) {\n        ignoreCase = (/^[^A-Z]*$/).test(regexPart);\n      }\n      var regexp = new RegExp(regexPart,\n          (ignoreCase || forceIgnoreCase) ? 'im' : 'm');\n      return regexp;\n    }\n\n    /**\n     * dom - Document Object Manipulator\n     * Usage:\n     *   dom('<tag>'|<node>[, ...{<attributes>|<$styles>}|<child-node>|'<text>'])\n     * Examples:\n     *   dom('div', {id:'xyz'}, dom('p', 'CM rocks!', {$color:'red'}))\n     *   dom(document.head, dom('script', 'alert(\"hello!\")'))\n     * Not supported:\n     *   dom('p', ['arrays are objects'], Error('objects specify attributes'))\n     */\n    function dom(n) {\n      if (typeof n === 'string') n = document.createElement(n);\n      for (var a, i = 1; i < arguments.length; i++) {\n        if (!(a = arguments[i])) continue;\n        if (typeof a !== 'object') a = document.createTextNode(a);\n        if (a.nodeType) n.appendChild(a);\n        else for (var key in a) {\n          if (!Object.prototype.hasOwnProperty.call(a, key)) continue;\n          if (key[0] === '$') n.style[key.slice(1)] = a[key];\n          else n.setAttribute(key, a[key]);\n        }\n      }\n      return n;\n    }\n\n    function showConfirm(cm, template) {\n      var pre = dom('div', {$color: 'red', $whiteSpace: 'pre', class: 'cm-vim-message'}, template);\n      if (cm.openNotification) {\n        cm.openNotification(pre, {bottom: true, duration: 5000});\n      } else {\n        alert(pre.innerText);\n      }\n    }\n\n    function makePrompt(prefix, desc) {\n      return dom(document.createDocumentFragment(),\n               dom('span', {$fontFamily: 'monospace', $whiteSpace: 'pre'},\n                 prefix,\n                 dom('input', {type: 'text', autocorrect: 'off',\n                               autocapitalize: 'off', spellcheck: 'false'})),\n               desc && dom('span', {$color: '#888'}, desc));\n    }\n\n    function showPrompt(cm, options) {\n      var template = makePrompt(options.prefix, options.desc);\n      if (cm.openDialog) {\n        cm.openDialog(template, options.onClose, {\n          onKeyDown: options.onKeyDown, onKeyUp: options.onKeyUp,\n          bottom: true, selectValueOnOpen: false, value: options.value\n        });\n      }\n      else {\n        var shortText = '';\n        if (typeof options.prefix != \"string\" && options.prefix) shortText += options.prefix.textContent;\n        if (options.desc) shortText += \" \" + options.desc;\n        options.onClose(prompt(shortText, ''));\n      }\n    }\n\n    function regexEqual(r1, r2) {\n      if (r1 instanceof RegExp && r2 instanceof RegExp) {\n          var props = ['global', 'multiline', 'ignoreCase', 'source'];\n          for (var i = 0; i < props.length; i++) {\n              var prop = props[i];\n              if (r1[prop] !== r2[prop]) {\n                  return false;\n              }\n          }\n          return true;\n      }\n      return false;\n    }\n    // Returns true if the query is valid.\n    function updateSearchQuery(cm, rawQuery, ignoreCase, smartCase) {\n      if (!rawQuery) {\n        return;\n      }\n      var state = getSearchState(cm);\n      var query = parseQuery(rawQuery, !!ignoreCase, !!smartCase);\n      if (!query) {\n        return;\n      }\n      highlightSearchMatches(cm, query);\n      if (regexEqual(query, state.getQuery())) {\n        return query;\n      }\n      state.setQuery(query);\n      return query;\n    }\n    function searchOverlay(query) {\n      if (query.source.charAt(0) == '^') {\n        var matchSol = true;\n      }\n      return {\n        token: function(stream) {\n          if (matchSol && !stream.sol()) {\n            stream.skipToEnd();\n            return;\n          }\n          var match = stream.match(query, false);\n          if (match) {\n            if (match[0].length == 0) {\n              // Matched empty string, skip to next.\n              stream.next();\n              return 'searching';\n            }\n            if (!stream.sol()) {\n              // Backtrack 1 to match \\b\n              stream.backUp(1);\n              if (!query.exec(stream.next() + match[0])) {\n                stream.next();\n                return null;\n              }\n            }\n            stream.match(query);\n            return 'searching';\n          }\n          while (!stream.eol()) {\n            stream.next();\n            if (stream.match(query, false)) break;\n          }\n        },\n        query: query\n      };\n    }\n    var highlightTimeout = 0;\n    function highlightSearchMatches(cm, query) {\n      clearTimeout(highlightTimeout);\n      highlightTimeout = setTimeout(function() {\n        if (!cm.state.vim) return;\n        var searchState = getSearchState(cm);\n        var overlay = searchState.getOverlay();\n        if (!overlay || query != overlay.query) {\n          if (overlay) {\n            cm.removeOverlay(overlay);\n          }\n          overlay = searchOverlay(query);\n          cm.addOverlay(overlay);\n          if (cm.showMatchesOnScrollbar) {\n            if (searchState.getScrollbarAnnotate()) {\n              searchState.getScrollbarAnnotate().clear();\n            }\n            searchState.setScrollbarAnnotate(cm.showMatchesOnScrollbar(query));\n          }\n          searchState.setOverlay(overlay);\n        }\n      }, 50);\n    }\n    function findNext(cm, prev, query, repeat) {\n      if (repeat === undefined) { repeat = 1; }\n      return cm.operation(function() {\n        var pos = cm.getCursor();\n        var cursor = cm.getSearchCursor(query, pos);\n        for (var i = 0; i < repeat; i++) {\n          var found = cursor.find(prev);\n          if (i == 0 && found && cursorEqual(cursor.from(), pos)) {\n            var lastEndPos = prev ? cursor.from() : cursor.to();\n            found = cursor.find(prev);\n            if (found && !found[0] && cursorEqual(cursor.from(), lastEndPos)) {\n              if (cm.getLine(lastEndPos.line).length == lastEndPos.ch)\n                found = cursor.find(prev);\n            }\n          }\n          if (!found) {\n            // SearchCursor may have returned null because it hit EOF, wrap\n            // around and try again.\n            cursor = cm.getSearchCursor(query,\n                (prev) ? new Pos(cm.lastLine()) : new Pos(cm.firstLine(), 0) );\n            if (!cursor.find(prev)) {\n              return;\n            }\n          }\n        }\n        return cursor.from();\n      });\n    }\n    /**\n     * Pretty much the same as `findNext`, except for the following differences:\n     *\n     * 1. Before starting the search, move to the previous search. This way if our cursor is\n     * already inside a match, we should return the current match.\n     * 2. Rather than only returning the cursor's from, we return the cursor's from and to as a tuple.\n     */\n    function findNextFromAndToInclusive(cm, prev, query, repeat, vim) {\n      if (repeat === undefined) { repeat = 1; }\n      return cm.operation(function() {\n        var pos = cm.getCursor();\n        var cursor = cm.getSearchCursor(query, pos);\n\n        // Go back one result to ensure that if the cursor is currently a match, we keep it.\n        var found = cursor.find(!prev);\n\n        // If we haven't moved, go back one more (similar to if i==0 logic in findNext).\n        if (!vim.visualMode && found && cursorEqual(cursor.from(), pos)) {\n          cursor.find(!prev);\n        }\n\n        for (var i = 0; i < repeat; i++) {\n          found = cursor.find(prev);\n          if (!found) {\n            // SearchCursor may have returned null because it hit EOF, wrap\n            // around and try again.\n            cursor = cm.getSearchCursor(query,\n                (prev) ? new Pos(cm.lastLine()) : new Pos(cm.firstLine(), 0) );\n            if (!cursor.find(prev)) {\n              return;\n            }\n          }\n        }\n        return [cursor.from(), cursor.to()];\n      });\n    }\n    function clearSearchHighlight(cm) {\n      var state = getSearchState(cm);\n      cm.removeOverlay(getSearchState(cm).getOverlay());\n      state.setOverlay(null);\n      if (state.getScrollbarAnnotate()) {\n        state.getScrollbarAnnotate().clear();\n        state.setScrollbarAnnotate(null);\n      }\n    }\n    /**\n     * Check if pos is in the specified range, INCLUSIVE.\n     * Range can be specified with 1 or 2 arguments.\n     * If the first range argument is an array, treat it as an array of line\n     * numbers. Match pos against any of the lines.\n     * If the first range argument is a number,\n     *   if there is only 1 range argument, check if pos has the same line\n     *       number\n     *   if there are 2 range arguments, then check if pos is in between the two\n     *       range arguments.\n     */\n    function isInRange(pos, start, end) {\n      if (typeof pos != 'number') {\n        // Assume it is a cursor position. Get the line number.\n        pos = pos.line;\n      }\n      if (start instanceof Array) {\n        return inArray(pos, start);\n      } else {\n        if (typeof end == 'number') {\n          return (pos >= start && pos <= end);\n        } else {\n          return pos == start;\n        }\n      }\n    }\n    function getUserVisibleLines(cm) {\n      var scrollInfo = cm.getScrollInfo();\n      var occludeToleranceTop = 6;\n      var occludeToleranceBottom = 10;\n      var from = cm.coordsChar({left:0, top: occludeToleranceTop + scrollInfo.top}, 'local');\n      var bottomY = scrollInfo.clientHeight - occludeToleranceBottom + scrollInfo.top;\n      var to = cm.coordsChar({left:0, top: bottomY}, 'local');\n      return {top: from.line, bottom: to.line};\n    }\n\n    function getMarkPos(cm, vim, markName) {\n      if (markName == '\\'' || markName == '`') {\n        return vimGlobalState.jumpList.find(cm, -1) || new Pos(0, 0);\n      } else if (markName == '.') {\n        return getLastEditPos(cm);\n      }\n\n      var mark = vim.marks[markName];\n      return mark && mark.find();\n    }\n\n    function getLastEditPos(cm) {\n      var done = cm.doc.history.done;\n      for (var i = done.length; i--;) {\n        if (done[i].changes) {\n          return copyCursor(done[i].changes[0].to);\n        }\n      }\n    }\n\n    var ExCommandDispatcher = function() {\n      this.buildCommandMap_();\n    };\n    ExCommandDispatcher.prototype = {\n      processCommand: function(cm, input, opt_params) {\n        var that = this;\n        cm.operation(function () {\n          cm.curOp.isVimOp = true;\n          that._processCommand(cm, input, opt_params);\n        });\n      },\n      _processCommand: function(cm, input, opt_params) {\n        var vim = cm.state.vim;\n        var commandHistoryRegister = vimGlobalState.registerController.getRegister(':');\n        var previousCommand = commandHistoryRegister.toString();\n        if (vim.visualMode) {\n          exitVisualMode(cm);\n        }\n        var inputStream = new CodeMirror.StringStream(input);\n        // update \": with the latest command whether valid or invalid\n        commandHistoryRegister.setText(input);\n        var params = opt_params || {};\n        params.input = input;\n        try {\n          this.parseInput_(cm, inputStream, params);\n        } catch(e) {\n          showConfirm(cm, e.toString());\n          throw e;\n        }\n        var command;\n        var commandName;\n        if (!params.commandName) {\n          // If only a line range is defined, move to the line.\n          if (params.line !== undefined) {\n            commandName = 'move';\n          }\n        } else {\n          command = this.matchCommand_(params.commandName);\n          if (command) {\n            commandName = command.name;\n            if (command.excludeFromCommandHistory) {\n              commandHistoryRegister.setText(previousCommand);\n            }\n            this.parseCommandArgs_(inputStream, params, command);\n            if (command.type == 'exToKey') {\n              // Handle Ex to Key mapping.\n              for (var i = 0; i < command.toKeys.length; i++) {\n                vimApi.handleKey(cm, command.toKeys[i], 'mapping');\n              }\n              return;\n            } else if (command.type == 'exToEx') {\n              // Handle Ex to Ex mapping.\n              this.processCommand(cm, command.toInput);\n              return;\n            }\n          }\n        }\n        if (!commandName) {\n          showConfirm(cm, 'Not an editor command \":' + input + '\"');\n          return;\n        }\n        try {\n          exCommands[commandName](cm, params);\n          // Possibly asynchronous commands (e.g. substitute, which might have a\n          // user confirmation), are responsible for calling the callback when\n          // done. All others have it taken care of for them here.\n          if ((!command || !command.possiblyAsync) && params.callback) {\n            params.callback();\n          }\n        } catch(e) {\n          showConfirm(cm, e.toString());\n          throw e;\n        }\n      },\n      parseInput_: function(cm, inputStream, result) {\n        inputStream.eatWhile(':');\n        // Parse range.\n        if (inputStream.eat('%')) {\n          result.line = cm.firstLine();\n          result.lineEnd = cm.lastLine();\n        } else {\n          result.line = this.parseLineSpec_(cm, inputStream);\n          if (result.line !== undefined && inputStream.eat(',')) {\n            result.lineEnd = this.parseLineSpec_(cm, inputStream);\n          }\n        }\n\n        // Parse command name.\n        var commandMatch = inputStream.match(/^(\\w+|!!|@@|[!#&*<=>@~])/);\n        if (commandMatch) {\n          result.commandName = commandMatch[1];\n        } else {\n          result.commandName = inputStream.match(/.*/)[0];\n        }\n\n        return result;\n      },\n      parseLineSpec_: function(cm, inputStream) {\n        var numberMatch = inputStream.match(/^(\\d+)/);\n        if (numberMatch) {\n          // Absolute line number plus offset (N+M or N-M) is probably a typo,\n          // not something the user actually wanted. (NB: vim does allow this.)\n          return parseInt(numberMatch[1], 10) - 1;\n        }\n        switch (inputStream.next()) {\n          case '.':\n            return this.parseLineSpecOffset_(inputStream, cm.getCursor().line);\n          case '$':\n            return this.parseLineSpecOffset_(inputStream, cm.lastLine());\n          case '\\'':\n            var markName = inputStream.next();\n            var markPos = getMarkPos(cm, cm.state.vim, markName);\n            if (!markPos) throw new Error('Mark not set');\n            return this.parseLineSpecOffset_(inputStream, markPos.line);\n          case '-':\n          case '+':\n            inputStream.backUp(1);\n            // Offset is relative to current line if not otherwise specified.\n            return this.parseLineSpecOffset_(inputStream, cm.getCursor().line);\n          default:\n            inputStream.backUp(1);\n            return undefined;\n        }\n      },\n      parseLineSpecOffset_: function(inputStream, line) {\n        var offsetMatch = inputStream.match(/^([+-])?(\\d+)/);\n        if (offsetMatch) {\n          var offset = parseInt(offsetMatch[2], 10);\n          if (offsetMatch[1] == \"-\") {\n            line -= offset;\n          } else {\n            line += offset;\n          }\n        }\n        return line;\n      },\n      parseCommandArgs_: function(inputStream, params, command) {\n        if (inputStream.eol()) {\n          return;\n        }\n        params.argString = inputStream.match(/.*/)[0];\n        // Parse command-line arguments\n        var delim = command.argDelimiter || /\\s+/;\n        var args = trim(params.argString).split(delim);\n        if (args.length && args[0]) {\n          params.args = args;\n        }\n      },\n      matchCommand_: function(commandName) {\n        // Return the command in the command map that matches the shortest\n        // prefix of the passed in command name. The match is guaranteed to be\n        // unambiguous if the defaultExCommandMap's shortNames are set up\n        // correctly. (see @code{defaultExCommandMap}).\n        for (var i = commandName.length; i > 0; i--) {\n          var prefix = commandName.substring(0, i);\n          if (this.commandMap_[prefix]) {\n            var command = this.commandMap_[prefix];\n            if (command.name.indexOf(commandName) === 0) {\n              return command;\n            }\n          }\n        }\n        return null;\n      },\n      buildCommandMap_: function() {\n        this.commandMap_ = {};\n        for (var i = 0; i < defaultExCommandMap.length; i++) {\n          var command = defaultExCommandMap[i];\n          var key = command.shortName || command.name;\n          this.commandMap_[key] = command;\n        }\n      },\n      map: function(lhs, rhs, ctx) {\n        if (lhs != ':' && lhs.charAt(0) == ':') {\n          if (ctx) { throw Error('Mode not supported for ex mappings'); }\n          var commandName = lhs.substring(1);\n          if (rhs != ':' && rhs.charAt(0) == ':') {\n            // Ex to Ex mapping\n            this.commandMap_[commandName] = {\n              name: commandName,\n              type: 'exToEx',\n              toInput: rhs.substring(1),\n              user: true\n            };\n          } else {\n            // Ex to key mapping\n            this.commandMap_[commandName] = {\n              name: commandName,\n              type: 'exToKey',\n              toKeys: rhs,\n              user: true\n            };\n          }\n        } else {\n          if (rhs != ':' && rhs.charAt(0) == ':') {\n            // Key to Ex mapping.\n            var mapping = {\n              keys: lhs,\n              type: 'keyToEx',\n              exArgs: { input: rhs.substring(1) }\n            };\n            if (ctx) { mapping.context = ctx; }\n            defaultKeymap.unshift(mapping);\n          } else {\n            // Key to key mapping\n            var mapping = {\n              keys: lhs,\n              type: 'keyToKey',\n              toKeys: rhs\n            };\n            if (ctx) { mapping.context = ctx; }\n            defaultKeymap.unshift(mapping);\n          }\n        }\n      },\n      unmap: function(lhs, ctx) {\n        if (lhs != ':' && lhs.charAt(0) == ':') {\n          // Ex to Ex or Ex to key mapping\n          if (ctx) { throw Error('Mode not supported for ex mappings'); }\n          var commandName = lhs.substring(1);\n          if (this.commandMap_[commandName] && this.commandMap_[commandName].user) {\n            delete this.commandMap_[commandName];\n            return true;\n          }\n        } else {\n          // Key to Ex or key to key mapping\n          var keys = lhs;\n          for (var i = 0; i < defaultKeymap.length; i++) {\n            if (keys == defaultKeymap[i].keys\n                && defaultKeymap[i].context === ctx) {\n              defaultKeymap.splice(i, 1);\n              return true;\n            }\n          }\n        }\n      }\n    };\n\n    var exCommands = {\n      colorscheme: function(cm, params) {\n        if (!params.args || params.args.length < 1) {\n          showConfirm(cm, cm.getOption('theme'));\n          return;\n        }\n        cm.setOption('theme', params.args[0]);\n      },\n      map: function(cm, params, ctx) {\n        var mapArgs = params.args;\n        if (!mapArgs || mapArgs.length < 2) {\n          if (cm) {\n            showConfirm(cm, 'Invalid mapping: ' + params.input);\n          }\n          return;\n        }\n        exCommandDispatcher.map(mapArgs[0], mapArgs[1], ctx);\n      },\n      imap: function(cm, params) { this.map(cm, params, 'insert'); },\n      nmap: function(cm, params) { this.map(cm, params, 'normal'); },\n      vmap: function(cm, params) { this.map(cm, params, 'visual'); },\n      unmap: function(cm, params, ctx) {\n        var mapArgs = params.args;\n        if (!mapArgs || mapArgs.length < 1 || !exCommandDispatcher.unmap(mapArgs[0], ctx)) {\n          if (cm) {\n            showConfirm(cm, 'No such mapping: ' + params.input);\n          }\n        }\n      },\n      move: function(cm, params) {\n        commandDispatcher.processCommand(cm, cm.state.vim, {\n            type: 'motion',\n            motion: 'moveToLineOrEdgeOfDocument',\n            motionArgs: { forward: false, explicitRepeat: true,\n              linewise: true },\n            repeatOverride: params.line+1});\n      },\n      set: function(cm, params) {\n        var setArgs = params.args;\n        // Options passed through to the setOption/getOption calls. May be passed in by the\n        // local/global versions of the set command\n        var setCfg = params.setCfg || {};\n        if (!setArgs || setArgs.length < 1) {\n          if (cm) {\n            showConfirm(cm, 'Invalid mapping: ' + params.input);\n          }\n          return;\n        }\n        var expr = setArgs[0].split('=');\n        var optionName = expr[0];\n        var value = expr[1];\n        var forceGet = false;\n\n        if (optionName.charAt(optionName.length - 1) == '?') {\n          // If post-fixed with ?, then the set is actually a get.\n          if (value) { throw Error('Trailing characters: ' + params.argString); }\n          optionName = optionName.substring(0, optionName.length - 1);\n          forceGet = true;\n        }\n        if (value === undefined && optionName.substring(0, 2) == 'no') {\n          // To set boolean options to false, the option name is prefixed with\n          // 'no'.\n          optionName = optionName.substring(2);\n          value = false;\n        }\n\n        var optionIsBoolean = options[optionName] && options[optionName].type == 'boolean';\n        if (optionIsBoolean && value == undefined) {\n          // Calling set with a boolean option sets it to true.\n          value = true;\n        }\n        // If no value is provided, then we assume this is a get.\n        if (!optionIsBoolean && value === undefined || forceGet) {\n          var oldValue = getOption(optionName, cm, setCfg);\n          if (oldValue instanceof Error) {\n            showConfirm(cm, oldValue.message);\n          } else if (oldValue === true || oldValue === false) {\n            showConfirm(cm, ' ' + (oldValue ? '' : 'no') + optionName);\n          } else {\n            showConfirm(cm, '  ' + optionName + '=' + oldValue);\n          }\n        } else {\n          var setOptionReturn = setOption(optionName, value, cm, setCfg);\n          if (setOptionReturn instanceof Error) {\n            showConfirm(cm, setOptionReturn.message);\n          }\n        }\n      },\n      setlocal: function (cm, params) {\n        // setCfg is passed through to setOption\n        params.setCfg = {scope: 'local'};\n        this.set(cm, params);\n      },\n      setglobal: function (cm, params) {\n        // setCfg is passed through to setOption\n        params.setCfg = {scope: 'global'};\n        this.set(cm, params);\n      },\n      registers: function(cm, params) {\n        var regArgs = params.args;\n        var registers = vimGlobalState.registerController.registers;\n        var regInfo = '----------Registers----------\\n\\n';\n        if (!regArgs) {\n          for (var registerName in registers) {\n            var text = registers[registerName].toString();\n            if (text.length) {\n              regInfo += '\"' + registerName + '    ' + text + '\\n';\n            }\n          }\n        } else {\n          var registerName;\n          regArgs = regArgs.join('');\n          for (var i = 0; i < regArgs.length; i++) {\n            registerName = regArgs.charAt(i);\n            if (!vimGlobalState.registerController.isValidRegister(registerName)) {\n              continue;\n            }\n            var register = registers[registerName] || new Register();\n            regInfo += '\"' + registerName + '    ' + register.toString() + '\\n';\n          }\n        }\n        showConfirm(cm, regInfo);\n      },\n      sort: function(cm, params) {\n        var reverse, ignoreCase, unique, number, pattern;\n        function parseArgs() {\n          if (params.argString) {\n            var args = new CodeMirror.StringStream(params.argString);\n            if (args.eat('!')) { reverse = true; }\n            if (args.eol()) { return; }\n            if (!args.eatSpace()) { return 'Invalid arguments'; }\n            var opts = args.match(/([dinuox]+)?\\s*(\\/.+\\/)?\\s*/);\n            if (!opts && !args.eol()) { return 'Invalid arguments'; }\n            if (opts[1]) {\n              ignoreCase = opts[1].indexOf('i') != -1;\n              unique = opts[1].indexOf('u') != -1;\n              var decimal = opts[1].indexOf('d') != -1 || opts[1].indexOf('n') != -1 && 1;\n              var hex = opts[1].indexOf('x') != -1 && 1;\n              var octal = opts[1].indexOf('o') != -1 && 1;\n              if (decimal + hex + octal > 1) { return 'Invalid arguments'; }\n              number = decimal && 'decimal' || hex && 'hex' || octal && 'octal';\n            }\n            if (opts[2]) {\n              pattern = new RegExp(opts[2].substr(1, opts[2].length - 2), ignoreCase ? 'i' : '');\n            }\n          }\n        }\n        var err = parseArgs();\n        if (err) {\n          showConfirm(cm, err + ': ' + params.argString);\n          return;\n        }\n        var lineStart = params.line || cm.firstLine();\n        var lineEnd = params.lineEnd || params.line || cm.lastLine();\n        if (lineStart == lineEnd) { return; }\n        var curStart = new Pos(lineStart, 0);\n        var curEnd = new Pos(lineEnd, lineLength(cm, lineEnd));\n        var text = cm.getRange(curStart, curEnd).split('\\n');\n        var numberRegex = pattern ? pattern :\n           (number == 'decimal') ? /(-?)([\\d]+)/ :\n           (number == 'hex') ? /(-?)(?:0x)?([0-9a-f]+)/i :\n           (number == 'octal') ? /([0-7]+)/ : null;\n        var radix = (number == 'decimal') ? 10 : (number == 'hex') ? 16 : (number == 'octal') ? 8 : null;\n        var numPart = [], textPart = [];\n        if (number || pattern) {\n          for (var i = 0; i < text.length; i++) {\n            var matchPart = pattern ? text[i].match(pattern) : null;\n            if (matchPart && matchPart[0] != '') {\n              numPart.push(matchPart);\n            } else if (!pattern && numberRegex.exec(text[i])) {\n              numPart.push(text[i]);\n            } else {\n              textPart.push(text[i]);\n            }\n          }\n        } else {\n          textPart = text;\n        }\n        function compareFn(a, b) {\n          if (reverse) { var tmp; tmp = a; a = b; b = tmp; }\n          if (ignoreCase) { a = a.toLowerCase(); b = b.toLowerCase(); }\n          var anum = number && numberRegex.exec(a);\n          var bnum = number && numberRegex.exec(b);\n          if (!anum) { return a < b ? -1 : 1; }\n          anum = parseInt((anum[1] + anum[2]).toLowerCase(), radix);\n          bnum = parseInt((bnum[1] + bnum[2]).toLowerCase(), radix);\n          return anum - bnum;\n        }\n        function comparePatternFn(a, b) {\n          if (reverse) { var tmp; tmp = a; a = b; b = tmp; }\n          if (ignoreCase) { a[0] = a[0].toLowerCase(); b[0] = b[0].toLowerCase(); }\n          return (a[0] < b[0]) ? -1 : 1;\n        }\n        numPart.sort(pattern ? comparePatternFn : compareFn);\n        if (pattern) {\n          for (var i = 0; i < numPart.length; i++) {\n            numPart[i] = numPart[i].input;\n          }\n        } else if (!number) { textPart.sort(compareFn); }\n        text = (!reverse) ? textPart.concat(numPart) : numPart.concat(textPart);\n        if (unique) { // Remove duplicate lines\n          var textOld = text;\n          var lastLine;\n          text = [];\n          for (var i = 0; i < textOld.length; i++) {\n            if (textOld[i] != lastLine) {\n              text.push(textOld[i]);\n            }\n            lastLine = textOld[i];\n          }\n        }\n        cm.replaceRange(text.join('\\n'), curStart, curEnd);\n      },\n      vglobal: function(cm, params) {\n        // global inspects params.commandName\n        this.global(cm, params);\n      },\n      global: function(cm, params) {\n        // a global command is of the form\n        // :[range]g/pattern/[cmd]\n        // argString holds the string /pattern/[cmd]\n        var argString = params.argString;\n        if (!argString) {\n          showConfirm(cm, 'Regular Expression missing from global');\n          return;\n        }\n        var inverted = params.commandName[0] === 'v';\n        // range is specified here\n        var lineStart = (params.line !== undefined) ? params.line : cm.firstLine();\n        var lineEnd = params.lineEnd || params.line || cm.lastLine();\n        // get the tokens from argString\n        var tokens = splitBySlash(argString);\n        var regexPart = argString, cmd;\n        if (tokens.length) {\n          regexPart = tokens[0];\n          cmd = tokens.slice(1, tokens.length).join('/');\n        }\n        if (regexPart) {\n          // If regex part is empty, then use the previous query. Otherwise\n          // use the regex part as the new query.\n          try {\n           updateSearchQuery(cm, regexPart, true /** ignoreCase */,\n             true /** smartCase */);\n          } catch (e) {\n           showConfirm(cm, 'Invalid regex: ' + regexPart);\n           return;\n          }\n        }\n        // now that we have the regexPart, search for regex matches in the\n        // specified range of lines\n        var query = getSearchState(cm).getQuery();\n        var matchedLines = [];\n        for (var i = lineStart; i <= lineEnd; i++) {\n          var line = cm.getLineHandle(i);\n          var matched = query.test(line.text);\n          if (matched !== inverted) {\n            matchedLines.push(cmd ? line : line.text);\n          }\n        }\n        // if there is no [cmd], just display the list of matched lines\n        if (!cmd) {\n          showConfirm(cm, matchedLines.join('\\n'));\n          return;\n        }\n        var index = 0;\n        var nextCommand = function() {\n          if (index < matchedLines.length) {\n            var line = matchedLines[index++];\n            var lineNum = cm.getLineNumber(line);\n            if (lineNum == null) {\n              nextCommand();\n              return;\n            }\n            var command = (lineNum + 1) + cmd;\n            exCommandDispatcher.processCommand(cm, command, {\n              callback: nextCommand\n            });\n          }\n        };\n        nextCommand();\n      },\n      substitute: function(cm, params) {\n        if (!cm.getSearchCursor) {\n          throw new Error('Search feature not available. Requires searchcursor.js or ' +\n              'any other getSearchCursor implementation.');\n        }\n        var argString = params.argString;\n        var tokens = argString ? splitBySeparator(argString, argString[0]) : [];\n        var regexPart, replacePart = '', trailing, flagsPart, count;\n        var confirm = false; // Whether to confirm each replace.\n        var global = false; // True to replace all instances on a line, false to replace only 1.\n        if (tokens.length) {\n          regexPart = tokens[0];\n          if (getOption('pcre') && regexPart !== '') {\n              regexPart = new RegExp(regexPart).source; //normalize not escaped characters\n          }\n          replacePart = tokens[1];\n          if (replacePart !== undefined) {\n            if (getOption('pcre')) {\n              replacePart = unescapeRegexReplace(replacePart.replace(/([^\\\\])&/g,\"$1$$&\"));\n            } else {\n              replacePart = translateRegexReplace(replacePart);\n            }\n            vimGlobalState.lastSubstituteReplacePart = replacePart;\n          }\n          trailing = tokens[2] ? tokens[2].split(' ') : [];\n        } else {\n          // either the argString is empty or its of the form ' hello/world'\n          // actually splitBySlash returns a list of tokens\n          // only if the string starts with a '/'\n          if (argString && argString.length) {\n            showConfirm(cm, 'Substitutions should be of the form ' +\n                ':s/pattern/replace/');\n            return;\n          }\n        }\n        // After the 3rd slash, we can have flags followed by a space followed\n        // by count.\n        if (trailing) {\n          flagsPart = trailing[0];\n          count = parseInt(trailing[1]);\n          if (flagsPart) {\n            if (flagsPart.indexOf('c') != -1) {\n              confirm = true;\n            }\n            if (flagsPart.indexOf('g') != -1) {\n              global = true;\n            }\n            if (getOption('pcre')) {\n               regexPart = regexPart + '/' + flagsPart;\n            } else {\n               regexPart = regexPart.replace(/\\//g, \"\\\\/\") + '/' + flagsPart;\n            }\n          }\n        }\n        if (regexPart) {\n          // If regex part is empty, then use the previous query. Otherwise use\n          // the regex part as the new query.\n          try {\n            updateSearchQuery(cm, regexPart, true /** ignoreCase */,\n              true /** smartCase */);\n          } catch (e) {\n            showConfirm(cm, 'Invalid regex: ' + regexPart);\n            return;\n          }\n        }\n        replacePart = replacePart || vimGlobalState.lastSubstituteReplacePart;\n        if (replacePart === undefined) {\n          showConfirm(cm, 'No previous substitute regular expression');\n          return;\n        }\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n        var lineStart = (params.line !== undefined) ? params.line : cm.getCursor().line;\n        var lineEnd = params.lineEnd || lineStart;\n        if (lineStart == cm.firstLine() && lineEnd == cm.lastLine()) {\n          lineEnd = Infinity;\n        }\n        if (count) {\n          lineStart = lineEnd;\n          lineEnd = lineStart + count - 1;\n        }\n        var startPos = clipCursorToContent(cm, new Pos(lineStart, 0));\n        var cursor = cm.getSearchCursor(query, startPos);\n        doReplace(cm, confirm, global, lineStart, lineEnd, cursor, query, replacePart, params.callback);\n      },\n      redo: CodeMirror.commands.redo,\n      undo: CodeMirror.commands.undo,\n      write: function(cm) {\n        if (CodeMirror.commands.save) {\n          // If a save command is defined, call it.\n          CodeMirror.commands.save(cm);\n        } else if (cm.save) {\n          // Saves to text area if no save command is defined and cm.save() is available.\n          cm.save();\n        }\n      },\n      nohlsearch: function(cm) {\n        clearSearchHighlight(cm);\n      },\n      yank: function (cm) {\n        var cur = copyCursor(cm.getCursor());\n        var line = cur.line;\n        var lineText = cm.getLine(line);\n        vimGlobalState.registerController.pushText(\n          '0', 'yank', lineText, true, true);\n      },\n      delmarks: function(cm, params) {\n        if (!params.argString || !trim(params.argString)) {\n          showConfirm(cm, 'Argument required');\n          return;\n        }\n\n        var state = cm.state.vim;\n        var stream = new CodeMirror.StringStream(trim(params.argString));\n        while (!stream.eol()) {\n          stream.eatSpace();\n\n          // Record the streams position at the beginning of the loop for use\n          // in error messages.\n          var count = stream.pos;\n\n          if (!stream.match(/[a-zA-Z]/, false)) {\n            showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n            return;\n          }\n\n          var sym = stream.next();\n          // Check if this symbol is part of a range\n          if (stream.match('-', true)) {\n            // This symbol is part of a range.\n\n            // The range must terminate at an alphabetic character.\n            if (!stream.match(/[a-zA-Z]/, false)) {\n              showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n              return;\n            }\n\n            var startMark = sym;\n            var finishMark = stream.next();\n            // The range must terminate at an alphabetic character which\n            // shares the same case as the start of the range.\n            if (isLowerCase(startMark) && isLowerCase(finishMark) ||\n                isUpperCase(startMark) && isUpperCase(finishMark)) {\n              var start = startMark.charCodeAt(0);\n              var finish = finishMark.charCodeAt(0);\n              if (start >= finish) {\n                showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n                return;\n              }\n\n              // Because marks are always ASCII values, and we have\n              // determined that they are the same case, we can use\n              // their char codes to iterate through the defined range.\n              for (var j = 0; j <= finish - start; j++) {\n                var mark = String.fromCharCode(start + j);\n                delete state.marks[mark];\n              }\n            } else {\n              showConfirm(cm, 'Invalid argument: ' + startMark + '-');\n              return;\n            }\n          } else {\n            // This symbol is a valid mark, and is not part of a range.\n            delete state.marks[sym];\n          }\n        }\n      }\n    };\n\n    var exCommandDispatcher = new ExCommandDispatcher();\n\n    /**\n    * @param {CodeMirror} cm CodeMirror instance we are in.\n    * @param {boolean} confirm Whether to confirm each replace.\n    * @param {Cursor} lineStart Line to start replacing from.\n    * @param {Cursor} lineEnd Line to stop replacing at.\n    * @param {RegExp} query Query for performing matches with.\n    * @param {string} replaceWith Text to replace matches with. May contain $1,\n    *     $2, etc for replacing captured groups using JavaScript replace.\n    * @param {function()} callback A callback for when the replace is done.\n    */\n    function doReplace(cm, confirm, global, lineStart, lineEnd, searchCursor, query,\n        replaceWith, callback) {\n      // Set up all the functions.\n      cm.state.vim.exMode = true;\n      var done = false;\n      var lastPos, modifiedLineNumber, joined;\n      function replaceAll() {\n        cm.operation(function() {\n          while (!done) {\n            replace();\n            next();\n          }\n          stop();\n        });\n      }\n      function replace() {\n        var text = cm.getRange(searchCursor.from(), searchCursor.to());\n        var newText = text.replace(query, replaceWith);\n        var unmodifiedLineNumber = searchCursor.to().line;\n        searchCursor.replace(newText);\n        modifiedLineNumber = searchCursor.to().line;\n        lineEnd += modifiedLineNumber - unmodifiedLineNumber;\n        joined = modifiedLineNumber < unmodifiedLineNumber;\n      }\n      function findNextValidMatch() {\n        var lastMatchTo = lastPos && copyCursor(searchCursor.to());\n        var match = searchCursor.findNext();\n        if (match && !match[0] && lastMatchTo && cursorEqual(searchCursor.from(), lastMatchTo)) {\n          match = searchCursor.findNext();\n        }\n        return match;\n      }\n      function next() {\n        // The below only loops to skip over multiple occurrences on the same\n        // line when 'global' is not true.\n        while(findNextValidMatch() &&\n              isInRange(searchCursor.from(), lineStart, lineEnd)) {\n          if (!global && searchCursor.from().line == modifiedLineNumber && !joined) {\n            continue;\n          }\n          cm.scrollIntoView(searchCursor.from(), 30);\n          cm.setSelection(searchCursor.from(), searchCursor.to());\n          lastPos = searchCursor.from();\n          done = false;\n          return;\n        }\n        done = true;\n      }\n      function stop(close) {\n        if (close) { close(); }\n        cm.focus();\n        if (lastPos) {\n          cm.setCursor(lastPos);\n          var vim = cm.state.vim;\n          vim.exMode = false;\n          vim.lastHPos = vim.lastHSPos = lastPos.ch;\n        }\n        if (callback) { callback(); }\n      }\n      function onPromptKeyDown(e, _value, close) {\n        // Swallow all keys.\n        CodeMirror.e_stop(e);\n        var keyName = CodeMirror.keyName(e);\n        switch (keyName) {\n          case 'Y':\n            replace(); next(); break;\n          case 'N':\n            next(); break;\n          case 'A':\n            // replaceAll contains a call to close of its own. We don't want it\n            // to fire too early or multiple times.\n            var savedCallback = callback;\n            callback = undefined;\n            cm.operation(replaceAll);\n            callback = savedCallback;\n            break;\n          case 'L':\n            replace();\n            // fall through and exit.\n          case 'Q':\n          case 'Esc':\n          case 'Ctrl-C':\n          case 'Ctrl-[':\n            stop(close);\n            break;\n        }\n        if (done) { stop(close); }\n        return true;\n      }\n\n      // Actually do replace.\n      next();\n      if (done) {\n        showConfirm(cm, 'No matches for ' + query.source);\n        return;\n      }\n      if (!confirm) {\n        replaceAll();\n        if (callback) { callback(); }\n        return;\n      }\n      showPrompt(cm, {\n        prefix: dom('span', 'replace with ', dom('strong', replaceWith), ' (y/n/a/q/l)'),\n        onKeyDown: onPromptKeyDown\n      });\n    }\n\n    CodeMirror.keyMap.vim = {\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    function exitInsertMode(cm) {\n      var vim = cm.state.vim;\n      var macroModeState = vimGlobalState.macroModeState;\n      var insertModeChangeRegister = vimGlobalState.registerController.getRegister('.');\n      var isPlaying = macroModeState.isPlaying;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      if (!isPlaying) {\n        cm.off('change', onChange);\n        CodeMirror.off(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n      }\n      if (!isPlaying && vim.insertModeRepeat > 1) {\n        // Perform insert mode repeat for commands like 3,a and 3,o.\n        repeatLastEdit(cm, vim, vim.insertModeRepeat - 1,\n            true /** repeatForInsert */);\n        vim.lastEditInputState.repeatOverride = vim.insertModeRepeat;\n      }\n      delete vim.insertModeRepeat;\n      vim.insertMode = false;\n      cm.setCursor(cm.getCursor().line, cm.getCursor().ch-1);\n      cm.setOption('keyMap', 'vim');\n      cm.setOption('disableInput', true);\n      cm.toggleOverwrite(false); // exit replace mode if we were in it.\n      // update the \". register before exiting insert mode\n      insertModeChangeRegister.setText(lastChange.changes.join(''));\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      if (macroModeState.isRecording) {\n        logInsertModeChange(macroModeState);\n      }\n    }\n\n    function _mapCommand(command) {\n      defaultKeymap.unshift(command);\n    }\n\n    function mapCommand(keys, type, name, args, extra) {\n      var command = {keys: keys, type: type};\n      command[type] = name;\n      command[type + \"Args\"] = args;\n      for (var key in extra)\n        command[key] = extra[key];\n      _mapCommand(command);\n    }\n\n    // The timeout in milliseconds for the two-character ESC keymap should be\n    // adjusted according to your typing speed to prevent false positives.\n    defineOption('insertModeEscKeysTimeout', 200, 'number');\n\n    CodeMirror.keyMap['vim-insert'] = {\n      // TODO: override navigation keys so that Esc will cancel automatic\n      // indentation from o, O, i_<CR>\n      fallthrough: ['default'],\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    CodeMirror.keyMap['vim-replace'] = {\n      'Backspace': 'goCharLeft',\n      fallthrough: ['vim-insert'],\n      attach: attachVimMap,\n      detach: detachVimMap\n    };\n\n    function executeMacroRegister(cm, vim, macroModeState, registerName) {\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (registerName == ':') {\n        // Read-only register containing last Ex command.\n        if (register.keyBuffer[0]) {\n          exCommandDispatcher.processCommand(cm, register.keyBuffer[0]);\n        }\n        macroModeState.isPlaying = false;\n        return;\n      }\n      var keyBuffer = register.keyBuffer;\n      var imc = 0;\n      macroModeState.isPlaying = true;\n      macroModeState.replaySearchQueries = register.searchQueries.slice(0);\n      for (var i = 0; i < keyBuffer.length; i++) {\n        var text = keyBuffer[i];\n        var match, key;\n        while (text) {\n          // Pull off one command key, which is either a single character\n          // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n          match = (/<\\w+-.+?>|<\\w+>|./).exec(text);\n          key = match[0];\n          text = text.substring(match.index + key.length);\n          vimApi.handleKey(cm, key, 'macro');\n          if (vim.insertMode) {\n            var changes = register.insertModeChanges[imc++].changes;\n            vimGlobalState.macroModeState.lastInsertModeChanges.changes =\n                changes;\n            repeatInsertModeChanges(cm, changes, 1);\n            exitInsertMode(cm);\n          }\n        }\n      }\n      macroModeState.isPlaying = false;\n    }\n\n    function logKey(macroModeState, key) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register) {\n        register.pushText(key);\n      }\n    }\n\n    function logInsertModeChange(macroModeState) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register && register.pushInsertModeChanges) {\n        register.pushInsertModeChanges(macroModeState.lastInsertModeChanges);\n      }\n    }\n\n    function logSearchQuery(macroModeState, query) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register && register.pushSearchQuery) {\n        register.pushSearchQuery(query);\n      }\n    }\n\n    /**\n     * Listens for changes made in insert mode.\n     * Should only be active in insert mode.\n     */\n    function onChange(cm, changeObj) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      if (!macroModeState.isPlaying) {\n        while(changeObj) {\n          lastChange.expectCursorActivityForChange = true;\n          if (lastChange.ignoreCount > 1) {\n            lastChange.ignoreCount--;\n          } else if (changeObj.origin == '+input' || changeObj.origin == 'paste'\n              || changeObj.origin === undefined /* only in testing */) {\n            var selectionCount = cm.listSelections().length;\n            if (selectionCount > 1)\n              lastChange.ignoreCount = selectionCount;\n            var text = changeObj.text.join('\\n');\n            if (lastChange.maybeReset) {\n              lastChange.changes = [];\n              lastChange.maybeReset = false;\n            }\n            if (text) {\n              if (cm.state.overwrite && !/\\n/.test(text)) {\n                lastChange.changes.push([text]);\n              } else {\n                lastChange.changes.push(text);\n              }\n            }\n          }\n          // Change objects may be chained with next.\n          changeObj = changeObj.next;\n        }\n      }\n    }\n\n    /**\n    * Listens for any kind of cursor activity on CodeMirror.\n    */\n    function onCursorActivity(cm) {\n      var vim = cm.state.vim;\n      if (vim.insertMode) {\n        // Tracking cursor activity in insert mode (for macro support).\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.isPlaying) { return; }\n        var lastChange = macroModeState.lastInsertModeChanges;\n        if (lastChange.expectCursorActivityForChange) {\n          lastChange.expectCursorActivityForChange = false;\n        } else {\n          // Cursor moved outside the context of an edit. Reset the change.\n          lastChange.maybeReset = true;\n        }\n      } else if (!cm.curOp.isVimOp) {\n        handleExternalSelection(cm, vim);\n      }\n    }\n    function handleExternalSelection(cm, vim) {\n      var anchor = cm.getCursor('anchor');\n      var head = cm.getCursor('head');\n      // Enter or exit visual mode to match mouse selection.\n      if (vim.visualMode && !cm.somethingSelected()) {\n        exitVisualMode(cm, false);\n      } else if (!vim.visualMode && !vim.insertMode && cm.somethingSelected()) {\n        vim.visualMode = true;\n        vim.visualLine = false;\n        CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\"});\n      }\n      if (vim.visualMode) {\n        // Bind CodeMirror selection model to vim selection model.\n        // Mouse selections are considered visual characterwise.\n        var headOffset = !cursorIsBefore(head, anchor) ? -1 : 0;\n        var anchorOffset = cursorIsBefore(head, anchor) ? -1 : 0;\n        head = offsetCursor(head, 0, headOffset);\n        anchor = offsetCursor(anchor, 0, anchorOffset);\n        vim.sel = {\n          anchor: anchor,\n          head: head\n        };\n        updateMark(cm, vim, '<', cursorMin(head, anchor));\n        updateMark(cm, vim, '>', cursorMax(head, anchor));\n      } else if (!vim.insertMode) {\n        // Reset lastHPos if selection was modified by something outside of vim mode e.g. by mouse.\n        vim.lastHPos = cm.getCursor().ch;\n      }\n    }\n\n    /** Wrapper for special keys pressed in insert mode */\n    function InsertModeKey(keyName) {\n      this.keyName = keyName;\n    }\n\n    /**\n    * Handles raw key down events from the text area.\n    * - Should only be active in insert mode.\n    * - For recording deletes in insert mode.\n    */\n    function onKeyEventTargetKeyDown(e) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      var keyName = CodeMirror.keyName(e);\n      if (!keyName) { return; }\n      function onKeyFound() {\n        if (lastChange.maybeReset) {\n          lastChange.changes = [];\n          lastChange.maybeReset = false;\n        }\n        lastChange.changes.push(new InsertModeKey(keyName));\n        return true;\n      }\n      if (keyName.indexOf('Delete') != -1 || keyName.indexOf('Backspace') != -1) {\n        CodeMirror.lookupKey(keyName, 'vim-insert', onKeyFound);\n      }\n    }\n\n    /**\n     * Repeats the last edit, which includes exactly 1 command and at most 1\n     * insert. Operator and motion commands are read from lastEditInputState,\n     * while action commands are read from lastEditActionCommand.\n     *\n     * If repeatForInsert is true, then the function was called by\n     * exitInsertMode to repeat the insert mode changes the user just made. The\n     * corresponding enterInsertMode call was made with a count.\n     */\n    function repeatLastEdit(cm, vim, repeat, repeatForInsert) {\n      var macroModeState = vimGlobalState.macroModeState;\n      macroModeState.isPlaying = true;\n      var isAction = !!vim.lastEditActionCommand;\n      var cachedInputState = vim.inputState;\n      function repeatCommand() {\n        if (isAction) {\n          commandDispatcher.processAction(cm, vim, vim.lastEditActionCommand);\n        } else {\n          commandDispatcher.evalInput(cm, vim);\n        }\n      }\n      function repeatInsert(repeat) {\n        if (macroModeState.lastInsertModeChanges.changes.length > 0) {\n          // For some reason, repeat cw in desktop VIM does not repeat\n          // insert mode changes. Will conform to that behavior.\n          repeat = !vim.lastEditActionCommand ? 1 : repeat;\n          var changeObject = macroModeState.lastInsertModeChanges;\n          repeatInsertModeChanges(cm, changeObject.changes, repeat);\n        }\n      }\n      vim.inputState = vim.lastEditInputState;\n      if (isAction && vim.lastEditActionCommand.interlaceInsertRepeat) {\n        // o and O repeat have to be interlaced with insert repeats so that the\n        // insertions appear on separate lines instead of the last line.\n        for (var i = 0; i < repeat; i++) {\n          repeatCommand();\n          repeatInsert(1);\n        }\n      } else {\n        if (!repeatForInsert) {\n          // Hack to get the cursor to end up at the right place. If I is\n          // repeated in insert mode repeat, cursor will be 1 insert\n          // change set left of where it should be.\n          repeatCommand();\n        }\n        repeatInsert(repeat);\n      }\n      vim.inputState = cachedInputState;\n      if (vim.insertMode && !repeatForInsert) {\n        // Don't exit insert mode twice. If repeatForInsert is set, then we\n        // were called by an exitInsertMode call lower on the stack.\n        exitInsertMode(cm);\n      }\n      macroModeState.isPlaying = false;\n    }\n\n    function repeatInsertModeChanges(cm, changes, repeat) {\n      function keyHandler(binding) {\n        if (typeof binding == 'string') {\n          CodeMirror.commands[binding](cm);\n        } else {\n          binding(cm);\n        }\n        return true;\n      }\n      var head = cm.getCursor('head');\n      var visualBlock = vimGlobalState.macroModeState.lastInsertModeChanges.visualBlock;\n      if (visualBlock) {\n        // Set up block selection again for repeating the changes.\n        selectForInsert(cm, head, visualBlock + 1);\n        repeat = cm.listSelections().length;\n        cm.setCursor(head);\n      }\n      for (var i = 0; i < repeat; i++) {\n        if (visualBlock) {\n          cm.setCursor(offsetCursor(head, i, 0));\n        }\n        for (var j = 0; j < changes.length; j++) {\n          var change = changes[j];\n          if (change instanceof InsertModeKey) {\n            CodeMirror.lookupKey(change.keyName, 'vim-insert', keyHandler);\n          } else if (typeof change == \"string\") {\n            cm.replaceSelection(change);\n          } else {\n            var start = cm.getCursor();\n            var end = offsetCursor(start, 0, change[0].length);\n            cm.replaceRange(change[0], start, end);\n            cm.setCursor(end);\n          }\n        }\n      }\n      if (visualBlock) {\n        cm.setCursor(offsetCursor(head, 0, 1));\n      }\n    }\n\n    // multiselect support\n    function cloneVimState(state) {\n      var n = new state.constructor();\n      Object.keys(state).forEach(function(key) {\n        var o = state[key];\n        if (Array.isArray(o))\n          o = o.slice();\n        else if (o && typeof o == \"object\" && o.constructor != Object)\n          o = cloneVimState(o);\n        n[key] = o;\n      });\n      if (state.sel) {\n        n.sel = {\n          head: state.sel.head && copyCursor(state.sel.head),\n          anchor: state.sel.anchor && copyCursor(state.sel.anchor)\n        };\n      }\n      return n;\n    }\n    function multiSelectHandleKey(cm, key, origin) {\n      var isHandled = false;\n      var vim = vimApi.maybeInitVimState_(cm);\n      var visualBlock = vim.visualBlock || vim.wasInVisualBlock;\n\n      var wasMultiselect = cm.isInMultiSelectMode();\n      if (vim.wasInVisualBlock && !wasMultiselect) {\n        vim.wasInVisualBlock = false;\n      } else if (wasMultiselect && vim.visualBlock) {\n         vim.wasInVisualBlock = true;\n      }\n\n      if (key == '<Esc>' && !vim.insertMode && !vim.visualMode && wasMultiselect && vim.status == \"<Esc>\") {\n        // allow editor to exit multiselect\n        clearInputState(cm);\n      } else if (visualBlock || !wasMultiselect || cm.inVirtualSelectionMode) {\n        isHandled = vimApi.handleKey(cm, key, origin);\n      } else {\n        var old = cloneVimState(vim);\n        var changeQueueList = vim.inputState.changeQueueList || [];\n\n        cm.operation(function() {\n          cm.curOp.isVimOp = true;\n          var index = 0;\n          cm.forEachSelection(function() {\n            cm.state.vim.inputState.changeQueue = changeQueueList[index];\n            var head = cm.getCursor(\"head\");\n            var anchor = cm.getCursor(\"anchor\");\n            var headOffset = !cursorIsBefore(head, anchor) ? -1 : 0;\n            var anchorOffset = cursorIsBefore(head, anchor) ? -1 : 0;\n            head = offsetCursor(head, 0, headOffset);\n            anchor = offsetCursor(anchor, 0, anchorOffset);\n            cm.state.vim.sel.head = head;\n            cm.state.vim.sel.anchor = anchor;\n\n            isHandled = vimApi.handleKey(cm, key, origin);\n            if (cm.virtualSelection) {\n              changeQueueList[index] = cm.state.vim.inputState.changeQueue;\n              cm.state.vim = cloneVimState(old);\n            }\n            index++;\n          });\n          if (cm.curOp.cursorActivity && !isHandled)\n            cm.curOp.cursorActivity = false;\n          cm.state.vim = vim;\n          vim.inputState.changeQueueList = changeQueueList;\n          vim.inputState.changeQueue = null;\n        }, true);\n      }\n      // some commands may bring visualMode and selection out of sync\n      if (isHandled && !vim.visualMode && !vim.insert && vim.visualMode != cm.somethingSelected()) {\n        handleExternalSelection(cm, vim);\n      }\n      return isHandled;\n    }\n    resetVimGlobalState();\n\n  return vimApi;\n}\n\nfunction indexFromPos(doc, pos) {\n    var ch = pos.ch;\n    var lineNumber = pos.line + 1;\n    if (lineNumber < 1) {\n        lineNumber = 1;\n        ch = 0;\n    }\n    if (lineNumber > doc.lines) {\n        lineNumber = doc.lines;\n        ch = Number.MAX_VALUE;\n    }\n    var line = doc.line(lineNumber);\n    return Math.min(line.from + Math.max(0, ch), line.to);\n}\nfunction posFromIndex(doc, offset) {\n    let line = doc.lineAt(offset);\n    return { line: line.number - 1, ch: offset - line.from };\n}\nclass Pos {\n    constructor(line, ch) {\n        this.line = line;\n        this.ch = ch;\n    }\n}\nfunction on(emitter, type, f) {\n    if (emitter.addEventListener) {\n        emitter.addEventListener(type, f, false);\n    }\n    else {\n        var map = emitter._handlers || (emitter._handlers = {});\n        map[type] = (map[type] || []).concat(f);\n    }\n}\nfunction off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n        emitter.removeEventListener(type, f, false);\n    }\n    else {\n        var map = emitter._handlers, arr = map && map[type];\n        if (arr) {\n            var index = arr.indexOf(f);\n            if (index > -1) {\n                map[type] = arr.slice(0, index).concat(arr.slice(index + 1));\n            }\n        }\n    }\n}\nfunction signal(emitter, type, ...args) {\n    var _a;\n    var handlers = (_a = emitter._handlers) === null || _a === void 0 ? void 0 : _a[type];\n    if (!handlers)\n        return;\n    for (var i = 0; i < handlers.length; ++i) {\n        handlers[i](...args);\n    }\n}\nfunction signalTo(handlers, ...args) {\n    if (!handlers)\n        return;\n    for (var i = 0; i < handlers.length; ++i) {\n        handlers[i](...args);\n    }\n}\nvar specialKey = {\n    Return: 'CR', Backspace: 'BS', 'Delete': 'Del', Escape: 'Esc', Insert: 'Ins',\n    ArrowLeft: 'Left', ArrowRight: 'Right', ArrowUp: 'Up', ArrowDown: 'Down',\n    Enter: 'CR', ' ': 'Space'\n};\nvar ignoredKeys = { Shift: 1, Alt: 1, Command: 1, Control: 1,\n    CapsLock: 1, AltGraph: 1, Dead: 1 };\nlet wordChar;\ntry {\n    wordChar = /*@__PURE__*/new RegExp(\"[\\\\w\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n}\ncatch (_) {\n    wordChar = /[\\w]/;\n}\n// workaround for missing api for merging transactions\nfunction dispatchChange(cm, transaction) {\n    var view = cm.cm6;\n    var type = \"input.type.compose\";\n    if (cm.curOp) {\n        if (!cm.curOp.lastChange)\n            type = \"input.type.compose.start\";\n    }\n    if (transaction.annotations) {\n        try {\n            transaction.annotations.some(function (note) {\n                if (note.value == \"input\")\n                    note.value = type;\n            });\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    else {\n        transaction.userEvent = type;\n    }\n    return view.dispatch(transaction);\n}\nfunction runHistoryCommand(cm, revert) {\n    var _a;\n    if (cm.curOp) {\n        cm.curOp.$changeStart = undefined;\n    }\n    (revert ? undo : redo)(cm.cm6);\n    let changeStartIndex = (_a = cm.curOp) === null || _a === void 0 ? void 0 : _a.$changeStart;\n    // vim mode expects the changed text to be either selected or cursor placed at the start\n    if (changeStartIndex != null) {\n        cm.cm6.dispatch({ selection: { anchor: changeStartIndex } });\n    }\n}\nclass CodeMirror {\n    constructor(cm6) {\n        this.state = {};\n        this.marks = Object.create(null);\n        this.$mid = 0; // marker id counter\n        this.options = {};\n        this._handlers = {};\n        // TODO change vim.js to not use obscure api\n        this.doc = {\n            history: {\n                done: [\n                    {\n                        changes: [\n                            {\n                                cm: this,\n                                get to() {\n                                    return this.cm.posFromIndex(this.cm.$lastChangeEndOffset);\n                                }\n                            }\n                        ]\n                    }\n                ]\n            }\n        };\n        this.$lastChangeEndOffset = 0;\n        this.virtualSelection = null;\n        this.cm6 = cm6;\n        this.onChange = this.onChange.bind(this);\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n    }\n    // --------------------------\n    openDialog(template, callback, options) {\n        return openDialog(this, template, callback, options);\n    }\n    ;\n    openNotification(template, options) {\n        return openNotification(this, template, options);\n    }\n    ;\n    ;\n    on(type, f) { on(this, type, f); }\n    off(type, f) { off(this, type, f); }\n    signal(type, e, handlers) { signal(this, type, e, handlers); }\n    indexFromPos(pos) {\n        return indexFromPos(this.cm6.state.doc, pos);\n    }\n    ;\n    posFromIndex(offset) {\n        return posFromIndex(this.cm6.state.doc, offset);\n    }\n    ;\n    foldCode(pos) {\n        let view = this.cm6;\n        let ranges = view.state.selection.ranges;\n        let doc = this.cm6.state.doc;\n        let index = indexFromPos(doc, pos);\n        let tmpRanges = EditorSelection.create([EditorSelection.range(index, index)], 0).ranges;\n        view.state.selection.ranges = tmpRanges;\n        foldCode(view);\n        view.state.selection.ranges = ranges;\n    }\n    firstLine() { return 0; }\n    ;\n    lastLine() { return this.cm6.state.doc.lines - 1; }\n    ;\n    lineCount() { return this.cm6.state.doc.lines; }\n    ;\n    setCursor(line, ch) {\n        if (typeof line === 'object') {\n            ch = line.ch;\n            line = line.line;\n        }\n        var offset = indexFromPos(this.cm6.state.doc, { line, ch });\n        this.cm6.dispatch({ selection: { anchor: offset } }, { scrollIntoView: !this.curOp });\n        if (this.curOp && !this.curOp.isVimOp)\n            this.onBeforeEndOperation();\n    }\n    ;\n    getCursor(p) {\n        var sel = this.cm6.state.selection.main;\n        var offset = p == \"head\" || !p\n            ? sel.head\n            : p == \"anchor\"\n                ? sel.anchor\n                : p == \"start\"\n                    ? sel.from\n                    : p == \"end\"\n                        ? sel.to\n                        : null;\n        if (offset == null)\n            throw new Error(\"Invalid cursor type\");\n        return this.posFromIndex(offset);\n    }\n    ;\n    listSelections() {\n        var doc = this.cm6.state.doc;\n        return this.cm6.state.selection.ranges.map(r => {\n            return {\n                anchor: posFromIndex(doc, r.anchor),\n                head: posFromIndex(doc, r.head),\n            };\n        });\n    }\n    ;\n    setSelections(p, primIndex) {\n        var doc = this.cm6.state.doc;\n        var ranges = p.map(x => {\n            return EditorSelection.range(indexFromPos(doc, x.anchor), indexFromPos(doc, x.head));\n        });\n        this.cm6.dispatch({\n            selection: EditorSelection.create(ranges, primIndex)\n        });\n    }\n    ;\n    setSelection(anchor, head, options) {\n        var doc = this.cm6.state.doc;\n        var ranges = [EditorSelection.range(indexFromPos(doc, anchor), indexFromPos(doc, head))];\n        this.cm6.dispatch({\n            selection: EditorSelection.create(ranges, 0)\n        });\n        if (options && options.origin == '*mouse') {\n            this.onBeforeEndOperation();\n        }\n    }\n    ;\n    getLine(row) {\n        var doc = this.cm6.state.doc;\n        if (row < 0 || row >= doc.lines)\n            return \"\";\n        return this.cm6.state.doc.line(row + 1).text;\n    }\n    ;\n    getLineHandle(row) {\n        return { text: this.getLine(row), row: row };\n    }\n    getLineNumber(handle) {\n        return handle.row;\n    }\n    getRange(s, e) {\n        var doc = this.cm6.state.doc;\n        return this.cm6.state.sliceDoc(indexFromPos(doc, s), indexFromPos(doc, e));\n    }\n    ;\n    replaceRange(text, s, e) {\n        if (!e)\n            e = s;\n        var doc = this.cm6.state.doc;\n        var from = indexFromPos(doc, s);\n        var to = indexFromPos(doc, e);\n        dispatchChange(this, { changes: { from, to, insert: text } });\n    }\n    ;\n    replaceSelection(text) {\n        dispatchChange(this, this.cm6.state.replaceSelection(text));\n    }\n    ;\n    replaceSelections(replacements) {\n        var ranges = this.cm6.state.selection.ranges;\n        var changes = ranges.map((r, i) => {\n            return { from: r.from, to: r.to, insert: replacements[i] || \"\" };\n        });\n        dispatchChange(this, { changes });\n    }\n    ;\n    getSelection() {\n        return this.getSelections().join(\"\\n\");\n    }\n    ;\n    getSelections() {\n        var cm = this.cm6;\n        return cm.state.selection.ranges.map(r => cm.state.sliceDoc(r.from, r.to));\n    }\n    ;\n    somethingSelected() {\n        return this.cm6.state.selection.ranges.some(r => !r.empty);\n    }\n    ;\n    getInputField() {\n        return this.cm6.contentDOM;\n    }\n    ;\n    clipPos(p) {\n        var doc = this.cm6.state.doc;\n        var ch = p.ch;\n        var lineNumber = p.line + 1;\n        if (lineNumber < 1) {\n            lineNumber = 1;\n            ch = 0;\n        }\n        if (lineNumber > doc.lines) {\n            lineNumber = doc.lines;\n            ch = Number.MAX_VALUE;\n        }\n        var line = doc.line(lineNumber);\n        ch = Math.min(Math.max(0, ch), line.to - line.from);\n        return new Pos(lineNumber - 1, ch);\n    }\n    ;\n    getValue() {\n        return this.cm6.state.doc.toString();\n    }\n    ;\n    setValue(text) {\n        var cm = this.cm6;\n        return cm.dispatch({\n            changes: { from: 0, to: cm.state.doc.length, insert: text },\n            selection: EditorSelection.range(0, 0)\n        });\n    }\n    ;\n    focus() {\n        return this.cm6.focus();\n    }\n    ;\n    blur() {\n        return this.cm6.contentDOM.blur();\n    }\n    ;\n    defaultTextHeight() {\n        return this.cm6.defaultLineHeight;\n    }\n    ;\n    findMatchingBracket(pos) {\n        var state = this.cm6.state;\n        var offset = indexFromPos(state.doc, pos);\n        var m = matchBrackets(state, offset + 1, -1);\n        if (m && m.end) {\n            return { to: posFromIndex(state.doc, m.end.from) };\n        }\n        m = matchBrackets(state, offset, 1);\n        if (m && m.end) {\n            return { to: posFromIndex(state.doc, m.end.from) };\n        }\n        return { to: undefined };\n    }\n    ;\n    scanForBracket(pos, dir, style, config) {\n        return scanForBracket(this, pos, dir, style, config);\n    }\n    ;\n    indentLine(line, more) {\n        // todo how to indent only one line instead of selection\n        if (more)\n            this.indentMore();\n        else\n            this.indentLess();\n    }\n    ;\n    indentMore() {\n        indentMore(this.cm6);\n    }\n    ;\n    indentLess() {\n        indentLess(this.cm6);\n    }\n    ;\n    execCommand(name) {\n        if (name == \"indentAuto\")\n            CodeMirror.commands.indentAuto(this);\n        else if (name == \"goLineLeft\")\n            cursorLineBoundaryBackward(this.cm6);\n        else if (name == \"goLineRight\") {\n            cursorLineBoundaryForward(this.cm6);\n            cursorCharBackward(this.cm6);\n        }\n        else\n            console.log(name + \" is not implemented\");\n    }\n    ;\n    setBookmark(cursor, options) {\n        var assoc = (options === null || options === void 0 ? void 0 : options.insertLeft) ? 1 : -1;\n        var offset = this.indexFromPos(cursor);\n        var bm = new Marker(this, offset, assoc);\n        return bm;\n    }\n    ;\n    addOverlay({ query }) {\n        let cm6Query = new SearchQuery({\n            regexp: true,\n            search: query.source,\n            caseSensitive: !/i/.test(query.flags),\n        });\n        if (cm6Query.valid) {\n            cm6Query.forVim = true;\n            this.cm6Query = cm6Query;\n            let effect = setSearchQuery.of(cm6Query);\n            this.cm6.dispatch({ effects: effect });\n            return cm6Query;\n        }\n    }\n    ;\n    removeOverlay(overlay) {\n        if (!this.cm6Query)\n            return;\n        this.cm6Query.forVim = false;\n        let effect = setSearchQuery.of(this.cm6Query);\n        this.cm6.dispatch({ effects: effect });\n    }\n    ;\n    getSearchCursor(query, pos) {\n        var cm = this;\n        var last = null;\n        var lastCM5Result = null;\n        if (pos.ch == undefined)\n            pos.ch = Number.MAX_VALUE;\n        var firstOffset = indexFromPos(cm.cm6.state.doc, pos);\n        var source = query.source.replace(/(\\\\.|{(?:\\d+(?:,\\d*)?|,\\d+)})|[{}]/g, function (a, b) {\n            if (!b)\n                return \"\\\\\" + a;\n            return b;\n        });\n        function rCursor(doc, from = 0, to = doc.length) {\n            return new RegExpCursor(doc, source, { ignoreCase: query.ignoreCase }, from, to);\n        }\n        function nextMatch(from) {\n            var doc = cm.cm6.state.doc;\n            if (from > doc.length)\n                return null;\n            let res = rCursor(doc, from).next();\n            return res.done ? null : res.value;\n        }\n        var ChunkSize = 10000;\n        function prevMatchInRange(from, to) {\n            var doc = cm.cm6.state.doc;\n            for (let size = 1;; size++) {\n                let start = Math.max(from, to - size * ChunkSize);\n                let cursor = rCursor(doc, start, to), range = null;\n                while (!cursor.next().done)\n                    range = cursor.value;\n                if (range && (start == from || range.from > start + 10))\n                    return range;\n                if (start == from)\n                    return null;\n            }\n        }\n        return {\n            findNext: function () { return this.find(false); },\n            findPrevious: function () { return this.find(true); },\n            find: function (back) {\n                var doc = cm.cm6.state.doc;\n                if (back) {\n                    let endAt = last ? (last.from == last.to ? last.to - 1 : last.from) : firstOffset;\n                    last = prevMatchInRange(0, endAt);\n                }\n                else {\n                    let startFrom = last ? (last.from == last.to ? last.to + 1 : last.to) : firstOffset;\n                    last = nextMatch(startFrom);\n                }\n                lastCM5Result = last && {\n                    from: posFromIndex(doc, last.from),\n                    to: posFromIndex(doc, last.to),\n                    match: last.match,\n                };\n                return last && last.match;\n            },\n            from: function () { return lastCM5Result === null || lastCM5Result === void 0 ? void 0 : lastCM5Result.from; },\n            to: function () { return lastCM5Result === null || lastCM5Result === void 0 ? void 0 : lastCM5Result.to; },\n            replace: function (text) {\n                if (last) {\n                    dispatchChange(cm, {\n                        changes: { from: last.from, to: last.to, insert: text }\n                    });\n                    last.to = last.from + text.length;\n                    if (lastCM5Result) {\n                        lastCM5Result.to = posFromIndex(cm.cm6.state.doc, last.to);\n                    }\n                }\n            }\n        };\n    }\n    ;\n    findPosV(start, amount, unit, goalColumn) {\n        let { cm6 } = this;\n        const doc = cm6.state.doc;\n        let pixels = unit == 'page' ? cm6.dom.clientHeight : 0;\n        const startOffset = indexFromPos(doc, start);\n        let range = EditorSelection.range(startOffset, startOffset, goalColumn);\n        let count = Math.round(Math.abs(amount));\n        for (let i = 0; i < count; i++) {\n            if (unit == 'page') {\n                range = cm6.moveVertically(range, amount > 0, pixels);\n            }\n            else if (unit == 'line') {\n                range = cm6.moveVertically(range, amount > 0);\n            }\n        }\n        let pos = posFromIndex(doc, range.head);\n        // set hitside to true if there was no place to move and cursor was clipped to the edge\n        // of document. Needed for gj/gk\n        if ((amount < 0 &&\n            range.head == 0 && goalColumn != 0 &&\n            start.line == 0 && start.ch != 0) || (amount > 0 &&\n            range.head == doc.length && pos.ch != goalColumn\n            && start.line == pos.line)) {\n            pos.hitSide = true;\n        }\n        return pos;\n    }\n    ;\n    charCoords(pos, mode) {\n        var rect = this.cm6.contentDOM.getBoundingClientRect();\n        var offset = indexFromPos(this.cm6.state.doc, pos);\n        var coords = this.cm6.coordsAtPos(offset);\n        var d = -rect.top;\n        return { left: ((coords === null || coords === void 0 ? void 0 : coords.left) || 0) - rect.left, top: ((coords === null || coords === void 0 ? void 0 : coords.top) || 0) + d, bottom: ((coords === null || coords === void 0 ? void 0 : coords.bottom) || 0) + d };\n    }\n    ;\n    coordsChar(coords, mode) {\n        var rect = this.cm6.contentDOM.getBoundingClientRect();\n        var offset = this.cm6.posAtCoords({ x: coords.left + rect.left, y: coords.top + rect.top }) || 0;\n        return posFromIndex(this.cm6.state.doc, offset);\n    }\n    ;\n    getScrollInfo() {\n        var scroller = this.cm6.scrollDOM;\n        return {\n            left: scroller.scrollLeft, top: scroller.scrollTop,\n            height: scroller.scrollHeight,\n            width: scroller.scrollWidth,\n            clientHeight: scroller.clientHeight, clientWidth: scroller.clientWidth\n        };\n    }\n    ;\n    scrollTo(x, y) {\n        if (x != null)\n            this.cm6.scrollDOM.scrollLeft = x;\n        if (y != null)\n            this.cm6.scrollDOM.scrollTop = y;\n    }\n    ;\n    scrollIntoView(pos, margin) {\n        if (pos) {\n            var offset = this.indexFromPos(pos);\n            this.cm6.dispatch({\n                effects: EditorView.scrollIntoView(offset)\n            });\n        }\n        else {\n            this.cm6.dispatch({ scrollIntoView: true, userEvent: \"scroll\" });\n        }\n    }\n    ;\n    getWrapperElement() {\n        return this.cm6.dom;\n    }\n    ;\n    // for tests\n    getMode() {\n        return { name: this.getOption(\"mode\") };\n    }\n    ;\n    setSize(w, h) {\n        this.cm6.dom.style.width = w + 4 + \"px\";\n        this.cm6.dom.style.height = h + \"px\";\n        this.refresh();\n    }\n    refresh() {\n        this.cm6.measure();\n    }\n    // event listeners\n    destroy() {\n        this.removeOverlay();\n    }\n    ;\n    onChange(update) {\n        for (let i in this.marks) {\n            let m = this.marks[i];\n            m.update(update.changes);\n        }\n        if (this.virtualSelection) {\n            this.virtualSelection.ranges = this.virtualSelection.ranges.map(range => range.map(update.changes));\n        }\n        var curOp = this.curOp = this.curOp || {};\n        update.changes.iterChanges((fromA, toA, fromB, toB, text) => {\n            if (curOp.$changeStart == null || curOp.$changeStart > fromB)\n                curOp.$changeStart = fromB;\n            this.$lastChangeEndOffset = toB;\n            var change = { text: text.toJSON() };\n            if (!curOp.lastChange) {\n                curOp.lastChange = curOp.change = change;\n            }\n            else {\n                curOp.lastChange.next = curOp.lastChange = change;\n            }\n        }, true);\n        if (!curOp.changeHandlers)\n            curOp.changeHandlers = this._handlers[\"change\"] && this._handlers[\"change\"].slice();\n    }\n    ;\n    onSelectionChange() {\n        var curOp = this.curOp = this.curOp || {};\n        if (!curOp.cursorActivityHandlers)\n            curOp.cursorActivityHandlers = this._handlers[\"cursorActivity\"] && this._handlers[\"cursorActivity\"].slice();\n        this.curOp.cursorActivity = true;\n    }\n    ;\n    operation(fn) {\n        if (!this.curOp)\n            this.curOp = { $d: 0 };\n        this.curOp.$d++;\n        try {\n            var result = fn();\n        }\n        finally {\n            if (this.curOp) {\n                this.curOp.$d--;\n                if (!this.curOp.$d)\n                    this.onBeforeEndOperation();\n            }\n        }\n        return result;\n    }\n    ;\n    onBeforeEndOperation() {\n        var op = this.curOp;\n        var scrollIntoView = false;\n        if (op) {\n            if (op.change) {\n                signalTo(op.changeHandlers, this, op.change);\n            }\n            if (op && op.cursorActivity) {\n                signalTo(op.cursorActivityHandlers, this, null);\n                if (op.isVimOp)\n                    scrollIntoView = true;\n            }\n            this.curOp = null;\n        }\n        if (scrollIntoView)\n            this.scrollIntoView();\n    }\n    ;\n    moveH(increment, unit) {\n        if (unit == 'char') {\n            // todo\n            var cur = this.getCursor();\n            this.setCursor(cur.line, cur.ch + increment);\n        }\n    }\n    ;\n    setOption(name, val) {\n        switch (name) {\n            case \"keyMap\":\n                this.state.keyMap = val;\n                break;\n        }\n    }\n    ;\n    getOption(name) {\n        switch (name) {\n            case \"firstLineNumber\": return 1;\n            case \"tabSize\": return this.cm6.state.tabSize || 4;\n            case \"readonly\": return this.cm6.state.readOnly;\n            case \"indentWithTabs\": return this.cm6.state.facet(indentUnit) == \"\\t\"; // TODO\n            case \"indentUnit\": return this.cm6.state.facet(indentUnit).length || 2;\n            // for tests\n            case \"keyMap\": return this.state.keyMap || \"vim\";\n        }\n    }\n    ;\n    toggleOverwrite(on) {\n        this.state.overwrite = on;\n    }\n    ;\n    getTokenTypeAt(pos) {\n        var _a;\n        // only comment|string are needed\n        var offset = this.indexFromPos(pos);\n        var tree = ensureSyntaxTree(this.cm6.state, offset);\n        var node = tree === null || tree === void 0 ? void 0 : tree.resolve(offset);\n        var type = ((_a = node === null || node === void 0 ? void 0 : node.type) === null || _a === void 0 ? void 0 : _a.name) || \"\";\n        if (/comment/i.test(type))\n            return \"comment\";\n        if (/string/i.test(type))\n            return \"string\";\n        return \"\";\n    }\n    ;\n    overWriteSelection(text) {\n        var doc = this.cm6.state.doc;\n        var sel = this.cm6.state.selection;\n        var ranges = sel.ranges.map(x => {\n            if (x.empty) {\n                var ch = x.to < doc.length ? doc.sliceString(x.from, x.to + 1) : \"\";\n                if (ch && !/\\n/.test(ch))\n                    return EditorSelection.range(x.from, x.to + 1);\n            }\n            return x;\n        });\n        this.cm6.dispatch({\n            selection: EditorSelection.create(ranges, sel.mainIndex)\n        });\n        this.replaceSelection(text);\n    }\n    /*** multiselect ****/\n    isInMultiSelectMode() {\n        return this.cm6.state.selection.ranges.length > 1;\n    }\n    virtualSelectionMode() {\n        return !!this.virtualSelection;\n    }\n    forEachSelection(command) {\n        var selection = this.cm6.state.selection;\n        this.virtualSelection = EditorSelection.create(selection.ranges, selection.mainIndex);\n        for (var i = 0; i < this.virtualSelection.ranges.length; i++) {\n            var range = this.virtualSelection.ranges[i];\n            if (!range)\n                continue;\n            this.cm6.dispatch({ selection: EditorSelection.create([range]) });\n            command();\n            this.virtualSelection.ranges[i] = this.cm6.state.selection.ranges[0];\n        }\n        this.cm6.dispatch({ selection: this.virtualSelection });\n        this.virtualSelection = null;\n    }\n}\n// --------------------------\nCodeMirror.Pos = Pos;\nCodeMirror.StringStream = StringStream;\nCodeMirror.commands = {\n    cursorCharLeft: function (cm) { cursorCharLeft(cm.cm6); },\n    redo: function (cm) { runHistoryCommand(cm, false); },\n    undo: function (cm) { runHistoryCommand(cm, true); },\n    newlineAndIndent: function (cm) {\n        insertNewlineAndIndent({\n            state: cm.cm6.state,\n            dispatch: (tr) => {\n                return dispatchChange(cm, tr);\n            }\n        });\n    },\n    indentAuto: function (cm) {\n        indentSelection(cm.cm6);\n    }\n};\nCodeMirror.defineOption = function (name, val, setter) { };\nCodeMirror.isWordChar = function (ch) {\n    return wordChar.test(ch);\n};\nCodeMirror.keys = {\n    Backspace: function (cm) {\n        deleteCharBackward(cm.cm6);\n    },\n    Delete: function (cm) {\n        deleteCharForward(cm.cm6);\n    }\n};\nCodeMirror.keyMap = {};\nCodeMirror.addClass = function () { };\nCodeMirror.rmClass = function () { };\nCodeMirror.e_preventDefault = function (e) {\n    e.preventDefault();\n};\nCodeMirror.e_stop = function (e) {\n    var _a, _b;\n    (_a = e === null || e === void 0 ? void 0 : e.stopPropagation) === null || _a === void 0 ? void 0 : _a.call(e);\n    (_b = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _b === void 0 ? void 0 : _b.call(e);\n};\nCodeMirror.keyName = function (e) {\n    var key = e.key;\n    if (ignoredKeys[key])\n        return;\n    if (key == \"Escape\")\n        key = \"Esc\";\n    if (key == \" \")\n        key = \"Space\";\n    if (key.length > 1) {\n        key = key.replace(/Numpad|Arrow/, \"\");\n    }\n    if (key.length == 1)\n        key = key.toUpperCase();\n    var name = '';\n    if (e.ctrlKey) {\n        name += 'Ctrl-';\n    }\n    if (e.altKey) {\n        name += 'Alt-';\n    }\n    if ((name || key.length > 1) && e.shiftKey) {\n        name += 'Shift-';\n    }\n    name += key;\n    return name;\n};\nCodeMirror.vimKey = function vimKey(e) {\n    var key = e.key;\n    if (ignoredKeys[key])\n        return;\n    if (key.length > 1 && key[0] == \"n\") {\n        key = key.replace(\"Numpad\", \"\");\n    }\n    key = specialKey[key] || key;\n    var name = '';\n    if (e.ctrlKey) {\n        name += 'C-';\n    }\n    if (e.altKey) {\n        name += 'A-';\n    }\n    if (e.metaKey) {\n        name += 'M-';\n    }\n    // on mac many characters are entered as option- combos\n    // (e.g. on swiss keyboard { is option-8)\n    // so we ignore lonely A- modifier for keypress event on mac\n    if (e.type == \"keypress\" && e.altKey && !e.metaKey && !e.ctrlKey) {\n        name = name.slice(2);\n    }\n    if ((name || key.length > 1) && e.shiftKey) {\n        name += 'S-';\n    }\n    name += key;\n    if (name.length > 1) {\n        name = '<' + name + '>';\n    }\n    return name;\n};\nCodeMirror.lookupKey = function lookupKey(key, map, handle) {\n    var result = CodeMirror.keys[key];\n    if (result)\n        handle(result);\n};\nCodeMirror.on = on;\nCodeMirror.off = off;\nCodeMirror.signal = signal;\nCodeMirror.findMatchingTag = findMatchingTag;\nCodeMirror.findEnclosingTag = findEnclosingTag;\n/************* dialog *************/\nfunction dialogDiv(cm, template, bottom) {\n    var dialog = document.createElement(\"div\");\n    dialog.appendChild(template);\n    return dialog;\n}\nfunction closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n        cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n}\nfunction openNotification(cm, template, options) {\n    closeNotification(cm, close);\n    var dialog = dialogDiv(cm, template, options && options.bottom);\n    var closed = false;\n    var doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n    function close() {\n        if (closed)\n            return;\n        closed = true;\n        clearTimeout(doneTimer);\n        dialog.remove();\n        hideDialog(cm, dialog);\n    }\n    dialog.onclick = function (e) {\n        e.preventDefault();\n        close();\n    };\n    showDialog(cm, dialog);\n    if (duration)\n        doneTimer = setTimeout(close, duration);\n    return close;\n}\nfunction showDialog(cm, dialog) {\n    var oldDialog = cm.state.dialog;\n    cm.state.dialog = dialog;\n    if (dialog && oldDialog !== dialog) {\n        if (oldDialog && oldDialog.contains(document.activeElement))\n            cm.focus();\n        if (oldDialog && oldDialog.parentElement) {\n            oldDialog.parentElement.replaceChild(dialog, oldDialog);\n        }\n        else if (oldDialog) {\n            oldDialog.remove();\n        }\n        CodeMirror.signal(cm, \"dialog\");\n    }\n}\nfunction hideDialog(cm, dialog) {\n    if (cm.state.dialog == dialog) {\n        cm.state.dialog = null;\n        CodeMirror.signal(cm, \"dialog\");\n    }\n}\nfunction openDialog(me, template, callback, options) {\n    if (!options)\n        options = {};\n    closeNotification(me, undefined);\n    var dialog = dialogDiv(me, template, options.bottom);\n    var closed = false;\n    showDialog(me, dialog);\n    function close(newVal) {\n        if (typeof newVal == 'string') {\n            inp.value = newVal;\n        }\n        else {\n            if (closed)\n                return;\n            closed = true;\n            hideDialog(me, dialog);\n            if (!me.state.dialog)\n                me.focus();\n            if (options.onClose)\n                options.onClose(dialog);\n        }\n    }\n    var inp = dialog.getElementsByTagName(\"input\")[0];\n    if (inp) {\n        if (options.value) {\n            inp.value = options.value;\n            if (options.selectValueOnOpen !== false)\n                inp.select();\n        }\n        if (options.onInput)\n            CodeMirror.on(inp, \"input\", function (e) { options.onInput(e, inp.value, close); });\n        if (options.onKeyUp)\n            CodeMirror.on(inp, \"keyup\", function (e) { options.onKeyUp(e, inp.value, close); });\n        CodeMirror.on(inp, \"keydown\", function (e) {\n            if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) {\n                return;\n            }\n            if (e.keyCode == 13)\n                callback(inp.value);\n            if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n                inp.blur();\n                CodeMirror.e_stop(e);\n                close();\n            }\n        });\n        if (options.closeOnBlur !== false)\n            CodeMirror.on(inp, \"blur\", function () {\n                setTimeout(function () {\n                    if (document.activeElement === inp)\n                        return;\n                    close();\n                });\n            });\n        inp.focus();\n    }\n    return close;\n}\nvar matching = { \"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\" };\nfunction bracketRegex(config) {\n    return config && config.bracketRegex || /[(){}[\\]]/;\n}\nfunction scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n    var stack = [];\n    var re = bracketRegex(config);\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n        : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n        var line = cm.getLine(lineNo);\n        if (!line)\n            continue;\n        var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n        if (line.length > maxScanLen)\n            continue;\n        if (lineNo == where.line)\n            pos = where.ch - (dir < 0 ? 1 : 0);\n        for (; pos != end; pos += dir) {\n            var ch = line.charAt(pos);\n            if (re.test(ch) /*&& (style === undefined ||\n                                (cm.getTokenTypeAt(new Pos(lineNo, pos + 1)) || \"\") == (style || \"\"))*/) {\n                var match = matching[ch];\n                if (match && (match.charAt(1) == \">\") == (dir > 0))\n                    stack.push(ch);\n                else if (!stack.length)\n                    return { pos: new Pos(lineNo, pos), ch: ch };\n                else\n                    stack.pop();\n            }\n        }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n}\nfunction findMatchingTag(cm, pos) {\n    var state = cm.cm6.state;\n    var offset = cm.indexFromPos(pos);\n    var m = matchBrackets(state, offset + 1, -1, { brackets: \"\\n\\n\" });\n    if (m) {\n        if (!m.end || !m.start)\n            return;\n        return {\n            open: convertRange(state.doc, m.end),\n            close: convertRange(state.doc, m.start),\n        };\n    }\n    m = matchBrackets(state, offset, 1, { brackets: \"\\n\\n\" });\n    if (m) {\n        if (!m.end || !m.start)\n            return;\n        return {\n            open: convertRange(state.doc, m.start),\n            close: convertRange(state.doc, m.end),\n        };\n    }\n}\nfunction convertRange(doc, cm6Range) {\n    return {\n        from: posFromIndex(doc, cm6Range.from),\n        to: posFromIndex(doc, cm6Range.to)\n    };\n}\nfunction findEnclosingTag(cm, pos) {\n    var state = cm.cm6.state;\n    var offset = cm.indexFromPos(pos);\n    var text = state.sliceDoc(0, offset);\n    var i = offset;\n    while (i > 0) {\n        var m = matchBrackets(state, i, 1, { brackets: \"\\n\\n\" });\n        if (m && m.start && m.end) {\n            return {\n                open: convertRange(state.doc, m.start),\n                close: convertRange(state.doc, m.end),\n            };\n        }\n        i = text.lastIndexOf(\">\", i - 1);\n    }\n}\nclass Marker {\n    constructor(cm, offset, assoc) {\n        this.cm = cm;\n        this.id = cm.$mid++;\n        this.offset = offset;\n        this.assoc = assoc;\n        cm.marks[this.id] = this;\n    }\n    ;\n    clear() { delete this.cm.marks[this.id]; }\n    ;\n    find() {\n        if (this.offset == null)\n            return null;\n        return this.cm.posFromIndex(this.offset);\n    }\n    ;\n    update(change) {\n        if (this.offset != null)\n            this.offset = change.mapPos(this.offset, this.assoc, MapMode.TrackDel);\n    }\n}\n\nclass Piece {\n    constructor(left, top, height, fontFamily, fontSize, fontWeight, color, className, letter, partial) {\n        this.left = left;\n        this.top = top;\n        this.height = height;\n        this.fontFamily = fontFamily;\n        this.fontSize = fontSize;\n        this.fontWeight = fontWeight;\n        this.color = color;\n        this.className = className;\n        this.letter = letter;\n        this.partial = partial;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        elt.style.height = this.height + \"px\";\n        elt.style.lineHeight = this.height + \"px\";\n        elt.style.fontFamily = this.fontFamily;\n        elt.style.fontSize = this.fontSize;\n        elt.style.fontWeight = this.fontWeight;\n        elt.style.color = this.partial ? \"transparent\" : this.color;\n        elt.className = this.className;\n        elt.textContent = this.letter;\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.height == p.height &&\n            this.fontFamily == p.fontFamily && this.fontSize == p.fontSize &&\n            this.fontWeight == p.fontWeight && this.color == p.color &&\n            this.className == p.className &&\n            this.letter == p.letter;\n    }\n}\nclass BlockCursorPlugin {\n    constructor(view, cm) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.cm = cm;\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer cm-vimCursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = 1200 + \"ms\";\n    }\n    update(update) {\n        if (update.selectionSet || update.geometryChanged || update.viewportChanged) {\n            this.view.requestMeasure(this.measureReq);\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        }\n    }\n    scheduleRedraw() {\n        this.view.requestMeasure(this.measureReq);\n    }\n    readPos() {\n        let { state } = this.view;\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            let piece = measureCursor(this.cm, this.view, r, prim);\n            if (piece)\n                cursors.push(piece);\n        }\n        return { cursors };\n    }\n    drawSel({ cursors }) {\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.cursorLayer.remove();\n    }\n}\nconst themeSpec = {\n    \".cm-vimMode .cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" },\n        caretColor: \"transparent !important\",\n    },\n    \".cm-fat-cursor\": {\n        position: \"absolute\",\n        background: \"#ff9696\",\n        border: \"none\",\n        whiteSpace: \"pre\",\n    },\n    \"&:not(.cm-focused) .cm-fat-cursor\": {\n        background: \"none\",\n        outline: \"solid 1px #ff9696\"\n    },\n};\nconst hideNativeSelection = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction measureCursor(cm, view, cursor, primary) {\n    let head = cursor.head;\n    let fatCursor = false;\n    let hCoeff = 1;\n    let vim = cm.state.vim;\n    if (vim && (!vim.insertMode || cm.state.overwrite)) {\n        fatCursor = true;\n        if (vim.visualBlock && !primary)\n            return null;\n        if (cursor.anchor < cursor.head)\n            head--;\n        if (cm.state.overwrite)\n            hCoeff = 0.2;\n        else if (vim.status)\n            hCoeff = 0.5;\n    }\n    if (fatCursor) {\n        let letter = head < view.state.doc.length && view.state.sliceDoc(head, head + 1);\n        if (letter && (/[\\uDC00-\\uDFFF]/.test(letter) && head > 1)) {\n            // step back if cursor is on the second half of a surrogate pair\n            head--;\n            letter = view.state.sliceDoc(head, head + 1);\n        }\n        let pos = view.coordsAtPos(head, 1);\n        if (!pos)\n            return null;\n        let base = getBase(view);\n        let domAtPos = view.domAtPos(head);\n        let node = domAtPos ? domAtPos.node : view.contentDOM;\n        while (domAtPos && domAtPos.node instanceof HTMLElement) {\n            node = domAtPos.node;\n            domAtPos = { node: domAtPos.node.childNodes[domAtPos.offset], offset: 0 };\n        }\n        if (!(node instanceof HTMLElement)) {\n            if (!node.parentNode)\n                return null;\n            node = node.parentNode;\n        }\n        let style = getComputedStyle(node);\n        if (!letter || letter == \"\\n\" || letter == \"\\r\")\n            letter = \"\\xa0\";\n        else if ((/[\\uD800-\\uDBFF]/.test(letter) && head < view.state.doc.length - 1)) {\n            // include the second half of a surrogate pair in cursor\n            letter += view.state.sliceDoc(head + 1, head + 2);\n        }\n        let h = (pos.bottom - pos.top);\n        return new Piece(pos.left - base.left, pos.top - base.top + h * (1 - hCoeff), h * hCoeff, style.fontFamily, style.fontSize, style.fontWeight, style.color, primary ? \"cm-fat-cursor cm-cursor-primary\" : \"cm-fat-cursor cm-cursor-secondary\", letter, hCoeff != 1);\n    }\n    else {\n        return null;\n    }\n}\n\nconst Vim = /*@__PURE__*/initVim(CodeMirror);\nconst HighlightMargin = 250;\nconst vimStyle = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)\": {\n        display: \"none\",\n    },\n    \".cm-vim-panel\": {\n        padding: \"0px 10px\",\n        fontFamily: \"monospace\",\n        minHeight: \"1.3em\",\n    },\n    \".cm-vim-panel input\": {\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"inherit\",\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n});\nconst vimPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.status = \"\";\n        this.query = null;\n        this.decorations = Decoration.none;\n        this.lastKeydown = '';\n        this.view = view;\n        const cm = (this.cm = new CodeMirror(view));\n        Vim.enterVimMode(this.cm);\n        this.view.cm = this.cm;\n        this.cm.state.vimPlugin = this;\n        this.blockCursor = new BlockCursorPlugin(view, cm);\n        this.updateClass();\n        this.cm.on(\"vim-command-done\", () => {\n            if (cm.state.vim)\n                cm.state.vim.status = \"\";\n            this.blockCursor.scheduleRedraw();\n            this.updateStatus();\n        });\n        this.cm.on(\"vim-mode-change\", (e) => {\n            cm.state.vim.mode = e.mode;\n            if (e.subMode) {\n                cm.state.vim.mode += \" block\";\n            }\n            cm.state.vim.status = \"\";\n            this.blockCursor.scheduleRedraw();\n            this.updateClass();\n            this.updateStatus();\n        });\n        this.cm.on(\"dialog\", () => {\n            if (this.cm.state.statusbar) {\n                this.updateStatus();\n            }\n            else {\n                view.dispatch({\n                    effects: showVimPanel.of(!!this.cm.state.dialog),\n                });\n            }\n        });\n        this.dom = document.createElement(\"span\");\n        this.dom.style.cssText = \"position: absolute; right: 10px; top: 1px\";\n    }\n    update(update) {\n        var _a;\n        if ((update.viewportChanged || update.docChanged) && this.query) {\n            this.highlight(this.query);\n        }\n        if (update.docChanged) {\n            this.cm.onChange(update);\n        }\n        if (update.selectionSet) {\n            this.cm.onSelectionChange();\n        }\n        if (update.viewportChanged) ;\n        if (this.cm.curOp && !this.cm.curOp.isVimOp) {\n            this.cm.onBeforeEndOperation();\n        }\n        if (update.transactions) {\n            for (let tr of update.transactions)\n                for (let effect of tr.effects) {\n                    if (effect.is(setSearchQuery)) {\n                        let forVim = (_a = effect.value) === null || _a === void 0 ? void 0 : _a.forVim;\n                        if (!forVim) {\n                            this.highlight(null);\n                        }\n                        else {\n                            let query = effect.value.create();\n                            this.highlight(query);\n                        }\n                    }\n                }\n        }\n        this.blockCursor.update(update);\n    }\n    updateClass() {\n        const state = this.cm.state;\n        if (!state.vim || (state.vim.insertMode && !state.overwrite))\n            this.view.scrollDOM.classList.remove(\"cm-vimMode\");\n        else\n            this.view.scrollDOM.classList.add(\"cm-vimMode\");\n    }\n    updateStatus() {\n        let dom = this.cm.state.statusbar;\n        let vim = this.cm.state.vim;\n        if (!dom || !vim)\n            return;\n        let dialog = this.cm.state.dialog;\n        if (dialog) {\n            if (dialog.parentElement != dom) {\n                dom.textContent = \"\";\n                dom.appendChild(dialog);\n            }\n        }\n        else {\n            dom.textContent = `--${(vim.mode || \"normal\").toUpperCase()}--`;\n        }\n        this.dom.textContent = vim.status;\n        dom.appendChild(this.dom);\n    }\n    destroy() {\n        Vim.leaveVimMode(this.cm);\n        this.updateClass();\n        this.blockCursor.destroy();\n        delete this.view.cm;\n    }\n    highlight(query) {\n        this.query = query;\n        if (!query)\n            return (this.decorations = Decoration.none);\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * HighlightMargin)\n                to = ranges[++i].to;\n            query.highlight(view.state, from, to, (from, to) => {\n                builder.add(from, to, matchMark);\n            });\n        }\n        return (this.decorations = builder.finish());\n    }\n    handleKey(e, view) {\n        const key = CodeMirror.vimKey(e);\n        const cm = this.cm;\n        if (!key)\n            return;\n        let vim = cm.state.vim;\n        if (!vim)\n            return;\n        // clear search highlight\n        if (key == \"<Esc>\" &&\n            !vim.insertMode &&\n            !vim.visualMode &&\n            this.query /* && !cm.inMultiSelectMode*/) {\n            const searchState = vim.searchState_;\n            if (searchState) {\n                cm.removeOverlay(searchState.getOverlay());\n                searchState.setOverlay(null);\n            }\n        }\n        vim.status = (vim.status || \"\") + key;\n        let result = Vim.multiSelectHandleKey(cm, key, \"user\");\n        vim = cm.state.vim; // the object can change if there is an exception in handleKey\n        // insert mode\n        if (!result && vim.insertMode && cm.state.overwrite) {\n            if (e.key && e.key.length == 1 && !/\\n/.test(e.key)) {\n                result = true;\n                cm.overWriteSelection(e.key);\n            }\n            else if (e.key == \"Backspace\") {\n                result = true;\n                CodeMirror.commands.cursorCharLeft(cm);\n            }\n        }\n        if (result) {\n            CodeMirror.signal(this.cm, 'vim-keypress', key);\n            e.preventDefault();\n            e.stopPropagation();\n            this.blockCursor.scheduleRedraw();\n        }\n        this.updateStatus();\n        return !!result;\n    }\n}, {\n    eventHandlers: {\n        keypress: function (e, view) {\n            if (this.lastKeydown == \"Dead\" || (e.altKey && !e.ctrlKey && !e.cmdKey))\n                this.handleKey(e, view);\n        },\n        keydown: function (e, view) {\n            this.lastKeydown = e.key;\n            this.handleKey(e, view);\n        },\n    },\n    decorations: (v) => v.decorations,\n});\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" });\nconst showVimPanel = /*@__PURE__*/StateEffect.define();\nconst vimPanelState = /*@__PURE__*/StateField.define({\n    create: () => false,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(showVimPanel))\n                value = e.value;\n        return value;\n    },\n    provide: (f) => {\n        return showPanel.from(f, (on) => (on ? createVimPanel : null));\n    },\n});\nfunction createVimPanel(view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-vim-panel\";\n    let cm = view.cm;\n    if (cm.state.dialog) {\n        dom.appendChild(cm.state.dialog);\n    }\n    return { top: false, dom };\n}\nfunction statusPanel(view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-vim-panel\";\n    let cm = view.cm;\n    cm.state.statusbar = dom;\n    cm.state.vimPlugin.updateStatus();\n    return { dom };\n}\nfunction vim(options = {}) {\n    return [\n        vimStyle,\n        vimPlugin,\n        hideNativeSelection,\n        options.status ? showPanel.of(statusPanel) : vimPanelState,\n    ];\n}\nfunction getCM(view) {\n    return view.cm || null;\n}\n\nexport { CodeMirror, Vim, getCM, vim };\n","import { Prec, StateEffect, StateField, MapMode, EditorSelection } from '@codemirror/state';\nimport { EditorView, Direction, ViewPlugin, showPanel } from '@codemirror/view';\nimport * as commands from '@codemirror/commands';\nimport { startCompletion } from '@codemirror/autocomplete';\nimport { openSearchPanel } from '@codemirror/search';\n\nclass Piece {\n    constructor(left, top, height, className, letter, partial) {\n        this.left = left;\n        this.top = top;\n        this.height = height;\n        this.className = className;\n        this.letter = letter;\n        this.partial = partial;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        elt.style.height = this.height + \"px\";\n        elt.style.lineHeight = this.height + \"px\";\n        elt.style.color = this.partial ? \"transparent\" : \"\";\n        elt.className = this.className;\n        elt.textContent = this.letter;\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.letter == p.letter && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nclass BlockCursorPlugin {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer cm-vimCursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = 1200 + \"ms\";\n    }\n    update(update) {\n        if (update.selectionSet || update.geometryChanged || update.viewportChanged) {\n            this.view.requestMeasure(this.measureReq);\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        }\n    }\n    scheduleRedraw() {\n        this.view.requestMeasure(this.measureReq);\n    }\n    readPos() {\n        let { state } = this.view;\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            let piece = measureCursor(null, this.view, r, prim);\n            if (piece)\n                cursors.push(piece);\n        }\n        return { cursors };\n    }\n    drawSel({ cursors }) {\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.cursorLayer.remove();\n    }\n}\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" },\n        caretColor: \"transparent !important\",\n    },\n    \".cm-fat-cursor\": {\n        position: \"absolute\",\n        background: \"#ff9696\",\n        border: \"none\",\n        whiteSpace: \"pre\",\n    },\n    \"&:not(.cm-focused) .cm-fat-cursor\": {\n        background: \"none\",\n        outline: \"solid 1px #ff9696\"\n    },\n};\nconst hideNativeSelection = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction measureCursor(cm, view, cursor, primary) {\n    let head = cursor.head;\n    var hCoeff = 1;\n    let pos = view.coordsAtPos(head, cursor.assoc || 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    let letter = head < view.state.doc.length && view.state.sliceDoc(head, head + 1);\n    if (!letter || letter == \"\\n\" || letter == \"\\r\")\n        letter = \"\\xa0\";\n    let h = (pos.bottom - pos.top);\n    return new Piece(pos.left - base.left, pos.top - base.top + h * (1 - hCoeff), h * hCoeff, primary ? \"cm-fat-cursor cm-cursor-primary\" : \"cm-fat-cursor cm-cursor-secondary\", letter, hCoeff != 1);\n}\n\nconst emacsStyle = /*@__PURE__*/EditorView.theme({\n    \".cm-emacsMode .cm-cursorLayer:not(.cm-vimCursorLayer)\": {\n        display: \"none\",\n    },\n    \".cm-vim-panel\": {\n        padding: \"5px 10px\",\n        backgroundColor: \"#fffa8f\",\n        fontFamily: \"monospace\",\n    },\n    \".cm-vim-panel input\": {\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"#fffa8f\",\n    },\n});\nconst emacsPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.status = \"\";\n        this.view = view;\n        this.em = new EmacsHandler(view);\n        this.blockCursor = new BlockCursorPlugin(view);\n        this.view.scrollDOM.classList.add(\"cm-emacsMode\");\n        /*this.em.on(\"dialog\", () => {\n          view.dispatch({\n            effects: showEmacsPanel.of(!!this.cm.state.dialog)\n          })\n        });*/\n    }\n    update(update) {\n        if (update.docChanged) {\n            this.em.$emacsMark = null;\n            this.em.updateMarksOnChange(update.changes);\n        }\n        /*if (update.selectionSet) {\n          this.em.onSelectionChange()\n        }\n        if (update.viewportChanged) {\n          // scroll\n        }\n        if (this.em.curOp && !this.em.curOp.isVimOp) {\n          this.em.onBeforeEndOperation();\n        }/**/\n        this.blockCursor.update(update);\n    }\n    destroy() {\n        this.view.scrollDOM.classList.remove(\"cm-emacsMode\");\n        this.blockCursor.destroy();\n    }\n}, {\n    eventHandlers: {\n        keydown: function (e, view) {\n            var result = this.em.handleKeyboard(e);\n            return !!result;\n        },\n        mousedown: function () {\n            this.em.$emacsMark = null;\n        }\n    }\n});\nconst showVimPanel = /*@__PURE__*/StateEffect.define();\nconst vimPanelState = /*@__PURE__*/StateField.define({\n    create: () => false,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(showVimPanel))\n                value = e.value;\n        return value;\n    },\n    provide: f => {\n        return showPanel.from(f, on => on ? createVimPanel : null);\n    }\n});\nfunction createVimPanel(view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-vim-panel\";\n    return { top: false, dom };\n}\nfunction emacs(options = {}) {\n    return [\n        emacsStyle,\n        emacsPlugin,\n        hideNativeSelection,\n        vimPanelState\n    ];\n}\nvar specialKey = {\n    Return: 'Return', Escape: 'Esc', Insert: 'Ins',\n    ArrowLeft: 'Left', ArrowRight: 'Right', ArrowUp: 'Up', ArrowDown: 'Down',\n    Enter: 'Return', Divide: '/', Slash: '/', Multiply: '*',\n    Subtract: '-', Minus: \"-\", Equal: '=',\n};\nvar ignoredKeys = { Shift: 1, Alt: 1, Command: 1, Control: 1, CapsLock: 1 };\nconst commandKeyBinding = {};\nclass EmacsHandler {\n    constructor(view) {\n        this.view = view;\n        // commands\n        this.$data = {\n            count: 0,\n            keyChain: \"\",\n            lastCommand: \"\"\n        };\n        // mark\n        this.$emacsMarkRing = [];\n        this.$emacsMark = null;\n    }\n    static bindKey(keyGroup, command) {\n        keyGroup.split(\"|\").forEach(function (binding) {\n            let chain = \"\";\n            let parts = binding.split(/\\s+/);\n            parts.forEach(function (keyGroup, index) {\n                let modifiers = keyGroup.split(/-(?=.)/);\n                let key = modifiers.pop();\n                if (modifiers.length) {\n                    chain += modifiers.sort().join(\"-\") + \"-\";\n                }\n                chain += key;\n                if (index === parts.length - 1) {\n                    commandKeyBinding[chain] = command;\n                }\n                else {\n                    commandKeyBinding[chain] = \"null\";\n                    chain += \" \";\n                }\n            });\n        });\n    }\n    static getKey(e) {\n        var code = e.code;\n        var key = e.key;\n        if (ignoredKeys[key])\n            return ['', '', ''];\n        if (code.length > 1) {\n            if (code[0] == \"N\")\n                code = code.replace(/^Numpad/, \"\");\n            if (code[0] == \"K\")\n                code = code.replace(/^Key/, \"\");\n        }\n        code = specialKey[code] || code;\n        if (code.length == 1)\n            code = code.toLowerCase();\n        var modifier = '';\n        if (e.ctrlKey) {\n            modifier += 'C-';\n        }\n        if (e.metaKey) {\n            modifier += 'CMD-';\n        }\n        if (e.altKey) {\n            modifier += 'M-';\n        }\n        if (e.shiftKey) {\n            modifier += 'S-';\n        }\n        return [code, modifier, key];\n    }\n    static addCommands(commands) {\n        Object.keys(commands).forEach(function (name) {\n            var command = commands[name];\n            if (typeof command == \"function\") {\n                command = { exec: command };\n            }\n            EmacsHandler.commands[name] = command;\n        });\n    }\n    static execCommand(command, handler, args, count = 1) {\n        var commandResult = undefined;\n        if (typeof command === \"function\") {\n            for (var i = 0; i < count; i++)\n                command(handler.view);\n        }\n        else if (command === \"null\") ;\n        else if (command.exec) {\n            if (count > 1 && command.handlesCount) {\n                if (!args)\n                    args = {};\n                if (typeof args === 'object')\n                    args.count = count;\n                count = 1;\n            }\n            for (var i = 0; i < count; i++)\n                commandResult = command.exec(handler, args || {});\n        }\n        else {\n            throw new Error(\"missformed command\");\n        }\n        return commandResult;\n    }\n    ;\n    handleKeyboard(e) {\n        var keyData = EmacsHandler.getKey(e);\n        var result = this.findCommand(keyData);\n        if (result && result.command) {\n            var commandResult = EmacsHandler.execCommand(result.command, this, result.args, result.count);\n            if (commandResult === false)\n                return;\n        }\n        return result;\n    }\n    findCommand([key, modifier, text]) {\n        // if keyCode == -1 a non-printable key was pressed, such as just\n        // control. Handling those is currently not supported in this handler\n        if (!key)\n            return undefined;\n        var editor = this;\n        var data = this.$data;\n        // editor._signal(\"changeStatus\");\n        // insertstring data.count times\n        if (!modifier && key.length == 1) {\n            editor.pushEmacsMark();\n            if (data.count) {\n                var str = new Array(data.count + 1).join(text);\n                data.count = null;\n                return { command: \"insertstring\", args: str };\n            }\n        }\n        // CTRL + number / universalArgument for setting data.count\n        if (modifier == \"C-\" || data.count) {\n            var count = parseInt(key[key.length - 1]);\n            if (typeof count === 'number' && !isNaN(count)) {\n                data.count = Math.max(data.count || 0, 0);\n                data.count = 10 * data.count + count;\n                return { command: \"null\" };\n            }\n        }\n        // this.commandKeyBinding maps key specs like \"c-p\" (for CTRL + P) to\n        // command objects, for lookup key needs to include the modifier\n        if (modifier)\n            key = modifier + key;\n        // Key combos like CTRL+X H build up the data.keyChain\n        if (data.keyChain)\n            key = data.keyChain += \" \" + key;\n        // Key combo prefixes get stored as \"null\" (String!) in this\n        // this.commandKeyBinding. When encountered no command is invoked but we\n        // buld up data.keyChain\n        var command = commandKeyBinding[key];\n        data.keyChain = command == \"null\" ? key : \"\";\n        // there really is no command\n        if (!command)\n            return undefined;\n        // we pass b/c of key combo or universalArgument\n        if (command === \"null\")\n            return { command: \"null\" };\n        if (command === \"universalArgument\") {\n            // if no number pressed emacs repeats action 4 times.\n            // minus sign is needed to allow next keypress to replace it\n            data.count = -4;\n            return { command: \"null\" };\n        }\n        // lookup command\n        // TODO extract special handling of markmode\n        // TODO special case command.command is really unnecessary, remove\n        var args;\n        if (typeof command !== \"string\") {\n            args = command.args;\n            if (command.command)\n                command = command.command;\n        }\n        if (command === \"insertstring\" ||\n            command === commands.splitLine ||\n            command === commands.toggleComment) {\n            editor.pushEmacsMark();\n        }\n        if (typeof command === \"string\") {\n            command = EmacsHandler.commands[command];\n            if (!command)\n                return undefined;\n        }\n        if (!command.readOnly && !command.isYank)\n            data.lastCommand = null;\n        var count = data.count || 1;\n        if (data.count)\n            data.count = 0;\n        return { command, args, count };\n    }\n    showCommandLine(text) {\n        console.error(\"TODO\");\n    }\n    updateMarksOnChange(change) {\n        if (this.$emacsMark) {\n            this.$emacsMark = this.updateMark(this.$emacsMark, change);\n        }\n        this.$emacsMarkRing = this.$emacsMarkRing.map(x => {\n            return this.updateMark(x, change);\n        }).filter(Boolean);\n    }\n    updateMark(mark, change) {\n        if (!mark)\n            return;\n        var updated = mark.map(function (x) {\n            return change.mapPos(x, 1, MapMode.TrackDel);\n        }).filter(x => x != null);\n        return updated.length == 0 ? null : updated;\n    }\n    emacsMark() {\n        return this.$emacsMark;\n    }\n    ;\n    setEmacsMark(p) {\n        // to deactivate pass in a falsy value\n        this.$emacsMark = p;\n    }\n    ;\n    pushEmacsMark(p, activate) {\n        var prevMark = this.$emacsMark;\n        if (prevMark)\n            this.$emacsMarkRing.push(prevMark);\n        if (!p || activate)\n            this.setEmacsMark(p);\n        else\n            this.$emacsMarkRing.push(p);\n    }\n    ;\n    popEmacsMark() {\n        var mark = this.emacsMark();\n        if (mark) {\n            this.setEmacsMark(null);\n            return mark;\n        }\n        return this.$emacsMarkRing.pop();\n    }\n    ;\n    getLastEmacsMark() {\n        return this.$emacsMark || this.$emacsMarkRing.slice(-1)[0];\n    }\n    ;\n    getCopyText() {\n        var state = this.view.state;\n        return state.selection.ranges.map(r => state.sliceDoc(r.from, r.to)).join(\"\\n\");\n    }\n    clearSelection() {\n        var view = this.view;\n        var selection = view.state.selection;\n        var isEmpty = !selection.ranges.some(r => r.from != r.to);\n        if (isEmpty)\n            return false;\n        var newRanges = selection.ranges.map(x => {\n            return EditorSelection.range(x.head, x.head);\n        });\n        view.dispatch({\n            selection: EditorSelection.create(newRanges, selection.mainIndex)\n        });\n        return true;\n    }\n    onPaste(text) {\n        var view = this.view;\n        var selection = view.state.selection;\n        var linesToInsert;\n        if (selection.ranges.length > 1) {\n            var lines = text.split(\"\\n\");\n            if (lines.length == selection.ranges.length) {\n                linesToInsert = lines;\n            }\n        }\n        var i = 0;\n        var specs = view.state.changeByRange((range) => {\n            var toInsert = linesToInsert ? linesToInsert[i] : text;\n            i++;\n            return {\n                changes: { from: range.from, to: range.to, insert: toInsert },\n                range: EditorSelection.cursor(range.from + toInsert.length)\n            };\n        });\n        view.dispatch(specs);\n    }\n}\nEmacsHandler.commands = {};\nconst emacsKeys = {\n    // movement\n    \"Up|C-p\": { command: \"goOrSelect\", args: [commands.cursorLineUp, commands.selectLineUp] },\n    \"Down|C-n\": { command: \"goOrSelect\", args: [commands.cursorLineDown, commands.selectLineDown] },\n    \"Left|C-b\": { command: \"goOrSelect\", args: [commands.cursorCharBackward, commands.selectCharBackward] },\n    \"Right|C-f\": { command: \"goOrSelect\", args: [commands.cursorCharForward, commands.selectCharForward] },\n    \"C-Left|M-b\": { command: \"goOrSelect\", args: [commands.cursorGroupLeft, commands.selectGroupLeft] },\n    \"C-Right|M-f\": { command: \"goOrSelect\", args: [commands.cursorGroupRight, commands.selectGroupRight] },\n    \"Home|C-a\": { command: \"goOrSelect\", args: [commands.cursorLineStart, commands.selectLineStart] },\n    \"End|C-e\": { command: \"goOrSelect\", args: [commands.cursorLineEnd, commands.selectLineEnd] },\n    \"C-Home|S-M-,\": { command: \"goOrSelect\", args: [commands.cursorDocStart, commands.selectDocStart] },\n    \"C-End|S-M-.\": { command: \"goOrSelect\", args: [commands.cursorDocEnd, commands.selectDocEnd] },\n    // selection\n    \"S-Up|S-C-p\": commands.selectLineUp,\n    \"S-Down|S-C-n\": commands.selectLineDown,\n    \"S-Left|S-C-b\": commands.selectCharBackward,\n    \"S-Right|S-C-f\": commands.selectCharForward,\n    \"S-C-Left|S-M-b\": commands.selectGroupBackward,\n    \"S-C-Right|S-M-f\": commands.selectGroupForward,\n    \"S-Home|S-C-a\": commands.selectLineStart,\n    \"S-End|S-C-e\": commands.selectLineEnd,\n    \"S-C-Home\": commands.selectDocStart,\n    \"S-C-End\": commands.selectDocEnd,\n    \"C-l\": \"recenterTopBottom\",\n    \"M-s\": \"centerSelection\",\n    \"M-g\": \"gotoline\",\n    \"C-x C-p|C-x h\": commands.selectAll,\n    \"PageDown|C-v|C-Down\": { command: \"goOrSelect\", args: [commands.cursorPageDown, commands.selectPageDown] },\n    \"PageUp|M-v|C-Up\": { command: \"goOrSelect\", args: [commands.cursorPageUp, commands.selectPageDown] },\n    \"S-C-Down\": commands.selectPageDown,\n    \"S-C-Up\": commands.selectPageUp,\n    // TODO use iSearch\n    \"C-s\": openSearchPanel,\n    \"C-r\": openSearchPanel,\n    \"M-C-s\": \"findnext\",\n    \"M-C-r\": \"findprevious\",\n    \"S-M-5\": \"replace\",\n    // basic editing\n    \"Backspace\": commands.deleteCharBackward,\n    \"Delete|C-d\": commands.deleteCharForward,\n    \"Return|C-m\": { command: \"insertstring\", args: \"\\n\" },\n    \"C-o\": commands.splitLine,\n    \"M-d|C-Delete\": { command: \"killWord\", args: \"right\" },\n    \"C-Backspace|M-Backspace|M-Delete\": { command: \"killWord\", args: \"left\" },\n    \"C-k\": \"killLine\",\n    \"M-h\": \"selectParagraph\",\n    \"M-@|M-S-2\": \"markWord\",\n    \"C-y|S-Delete\": \"yank\",\n    \"M-y\": \"yankRotate\",\n    \"C-g\": \"keyboardQuit\",\n    \"C-w|C-S-w\": \"killRegion\",\n    \"M-w\": \"killRingSave\",\n    \"C-Space\": \"setMark\",\n    \"C-x C-x\": \"exchangePointAndMark\",\n    \"C-t\": commands.transposeChars,\n    \"M-u\": { command: \"changeCase\", args: { dir: 1 } },\n    \"M-l\": { command: \"changeCase\", args: { dir: -1 } },\n    \"C-x C-u\": { command: \"changeCase\", args: { dir: 1, region: true } },\n    \"C-x C-l\": { command: \"changeCase\", args: { dir: 1, region: true } },\n    \"M-/\": startCompletion,\n    \"C-u\": \"universalArgument\",\n    \"M-;\": commands.toggleComment,\n    \"C-/|C-x u|S-C--|C-z\": commands.undo,\n    \"S-C-/|S-C-x u|C--|S-C-z\": commands.redo,\n    // vertical editing\n    \"C-x r\": \"selectRectangularRegion\",\n    \"M-x\": { command: \"focusCommandLine\", args: \"M-x \" },\n    // todo\n    // \"C-x C-t\" \"M-t\" \"M-c\" \"F11\" \"C-M- \"M-q\"\n    \"Esc\": \"unsetTransientMark\"\n};\nfor (let i in emacsKeys) {\n    /*@__PURE__*/EmacsHandler.bindKey(i, emacsKeys[i]);\n}\n/*@__PURE__*/EmacsHandler.addCommands({\n    unsetTransientMark: function (handler) {\n        handler.setEmacsMark(null);\n        return false;\n    },\n    markWord: function (handler, args) {\n    },\n    selectParagraph: function (handler, args) {\n        var view = handler.view;\n        var head = view.state.selection.ranges[0].head;\n        var doc = view.state.doc;\n        var startLine = doc.lineAt(head);\n        var start = -1;\n        var end = -1;\n        var line = startLine;\n        while (/\\S/.test(line.text) && line.from > 0) {\n            start = line.from;\n            line = view.state.doc.lineAt(line.from - 1);\n        }\n        if (start == -1) {\n            while (!/\\S/.test(line.text) && line.to < doc.length) {\n                start = line.from;\n                line = view.state.doc.lineAt(line.to + 1);\n            }\n        }\n        else {\n            line = startLine;\n        }\n        while (/\\S/.test(line.text) && line.to < doc.length) {\n            end = line.to;\n            line = view.state.doc.lineAt(line.to + 1);\n        }\n        if (end == -1) {\n            end = startLine.to;\n        }\n        var newRanges = [EditorSelection.range(start, end)];\n        view.dispatch({\n            selection: EditorSelection.create(newRanges)\n        });\n    },\n    goOrSelect: {\n        exec: function (handler, args) {\n            var command = handler.emacsMark() ? args[1] : args[0];\n            command(handler.view);\n        }\n    },\n    changeCase: function (handler, args) {\n        var view = handler.view;\n        if (!args.region) {\n            handler.clearSelection();\n            commands.selectGroupForward(view);\n        }\n        var specs = view.state.changeByRange((range) => {\n            var toInsert = view.state.sliceDoc(range.from, range.to);\n            toInsert = args.dir == 1 ? toInsert.toUpperCase() : toInsert.toLowerCase();\n            return {\n                changes: { from: range.from, to: range.to, insert: toInsert },\n                range: EditorSelection.cursor(range.from + toInsert.length)\n            };\n        });\n        view.dispatch(specs);\n    },\n    centerSelection: function (handler) {\n        handler.view.dispatch({ scrollIntoView: true });\n    },\n    recenterTopBottom: function (handler) {\n        var view = handler.view;\n        var scrollTop = view.scrollDOM.scrollTop;\n        view.dispatch({ scrollIntoView: true });\n        try {\n            // force synchronous measurment\n            view.measure(true);\n        }\n        catch (e) { }\n        if (scrollTop != view.scrollDOM.scrollTop)\n            return;\n        var base = view.scrollDOM.getBoundingClientRect();\n        var cursor = view.coordsAtPos(view.state.selection.main.head);\n        if (!cursor)\n            return;\n        var lineHeight = cursor.bottom - cursor.top;\n        var screenHeight = base.height;\n        var cursorTop = cursor.top - base.top;\n        if (Math.abs(cursorTop) < lineHeight / 4) {\n            scrollTop += cursorTop + lineHeight - screenHeight + 2;\n        }\n        else if (Math.abs(cursorTop - screenHeight * 0.5) < lineHeight / 4) {\n            scrollTop += cursorTop - 2;\n        }\n        else {\n            scrollTop += cursorTop - screenHeight * 0.5;\n        }\n        view.scrollDOM.scrollTop = scrollTop;\n    },\n    selectRectangularRegion: function (handler) {\n        var view = handler.view;\n        var ranges = view.state.selection.ranges;\n        var newRanges = [];\n        if (ranges.length > 1) {\n            newRanges.push(EditorSelection.range(ranges[0].from, ranges[ranges.length - 1].to));\n        }\n        else {\n            let doc = view.state.doc;\n            let startLine = doc.lineAt(ranges[0].from);\n            let endLine = doc.lineAt(ranges[0].to);\n            let startCollumn = ranges[0].from - startLine.from;\n            let endCollumn = ranges[0].to - endLine.from;\n            while (startLine.from < endLine.to) {\n                newRanges.push(EditorSelection.range(startLine.from + startCollumn, startLine.from + endCollumn));\n                if (startLine.to + 1 >= doc.length)\n                    break;\n                startLine = doc.lineAt(startLine.to + 1);\n            }\n        }\n        view.dispatch({\n            selection: EditorSelection.create(newRanges)\n        });\n    },\n    setMark: {\n        exec: function (handler, args) {\n            var view = handler.view;\n            var ranges = view.state.selection.ranges;\n            // Sets mark-mode and clears current selection.\n            // When mark is set, keyboard cursor movement commands become\n            // selection modification commands. That is,\n            // \"goto\" commands become \"select\" commands.\n            // Any insertion or mouse click resets mark-mode.\n            // setMark twice in a row at the same place resets markmode.\n            // in multi select mode, ea selection is handled individually\n            if (args && args.count) {\n                var mark = handler.popEmacsMark();\n                if (mark) {\n                    var newRanges = mark.map((p) => {\n                        return EditorSelection.cursor(p, p);\n                    });\n                    view.dispatch({\n                        selection: EditorSelection.create(newRanges)\n                    });\n                }\n                return;\n            }\n            var mark = handler.emacsMark();\n            var rangePositions = ranges.map(function (r) { return r.from; });\n            var hasNoSelection = ranges.every(function (range) { return range.from == range.to; });\n            // if transientMarkModeActive then mark behavior is a little\n            // different. Deactivate the mark when setMark is run with active\n            // mark\n            if ((mark || !hasNoSelection)) {\n                handler.clearSelection();\n                if (mark)\n                    handler.pushEmacsMark(null);\n                return;\n            }\n            if (!mark) {\n                handler.pushEmacsMark(rangePositions);\n                handler.setEmacsMark(rangePositions);\n                return;\n            }\n            // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n        },\n        readOnly: true,\n        handlesCount: true\n    },\n    exchangePointAndMark: {\n        exec: function exchangePointAndMark$exec(handler, args) {\n            var view = handler.view;\n            var selection = view.state.selection;\n            var isEmpty = !selection.ranges.some(r => r.from != r.to);\n            if (!args.count && !isEmpty) { // just invert selection\n                var newRanges = selection.ranges.map(x => {\n                    return EditorSelection.range(x.head, x.anchor);\n                });\n                view.dispatch({\n                    selection: EditorSelection.create(newRanges, selection.mainIndex)\n                });\n                return;\n            }\n            var markRing = handler.$emacsMarkRing;\n            var lastMark = markRing[markRing.length - 1];\n            if (!lastMark)\n                return;\n            if (args.count) { // replace mark and point\n                handler.clearSelection();\n                var newRanges = lastMark.map(x => {\n                    return EditorSelection.range(x, x);\n                });\n                view.dispatch({\n                    selection: EditorSelection.create(newRanges, selection.mainIndex)\n                });\n            }\n            else { // create selection to last mark\n                var n = Math.min(lastMark.length, selection.ranges.length);\n                newRanges = [];\n                for (var i = 0; i < n; i++) {\n                    newRanges.push(EditorSelection.range(selection.ranges[i].head, lastMark[i]));\n                }\n            }\n        },\n        readOnly: true,\n        handlesCount: true,\n    },\n    killWord: {\n        exec: function (handler, dir) {\n            var view = handler.view;\n            var selection = view.state.selection;\n            var newRanges = selection.ranges.map(x => {\n                return EditorSelection.range(x.head, x.head);\n            });\n            view.dispatch({\n                selection: EditorSelection.create(newRanges, selection.mainIndex)\n            });\n            if (dir == \"left\")\n                commands.selectGroupBackward(view);\n            else\n                commands.selectGroupForward(view);\n            selection = view.state.selection;\n            selection.ranges.forEach(r => {\n                var text = view.state.sliceDoc(r.from, r.to);\n                killRing.add(text);\n            });\n            view.dispatch(view.state.replaceSelection(\"\"));\n        },\n    },\n    killLine: function (handler) {\n        handler.pushEmacsMark(null);\n        // don't delete the selection if it's before the cursor\n        handler.clearSelection();\n        commands.selectLineEnd(handler.view);\n        var view = handler.view;\n        var state = view.state;\n        var text = [];\n        var changes = handler.view.state.selection.ranges.map(function (range) {\n            var from = range.from;\n            var to = range.to;\n            var line = state.sliceDoc(from, to);\n            text.push(line);\n            // remove EOL if only whitespace remains after the cursor\n            if (/^\\s*$/.test(line)) {\n                to += 1;\n                text.push(\"\\n\");\n            }\n            return { from, to, insert: \"\" };\n        });\n        if (handler.$data.lastCommand == \"killLine\")\n            killRing.append(text.join(\"\\n\"));\n        else\n            killRing.add(text.join(\"\\n\"));\n        view.dispatch({ changes });\n    },\n    yank: function (handler) {\n        handler.onPaste(killRing.get());\n        handler.$data.lastCommand = \"yank\";\n    },\n    yankRotate: function (handler) {\n        if (handler.$data.lastCommand != \"yank\")\n            return;\n        commands.undo(handler.view);\n        handler.$emacsMarkRing.pop(); // also undo recording mark\n        handler.onPaste(killRing.rotate());\n        handler.$data.lastCommand = \"yank\";\n    },\n    killRegion: {\n        exec: function (handler) {\n            killRing.add(handler.getCopyText());\n            var view = handler.view;\n            view.dispatch(view.state.replaceSelection(\"\"));\n            handler.setEmacsMark(null);\n        },\n    },\n    killRingSave: {\n        exec: function (handler) {\n            var text = handler.getCopyText();\n            killRing.add(text);\n            handler.clearSelection();\n            navigator.clipboard.writeText(text);\n        },\n        readOnly: true\n    },\n    keyboardQuit: function (handler) {\n        var view = handler.view;\n        var selection = view.state.selection;\n        var isEmpty = !selection.ranges.some(r => r.from != r.to);\n        if (selection.ranges.length > 1 && !isEmpty) {\n            var newRanges = selection.ranges.map(x => {\n                return EditorSelection.range(x.head, x.head);\n            });\n            view.dispatch({\n                selection: EditorSelection.create(newRanges, selection.mainIndex)\n            });\n        }\n        else {\n            commands.simplifySelection(handler.view);\n        }\n        handler.setEmacsMark(null);\n        handler.$data.count = null;\n    },\n    focusCommandLine: function (handler, arg) {\n        handler.showCommandLine(arg);\n    }\n});\nconst killRing = {\n    $data: [],\n    add: function (str) {\n        str && this.$data.push(str);\n        if (this.$data.length > 30)\n            this.$data.shift();\n    },\n    append: function (str) {\n        var idx = this.$data.length - 1;\n        var text = this.$data[idx] || \"\";\n        if (str)\n            text += str;\n        if (text)\n            this.$data[idx] = text;\n    },\n    get: function (n) {\n        n = n || 1;\n        return this.$data.slice(this.$data.length - n, this.$data.length).reverse().join('\\n');\n    },\n    pop: function () {\n        if (this.$data.length > 1)\n            this.$data.pop();\n        return this.get();\n    },\n    rotate: function () {\n        let last = this.$data.pop();\n        if (last)\n            this.$data.unshift(last);\n        return this.get();\n    }\n};\n\nexport { emacs, emacsKeys };\n","function cycleDetected(): never {\n\tthrow new Error(\"Cycle detected\");\n}\n\n// Flags for Computed and Effect.\nconst RUNNING = 1 << 0;\nconst NOTIFIED = 1 << 1;\nconst OUTDATED = 1 << 2;\nconst DISPOSED = 1 << 3;\nconst HAS_ERROR = 1 << 4;\nconst TRACKING = 1 << 5;\n\n// A linked list node used to track dependencies (sources) and dependents (targets).\n// Also used to remember the source's last version number that the target saw.\ntype Node = {\n\t// A source whose value the target depends on.\n\t_source: Signal;\n\t_prevSource?: Node;\n\t_nextSource?: Node;\n\n\t// A target that depends on the source and should be notified when the source changes.\n\t_target: Computed | Effect;\n\t_prevTarget?: Node;\n\t_nextTarget?: Node;\n\n\t// The version number of the source that target has last seen. We use version numbers\n\t// instead of storing the source value, because source values can take arbitrary amount\n\t// of memory, and computeds could hang on to them forever because they're lazily evaluated.\n\t// Use the special value -1 to mark potentially unused but recyclable nodes.\n\t_version: number;\n\n\t// Used to remember & roll back the source's previous `._node` value when entering &\n\t// exiting a new evaluation context.\n\t_rollbackNode?: Node;\n};\n\nfunction startBatch() {\n\tbatchDepth++;\n}\n\nfunction endBatch() {\n\tif (batchDepth > 1) {\n\t\tbatchDepth--;\n\t\treturn;\n\t}\n\n\tlet error: unknown;\n\tlet hasError = false;\n\n\twhile (batchedEffect !== undefined) {\n\t\tlet effect: Effect | undefined = batchedEffect;\n\t\tbatchedEffect = undefined;\n\n\t\tbatchIteration++;\n\n\t\twhile (effect !== undefined) {\n\t\t\tconst next: Effect | undefined = effect._nextBatchedEffect;\n\t\t\teffect._nextBatchedEffect = undefined;\n\t\t\teffect._flags &= ~NOTIFIED;\n\n\t\t\tif (!(effect._flags & DISPOSED) && needsToRecompute(effect)) {\n\t\t\t\ttry {\n\t\t\t\t\teffect._callback();\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (!hasError) {\n\t\t\t\t\t\terror = err;\n\t\t\t\t\t\thasError = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\teffect = next;\n\t\t}\n\t}\n\tbatchIteration = 0;\n\tbatchDepth--;\n\n\tif (hasError) {\n\t\tthrow error;\n\t}\n}\n\nfunction batch<T>(callback: () => T): T {\n\tif (batchDepth > 0) {\n\t\treturn callback();\n\t}\n\t/*@__INLINE__**/ startBatch();\n\ttry {\n\t\treturn callback();\n\t} finally {\n\t\tendBatch();\n\t}\n}\n\n// Currently evaluated computed or effect.\nlet evalContext: Computed | Effect | undefined = undefined;\n\n// Effects collected into a batch.\nlet batchedEffect: Effect | undefined = undefined;\nlet batchDepth = 0;\nlet batchIteration = 0;\n\n// A global version number for signals, used for fast-pathing repeated\n// computed.peek()/computed.value calls when nothing has changed globally.\nlet globalVersion = 0;\n\nfunction addDependency(signal: Signal): Node | undefined {\n\tif (evalContext === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet node = signal._node;\n\tif (node === undefined || node._target !== evalContext) {\n\t\t/**\n\t\t * `signal` is a new dependency. Create a new dependency node, and set it\n\t\t * as the tail of the current context's dependency list. e.g:\n\t\t *\n\t\t * { A <-> B       }\n\t\t *              \n\t\t *        tail  node (new)\n\t\t *               \n\t\t * { A <-> B <-> C }\n\t\t *               \n\t\t *              tail (evalContext._sources)\n\t\t */\n\t\tnode = {\n\t\t\t_version: 0,\n\t\t\t_source: signal,\n\t\t\t_prevSource: evalContext._sources,\n\t\t\t_nextSource: undefined,\n\t\t\t_target: evalContext,\n\t\t\t_prevTarget: undefined,\n\t\t\t_nextTarget: undefined,\n\t\t\t_rollbackNode: node,\n\t\t};\n\n\t\tif (evalContext._sources !== undefined) {\n\t\t\tevalContext._sources._nextSource = node;\n\t\t}\n\t\tevalContext._sources = node;\n\t\tsignal._node = node;\n\n\t\t// Subscribe to change notifications from this dependency if we're in an effect\n\t\t// OR evaluating a computed signal that in turn has subscribers.\n\t\tif (evalContext._flags & TRACKING) {\n\t\t\tsignal._subscribe(node);\n\t\t}\n\t\treturn node;\n\t} else if (node._version === -1) {\n\t\t// `signal` is an existing dependency from a previous evaluation. Reuse it.\n\t\tnode._version = 0;\n\n\t\t/**\n\t\t * If `node` is not already the current tail of the dependency list (i.e.\n\t\t * there is a next node in the list), then make the `node` the new tail. e.g:\n\t\t *\n\t\t * { A <-> B <-> C <-> D }\n\t\t *                    \n\t\t *        node    tail (evalContext._sources)\n\t\t *         \n\t\t *                    \n\t\t * { A <-> C <-> D <-> B }\n\t\t *                     \n\t\t *                    tail (evalContext._sources)\n\t\t */\n\t\tif (node._nextSource !== undefined) {\n\t\t\tnode._nextSource._prevSource = node._prevSource;\n\n\t\t\tif (node._prevSource !== undefined) {\n\t\t\t\tnode._prevSource._nextSource = node._nextSource;\n\t\t\t}\n\n\t\t\tnode._prevSource = evalContext._sources;\n\t\t\tnode._nextSource = undefined;\n\n\t\t\tevalContext._sources!._nextSource = node;\n\t\t\tevalContext._sources = node;\n\t\t}\n\n\t\t// We can assume that the currently evaluated effect / computed signal is already\n\t\t// subscribed to change notifications from `signal` if needed.\n\t\treturn node;\n\t}\n\treturn undefined;\n}\n\ndeclare class Signal<T = any> {\n\t/** @internal */\n\t_value: unknown;\n\n\t/**\n\t * @internal\n\t * Version numbers should always be >= 0, because the special value -1 is used\n\t * by Nodes to signify potentially unused but recyclable nodes.\n\t */\n\t_version: number;\n\n\t/** @internal */\n\t_node?: Node;\n\n\t/** @internal */\n\t_targets?: Node;\n\n\tconstructor(value?: T);\n\n\t/** @internal */\n\t_refresh(): boolean;\n\n\t/** @internal */\n\t_subscribe(node: Node): void;\n\n\t/** @internal */\n\t_unsubscribe(node: Node): void;\n\n\tsubscribe(fn: (value: T) => void): () => void;\n\n\tvalueOf(): T;\n\n\ttoString(): string;\n\n\tpeek(): T;\n\n\tget value(): T;\n\tset value(value: T);\n}\n\n/** @internal */\nfunction Signal(this: Signal, value?: unknown) {\n\tthis._value = value;\n\tthis._version = 0;\n\tthis._node = undefined;\n\tthis._targets = undefined;\n}\n\nSignal.prototype._refresh = function () {\n\treturn true;\n};\n\nSignal.prototype._subscribe = function (node) {\n\tif (this._targets !== node && node._prevTarget === undefined) {\n\t\tnode._nextTarget = this._targets;\n\t\tif (this._targets !== undefined) {\n\t\t\tthis._targets._prevTarget = node;\n\t\t}\n\t\tthis._targets = node;\n\t}\n};\n\nSignal.prototype._unsubscribe = function (node) {\n\t// Only run the unsubscribe step if the signal has any subscribers to begin with.\n\tif (this._targets !== undefined) {\n\t\tconst prev = node._prevTarget;\n\t\tconst next = node._nextTarget;\n\t\tif (prev !== undefined) {\n\t\t\tprev._nextTarget = next;\n\t\t\tnode._prevTarget = undefined;\n\t\t}\n\t\tif (next !== undefined) {\n\t\t\tnext._prevTarget = prev;\n\t\t\tnode._nextTarget = undefined;\n\t\t}\n\t\tif (node === this._targets) {\n\t\t\tthis._targets = next;\n\t\t}\n\t}\n};\n\nSignal.prototype.subscribe = function (fn) {\n\tconst signal = this;\n\treturn effect(function (this: Effect) {\n\t\tconst value = signal.value;\n\t\tconst flag = this._flags & TRACKING;\n\t\tthis._flags &= ~TRACKING;\n\t\ttry {\n\t\t\tfn(value);\n\t\t} finally {\n\t\t\tthis._flags |= flag;\n\t\t}\n\t});\n};\n\nSignal.prototype.valueOf = function () {\n\treturn this.value;\n};\n\nSignal.prototype.toString = function () {\n\treturn this.value + \"\";\n};\n\nSignal.prototype.peek = function () {\n\treturn this._value;\n};\n\nObject.defineProperty(Signal.prototype, \"value\", {\n\tget() {\n\t\tconst node = addDependency(this);\n\t\tif (node !== undefined) {\n\t\t\tnode._version = this._version;\n\t\t}\n\t\treturn this._value;\n\t},\n\tset(value) {\n\t\tif (value !== this._value) {\n\t\t\tif (batchIteration > 100) {\n\t\t\t\tcycleDetected();\n\t\t\t}\n\n\t\t\tthis._value = value;\n\t\t\tthis._version++;\n\t\t\tglobalVersion++;\n\n\t\t\t/**@__INLINE__*/ startBatch();\n\t\t\ttry {\n\t\t\t\tfor (\n\t\t\t\t\tlet node = this._targets;\n\t\t\t\t\tnode !== undefined;\n\t\t\t\t\tnode = node._nextTarget\n\t\t\t\t) {\n\t\t\t\t\tnode._target._notify();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tendBatch();\n\t\t\t}\n\t\t}\n\t},\n});\n\nfunction signal<T>(value: T): Signal<T> {\n\treturn new Signal(value);\n}\n\nfunction needsToRecompute(target: Computed | Effect): boolean {\n\t// Check the dependencies for changed values. The dependency list is already\n\t// in order of use. Therefore if multiple dependencies have changed values, only\n\t// the first used dependency is re-evaluated at this point.\n\tfor (\n\t\tlet node = target._sources;\n\t\tnode !== undefined;\n\t\tnode = node._nextSource\n\t) {\n\t\t// If there's a new version of the dependency before or after refreshing,\n\t\t// or the dependency has something blocking it from refreshing at all (e.g. a\n\t\t// dependency cycle), then we need to recompute.\n\t\tif (\n\t\t\tnode._source._version !== node._version ||\n\t\t\t!node._source._refresh() ||\n\t\t\tnode._source._version !== node._version\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t// If none of the dependencies have changed values since last recompute then\n\t// there's no need to recompute.\n\treturn false;\n}\n\nfunction prepareSources(target: Computed | Effect) {\n\t/**\n\t * 1. Mark all current sources as re-usable nodes (version: -1)\n\t * 2. Set a rollback node if the current node is being used in a different context\n\t * 3. Point 'target._sources' to the tail of the doubly-linked list, e.g:\n\t *\n\t *    { undefined <- A <-> B <-> C -> undefined }\n\t *                              \n\t *                              \n\t * target._sources = A; (node is head)  \n\t *                                     \n\t * target._sources = C; (node is tail) \n\t */\n\tfor (\n\t\tlet node = target._sources;\n\t\tnode !== undefined;\n\t\tnode = node._nextSource\n\t) {\n\t\tconst rollbackNode = node._source._node;\n\t\tif (rollbackNode !== undefined) {\n\t\t\tnode._rollbackNode = rollbackNode;\n\t\t}\n\t\tnode._source._node = node;\n\t\tnode._version = -1;\n\n\t\tif (node._nextSource === undefined) {\n\t\t\ttarget._sources = node;\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nfunction cleanupSources(target: Computed | Effect) {\n\tlet node = target._sources;\n\tlet head = undefined;\n\n\t/**\n\t * At this point 'target._sources' points to the tail of the doubly-linked list.\n\t * It contains all existing sources + new sources in order of use.\n\t * Iterate backwards until we find the head node while dropping old dependencies.\n\t */\n\twhile (node !== undefined) {\n\t\tconst prev = node._prevSource;\n\n\t\t/**\n\t\t * The node was not re-used, unsubscribe from its change notifications and remove itself\n\t\t * from the doubly-linked list. e.g:\n\t\t *\n\t\t * { A <-> B <-> C }\n\t\t *         \n\t\t *    { A <-> C }\n\t\t */\n\t\tif (node._version === -1) {\n\t\t\tnode._source._unsubscribe(node);\n\n\t\t\tif (prev !== undefined) {\n\t\t\t\tprev._nextSource = node._nextSource;\n\t\t\t}\n\t\t\tif (node._nextSource !== undefined) {\n\t\t\t\tnode._nextSource._prevSource = prev;\n\t\t\t}\n\t\t} else {\n\t\t\t/**\n\t\t\t * The new head is the last node seen which wasn't removed/unsubscribed\n\t\t\t * from the doubly-linked list. e.g:\n\t\t\t *\n\t\t\t * { A <-> B <-> C }\n\t\t\t *             \n\t\t\t *              head = node\n\t\t\t *         head = node\n\t\t\t *    head = node\n\t\t\t */\n\t\t\thead = node;\n\t\t}\n\n\t\tnode._source._node = node._rollbackNode;\n\t\tif (node._rollbackNode !== undefined) {\n\t\t\tnode._rollbackNode = undefined;\n\t\t}\n\n\t\tnode = prev;\n\t}\n\n\ttarget._sources = head;\n}\n\ndeclare class Computed<T = any> extends Signal<T> {\n\t_compute: () => T;\n\t_sources?: Node;\n\t_globalVersion: number;\n\t_flags: number;\n\n\tconstructor(compute: () => T);\n\n\t_notify(): void;\n\tget value(): T;\n}\n\nfunction Computed(this: Computed, compute: () => unknown) {\n\tSignal.call(this, undefined);\n\n\tthis._compute = compute;\n\tthis._sources = undefined;\n\tthis._globalVersion = globalVersion - 1;\n\tthis._flags = OUTDATED;\n}\n\nComputed.prototype = new Signal() as Computed;\n\nComputed.prototype._refresh = function () {\n\tthis._flags &= ~NOTIFIED;\n\n\tif (this._flags & RUNNING) {\n\t\treturn false;\n\t}\n\n\t// If this computed signal has subscribed to updates from its dependencies\n\t// (TRACKING flag set) and none of them have notified about changes (OUTDATED\n\t// flag not set), then the computed value can't have changed.\n\tif ((this._flags & (OUTDATED | TRACKING)) === TRACKING) {\n\t\treturn true;\n\t}\n\tthis._flags &= ~OUTDATED;\n\n\tif (this._globalVersion === globalVersion) {\n\t\treturn true;\n\t}\n\tthis._globalVersion = globalVersion;\n\n\t// Mark this computed signal running before checking the dependencies for value\n\t// changes, so that the RUNNING flag can be used to notice cyclical dependencies.\n\tthis._flags |= RUNNING;\n\tif (this._version > 0 && !needsToRecompute(this)) {\n\t\tthis._flags &= ~RUNNING;\n\t\treturn true;\n\t}\n\n\tconst prevContext = evalContext;\n\ttry {\n\t\tprepareSources(this);\n\t\tevalContext = this;\n\t\tconst value = this._compute();\n\t\tif (\n\t\t\tthis._flags & HAS_ERROR ||\n\t\t\tthis._value !== value ||\n\t\t\tthis._version === 0\n\t\t) {\n\t\t\tthis._value = value;\n\t\t\tthis._flags &= ~HAS_ERROR;\n\t\t\tthis._version++;\n\t\t}\n\t} catch (err) {\n\t\tthis._value = err;\n\t\tthis._flags |= HAS_ERROR;\n\t\tthis._version++;\n\t}\n\tevalContext = prevContext;\n\tcleanupSources(this);\n\tthis._flags &= ~RUNNING;\n\treturn true;\n};\n\nComputed.prototype._subscribe = function (node) {\n\tif (this._targets === undefined) {\n\t\tthis._flags |= OUTDATED | TRACKING;\n\n\t\t// A computed signal subscribes lazily to its dependencies when the it\n\t\t// gets its first subscriber.\n\t\tfor (\n\t\t\tlet node = this._sources;\n\t\t\tnode !== undefined;\n\t\t\tnode = node._nextSource\n\t\t) {\n\t\t\tnode._source._subscribe(node);\n\t\t}\n\t}\n\tSignal.prototype._subscribe.call(this, node);\n};\n\nComputed.prototype._unsubscribe = function (node) {\n\t// Only run the unsubscribe step if the computed signal has any subscribers.\n\tif (this._targets !== undefined) {\n\t\tSignal.prototype._unsubscribe.call(this, node);\n\n\t\t// Computed signal unsubscribes from its dependencies when it loses its last subscriber.\n\t\t// This makes it possible for unreferences subgraphs of computed signals to get garbage collected.\n\t\tif (this._targets === undefined) {\n\t\t\tthis._flags &= ~TRACKING;\n\n\t\t\tfor (\n\t\t\t\tlet node = this._sources;\n\t\t\t\tnode !== undefined;\n\t\t\t\tnode = node._nextSource\n\t\t\t) {\n\t\t\t\tnode._source._unsubscribe(node);\n\t\t\t}\n\t\t}\n\t}\n};\n\nComputed.prototype._notify = function () {\n\tif (!(this._flags & NOTIFIED)) {\n\t\tthis._flags |= OUTDATED | NOTIFIED;\n\n\t\tfor (\n\t\t\tlet node = this._targets;\n\t\t\tnode !== undefined;\n\t\t\tnode = node._nextTarget\n\t\t) {\n\t\t\tnode._target._notify();\n\t\t}\n\t}\n};\n\nComputed.prototype.peek = function () {\n\tif (!this._refresh()) {\n\t\tcycleDetected();\n\t}\n\tif (this._flags & HAS_ERROR) {\n\t\tthrow this._value;\n\t}\n\treturn this._value;\n};\n\nObject.defineProperty(Computed.prototype, \"value\", {\n\tget() {\n\t\tif (this._flags & RUNNING) {\n\t\t\tcycleDetected();\n\t\t}\n\t\tconst node = addDependency(this);\n\t\tthis._refresh();\n\t\tif (node !== undefined) {\n\t\t\tnode._version = this._version;\n\t\t}\n\t\tif (this._flags & HAS_ERROR) {\n\t\t\tthrow this._value;\n\t\t}\n\t\treturn this._value;\n\t},\n});\n\ninterface ReadonlySignal<T = any> extends Signal<T> {\n\treadonly value: T;\n}\n\nfunction computed<T>(compute: () => T): ReadonlySignal<T> {\n\treturn new Computed(compute);\n}\n\nfunction cleanupEffect(effect: Effect) {\n\tconst cleanup = effect._cleanup;\n\teffect._cleanup = undefined;\n\n\tif (typeof cleanup === \"function\") {\n\t\t/*@__INLINE__**/ startBatch();\n\n\t\t// Run cleanup functions always outside of any context.\n\t\tconst prevContext = evalContext;\n\t\tevalContext = undefined;\n\t\ttry {\n\t\t\tcleanup();\n\t\t} catch (err) {\n\t\t\teffect._flags &= ~RUNNING;\n\t\t\teffect._flags |= DISPOSED;\n\t\t\tdisposeEffect(effect);\n\t\t\tthrow err;\n\t\t} finally {\n\t\t\tevalContext = prevContext;\n\t\t\tendBatch();\n\t\t}\n\t}\n}\n\nfunction disposeEffect(effect: Effect) {\n\tfor (\n\t\tlet node = effect._sources;\n\t\tnode !== undefined;\n\t\tnode = node._nextSource\n\t) {\n\t\tnode._source._unsubscribe(node);\n\t}\n\teffect._compute = undefined;\n\teffect._sources = undefined;\n\n\tcleanupEffect(effect);\n}\n\nfunction endEffect(this: Effect, prevContext?: Computed | Effect) {\n\tif (evalContext !== this) {\n\t\tthrow new Error(\"Out-of-order effect\");\n\t}\n\tcleanupSources(this);\n\tevalContext = prevContext;\n\n\tthis._flags &= ~RUNNING;\n\tif (this._flags & DISPOSED) {\n\t\tdisposeEffect(this);\n\t}\n\tendBatch();\n}\n\ndeclare class Effect {\n\t_compute?: () => unknown;\n\t_cleanup?: unknown;\n\t_sources?: Node;\n\t_nextBatchedEffect?: Effect;\n\t_flags: number;\n\n\tconstructor(compute: () => void);\n\n\t_callback(): void;\n\t_start(): () => void;\n\t_notify(): void;\n\t_dispose(): void;\n}\n\nfunction Effect(this: Effect, compute: () => void) {\n\tthis._compute = compute;\n\tthis._cleanup = undefined;\n\tthis._sources = undefined;\n\tthis._nextBatchedEffect = undefined;\n\tthis._flags = TRACKING;\n}\n\nEffect.prototype._callback = function () {\n\tconst finish = this._start();\n\ttry {\n\t\tif (!(this._flags & DISPOSED) && this._compute !== undefined) {\n\t\t\tthis._cleanup = this._compute();\n\t\t}\n\t} finally {\n\t\tfinish();\n\t}\n};\n\nEffect.prototype._start = function () {\n\tif (this._flags & RUNNING) {\n\t\tcycleDetected();\n\t}\n\tthis._flags |= RUNNING;\n\tthis._flags &= ~DISPOSED;\n\tcleanupEffect(this);\n\tprepareSources(this);\n\n\t/*@__INLINE__**/ startBatch();\n\tconst prevContext = evalContext;\n\tevalContext = this;\n\treturn endEffect.bind(this, prevContext);\n};\n\nEffect.prototype._notify = function () {\n\tif (!(this._flags & NOTIFIED)) {\n\t\tthis._flags |= NOTIFIED;\n\t\tthis._nextBatchedEffect = batchedEffect;\n\t\tbatchedEffect = this;\n\t}\n};\n\nEffect.prototype._dispose = function () {\n\tthis._flags |= DISPOSED;\n\n\tif (!(this._flags & RUNNING)) {\n\t\tdisposeEffect(this);\n\t}\n};\n\nfunction effect(compute: () => unknown): () => void {\n\tconst effect = new Effect(compute);\n\ttry {\n\t\teffect._callback();\n\t} catch (err) {\n\t\teffect._dispose();\n\t\tthrow err;\n\t}\n\t// Return a bound function instead of a wrapper like `() => effect._dispose()`,\n\t// because bound functions seem to be just as fast and take up a lot less memory.\n\treturn effect._dispose.bind(effect);\n}\n\nexport { signal, computed, effect, batch, Signal, ReadonlySignal };\n","import { options, Component } from \"preact\";\nimport { useRef, useMemo, useEffect } from \"preact/hooks\";\nimport {\n\tsignal,\n\tcomputed,\n\tbatch,\n\teffect,\n\tSignal,\n\ttype ReadonlySignal,\n} from \"@preact/signals-core\";\nimport {\n\tVNode,\n\tOptionsTypes,\n\tHookFn,\n\tEffect,\n\tPropertyUpdater,\n\tAugmentedComponent,\n\tAugmentedElement as Element,\n} from \"./internal\";\n\nexport { signal, computed, batch, effect, Signal, type ReadonlySignal };\n\nconst HAS_PENDING_UPDATE = 1 << 0;\nconst HAS_HOOK_STATE = 1 << 1;\nconst HAS_COMPUTEDS = 1 << 2;\n\n// Install a Preact options hook\nfunction hook<T extends OptionsTypes>(hookName: T, hookFn: HookFn<T>) {\n\t// @ts-ignore-next-line private options hooks usage\n\toptions[hookName] = hookFn.bind(null, options[hookName] || (() => {}));\n}\n\nlet currentComponent: AugmentedComponent | undefined;\nlet finishUpdate: (() => void) | undefined;\n\nfunction setCurrentUpdater(updater?: Effect) {\n\t// end tracking for the current update:\n\tif (finishUpdate) finishUpdate();\n\t// start tracking the new update:\n\tfinishUpdate = updater && updater._start();\n}\n\nfunction createUpdater(update: () => void) {\n\tlet updater!: Effect;\n\teffect(function (this: Effect) {\n\t\tupdater = this;\n\t});\n\tupdater._callback = update;\n\treturn updater;\n}\n\n/** @todo This may be needed for complex prop value detection. */\n// function isSignalValue(value: any): value is Signal {\n// \tif (typeof value !== \"object\" || value == null) return false;\n// \tif (value instanceof Signal) return true;\n// \t// @TODO: uncomment this when we land Reactive (ideally behind a brand check)\n// \t// for (let i in value) if (value[i] instanceof Signal) return true;\n// \treturn false;\n// }\n\n/**\n * A wrapper component that renders a Signal directly as a Text node.\n * @todo: in Preact 11, just decorate Signal with `type:null`\n */\nfunction Text(this: AugmentedComponent, { data }: { data: Signal }) {\n\t// hasComputeds.add(this);\n\n\t// Store the props.data signal in another signal so that\n\t// passing a new signal reference re-runs the text computed:\n\tconst currentSignal = useSignal(data);\n\tcurrentSignal.value = data;\n\n\tconst s = useMemo(() => {\n\t\t// mark the parent component as having computeds so it gets optimized\n\t\tlet v = this.__v;\n\t\twhile ((v = v.__!)) {\n\t\t\tif (v.__c) {\n\t\t\t\tv.__c._updateFlags |= HAS_COMPUTEDS;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Replace this component's vdom updater with a direct text one:\n\t\tthis._updater!._callback = () => {\n\t\t\t(this.base as Text).data = s.peek();\n\t\t};\n\n\t\treturn computed(() => {\n\t\t\tlet data = currentSignal.value;\n\t\t\tlet s = data.value;\n\t\t\treturn s === 0 ? 0 : s === true ? \"\" : s || \"\";\n\t\t});\n\t}, []);\n\n\treturn s.value;\n}\nText.displayName = \"_st\";\n\nObject.defineProperties(Signal.prototype, {\n\tconstructor: { configurable: true, value: undefined },\n\ttype: { configurable: true, value: Text },\n\tprops: {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn { data: this };\n\t\t},\n\t},\n\t// Setting a VNode's _depth to 1 forces Preact to clone it before modifying:\n\t// https://github.com/preactjs/preact/blob/d7a433ee8463a7dc23a05111bb47de9ec729ad4d/src/diff/children.js#L77\n\t// @todo remove this for Preact 11\n\t__b: { configurable: true, value: 1 },\n});\n\n/** Inject low-level property/attribute bindings for Signals into Preact's diff */\nhook(OptionsTypes.DIFF, (old, vnode) => {\n\tif (typeof vnode.type === \"string\") {\n\t\tlet signalProps: Record<string, any> | undefined;\n\n\t\tlet props = vnode.props;\n\t\tfor (let i in props) {\n\t\t\tif (i === \"children\") continue;\n\n\t\t\tlet value = props[i];\n\t\t\tif (value instanceof Signal) {\n\t\t\t\tif (!signalProps) vnode.__np = signalProps = {};\n\t\t\t\tsignalProps[i] = value;\n\t\t\t\tprops[i] = value.peek();\n\t\t\t}\n\t\t}\n\t}\n\n\told(vnode);\n});\n\n/** Set up Updater before rendering a component */\nhook(OptionsTypes.RENDER, (old, vnode) => {\n\tsetCurrentUpdater();\n\n\tlet updater;\n\n\tlet component = vnode.__c;\n\tif (component) {\n\t\tcomponent._updateFlags &= ~HAS_PENDING_UPDATE;\n\n\t\tupdater = component._updater;\n\t\tif (updater === undefined) {\n\t\t\tcomponent._updater = updater = createUpdater(() => {\n\t\t\t\tcomponent._updateFlags |= HAS_PENDING_UPDATE;\n\t\t\t\tcomponent.setState({});\n\t\t\t});\n\t\t}\n\t}\n\n\tcurrentComponent = component;\n\tsetCurrentUpdater(updater);\n\told(vnode);\n});\n\n/** Finish current updater if a component errors */\nhook(OptionsTypes.CATCH_ERROR, (old, error, vnode, oldVNode) => {\n\tsetCurrentUpdater();\n\tcurrentComponent = undefined;\n\told(error, vnode, oldVNode);\n});\n\n/** Finish current updater after rendering any VNode */\nhook(OptionsTypes.DIFFED, (old, vnode) => {\n\tsetCurrentUpdater();\n\tcurrentComponent = undefined;\n\n\tlet dom: Element;\n\n\t// vnode._dom is undefined during string rendering,\n\t// so we use this to skip prop subscriptions during SSR.\n\tif (typeof vnode.type === \"string\" && (dom = vnode.__e as Element)) {\n\t\tlet props = vnode.__np;\n\t\tlet renderedProps = vnode.props;\n\t\tif (props) {\n\t\t\tlet updaters = dom._updaters;\n\t\t\tif (updaters) {\n\t\t\t\tfor (let prop in updaters) {\n\t\t\t\t\tlet updater = updaters[prop];\n\t\t\t\t\tif (updater !== undefined && !(prop in props)) {\n\t\t\t\t\t\tupdater._dispose();\n\t\t\t\t\t\t// @todo we could just always invoke _dispose() here\n\t\t\t\t\t\tupdaters[prop] = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tupdaters = {};\n\t\t\t\tdom._updaters = updaters;\n\t\t\t}\n\t\t\tfor (let prop in props) {\n\t\t\t\tlet updater = updaters[prop];\n\t\t\t\tlet signal = props[prop];\n\t\t\t\tif (updater === undefined) {\n\t\t\t\t\tupdater = createPropUpdater(dom, prop, signal, renderedProps);\n\t\t\t\t\tupdaters[prop] = updater;\n\t\t\t\t} else {\n\t\t\t\t\tupdater._update(signal, renderedProps);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\told(vnode);\n});\n\nfunction createPropUpdater(\n\tdom: Element,\n\tprop: string,\n\tpropSignal: Signal,\n\tprops: Record<string, any>\n): PropertyUpdater {\n\tconst setAsProperty =\n\t\tprop in dom &&\n\t\t// SVG elements need to go through `setAttribute` because they\n\t\t// expect things like SVGAnimatedTransformList instead of strings.\n\t\t// @ts-ignore\n\t\tdom.ownerSVGElement === undefined;\n\n\tconst changeSignal = signal(propSignal);\n\treturn {\n\t\t_update: (newSignal: Signal, newProps: typeof props) => {\n\t\t\tchangeSignal.value = newSignal;\n\t\t\tprops = newProps;\n\t\t},\n\t\t_dispose: effect(() => {\n\t\t\tconst value = changeSignal.value.value;\n\t\t\t// If Preact just rendered this value, don't render it again:\n\t\t\tif (props[prop] === value) return;\n\t\t\tprops[prop] = value;\n\t\t\tif (setAsProperty) {\n\t\t\t\t// @ts-ignore-next-line silly\n\t\t\t\tdom[prop] = value;\n\t\t\t} else if (value) {\n\t\t\t\tdom.setAttribute(prop, value);\n\t\t\t} else {\n\t\t\t\tdom.removeAttribute(prop);\n\t\t\t}\n\t\t}),\n\t};\n}\n\n/** Unsubscribe from Signals when unmounting components/vnodes */\nhook(OptionsTypes.UNMOUNT, (old, vnode: VNode) => {\n\tif (typeof vnode.type === \"string\") {\n\t\tlet dom = vnode.__e as Element | undefined;\n\t\t// vnode._dom is undefined during string rendering\n\t\tif (dom) {\n\t\t\tconst updaters = dom._updaters;\n\t\t\tif (updaters) {\n\t\t\t\tdom._updaters = undefined;\n\t\t\t\tfor (let prop in updaters) {\n\t\t\t\t\tlet updater = updaters[prop];\n\t\t\t\t\tif (updater) updater._dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tlet component = vnode.__c;\n\t\tif (component) {\n\t\t\tconst updater = component._updater;\n\t\t\tif (updater) {\n\t\t\t\tcomponent._updater = undefined;\n\t\t\t\tupdater._dispose();\n\t\t\t}\n\t\t}\n\t}\n\told(vnode);\n});\n\n/** Mark components that use hook state so we can skip sCU optimization. */\nhook(OptionsTypes.HOOK, (old, component, index, type) => {\n\tif (type < 3)\n\t\t(component as AugmentedComponent)._updateFlags |= HAS_HOOK_STATE;\n\told(component, index, type);\n});\n\n/**\n * Auto-memoize components that use Signals/Computeds.\n * Note: Does _not_ optimize components that use hook/class state.\n */\nComponent.prototype.shouldComponentUpdate = function (\n\tthis: AugmentedComponent,\n\tprops,\n\tstate\n) {\n\t// @todo: Once preactjs/preact#3671 lands, this could just use `currentUpdater`:\n\tconst updater = this._updater;\n\tconst hasSignals = updater && updater._sources !== undefined;\n\n\t// let reason;\n\t// if (!hasSignals && !hasComputeds.has(this)) {\n\t// \treason = \"no signals or computeds\";\n\t// } else if (hasPendingUpdate.has(this)) {\n\t// \treason = \"has pending update\";\n\t// } else if (hasHookState.has(this)) {\n\t// \treason = \"has hook state\";\n\t// }\n\t// if (reason) {\n\t// \tif (!this) reason += \" (`this` bug)\";\n\t// \tconsole.log(\"not optimizing\", this?.constructor?.name, \": \", reason, {\n\t// \t\tdetails: {\n\t// \t\t\thasSignals,\n\t// \t\t\thasComputeds: hasComputeds.has(this),\n\t// \t\t\thasPendingUpdate: hasPendingUpdate.has(this),\n\t// \t\t\thasHookState: hasHookState.has(this),\n\t// \t\t\tdeps: Array.from(updater._deps),\n\t// \t\t\tupdater,\n\t// \t\t},\n\t// \t});\n\t// }\n\n\t// if this component used no signals or computeds, update:\n\tif (!hasSignals && !(this._updateFlags & HAS_COMPUTEDS)) return true;\n\n\t// if there is a pending re-render triggered from Signals,\n\t// or if there is hook or class state, update:\n\tif (this._updateFlags & (HAS_PENDING_UPDATE | HAS_HOOK_STATE)) return true;\n\n\t// @ts-ignore\n\tfor (let i in state) return true;\n\n\t// if any non-Signal props changed, update:\n\tfor (let i in props) {\n\t\tif (i !== \"__source\" && props[i] !== this.props[i]) return true;\n\t}\n\tfor (let i in this.props) if (!(i in props)) return true;\n\n\t// this is a purely Signal-driven component, don't update:\n\treturn false;\n};\n\nexport function useSignal<T>(value: T) {\n\treturn useMemo(() => signal<T>(value), []);\n}\n\nexport function useComputed<T>(compute: () => T) {\n\tconst $compute = useRef(compute);\n\t$compute.current = compute;\n\t(currentComponent as AugmentedComponent)._updateFlags |= HAS_COMPUTEDS;\n\treturn useMemo(() => computed<T>(() => $compute.current()), []);\n}\n\nexport function useSignalEffect(cb: () => void | (() => void)) {\n\tconst callback = useRef(cb);\n\tcallback.current = cb;\n\n\tuseEffect(() => {\n\t\treturn effect(() => callback.current());\n\t}, []);\n}\n\n/**\n * @todo Determine which Reactive implementation we'll be using.\n * @internal\n */\n// export function useReactive<T extends object>(value: T): Reactive<T> {\n// \treturn useMemo(() => reactive<T>(value), []);\n// }\n\n/**\n * @internal\n * Update a Reactive's using the properties of an object or other Reactive.\n * Also works for Signals.\n * @example\n *   // Update a Reactive with Object.assign()-like syntax:\n *   const r = reactive({ name: \"Alice\" });\n *   update(r, { name: \"Bob\" });\n *   update(r, { age: 42 }); // property 'age' does not exist in type '{ name?: string }'\n *   update(r, 2); // '2' has no properties in common with '{ name?: string }'\n *   console.log(r.name.value); // \"Bob\"\n *\n * @example\n *   // Update a Reactive with the properties of another Reactive:\n *   const A = reactive({ name: \"Alice\" });\n *   const B = reactive({ name: \"Bob\", age: 42 });\n *   update(A, B);\n *   console.log(`${A.name} is ${A.age}`); // \"Bob is 42\"\n *\n * @example\n *   // Update a signal with assign()-like syntax:\n *   const s = signal(42);\n *   update(s, \"hi\"); // Argument type 'string' not assignable to type 'number'\n *   update(s, {}); // Argument type '{}' not assignable to type 'number'\n *   update(s, 43);\n *   console.log(s.value); // 43\n *\n * @param obj The Reactive or Signal to be updated\n * @param update The value, Signal, object or Reactive to update `obj` to match\n * @param overwrite If `true`, any properties `obj` missing from `update` are set to `undefined`\n */\n/*\nexport function update<T extends SignalOrReactive>(\n\tobj: T,\n\tupdate: Partial<Unwrap<T>>,\n\toverwrite = false\n) {\n\tif (obj instanceof Signal) {\n\t\tobj.value = peekValue(update);\n\t} else {\n\t\tfor (let i in update) {\n\t\t\tif (i in obj) {\n\t\t\t\tobj[i].value = peekValue(update[i]);\n\t\t\t} else {\n\t\t\t\tlet sig = signal(peekValue(update[i]));\n\t\t\t\tsig[KEY] = i;\n\t\t\t\tobj[i] = sig;\n\t\t\t}\n\t\t}\n\t\tif (overwrite) {\n\t\t\tfor (let i in obj) {\n\t\t\t\tif (!(i in update)) {\n\t\t\t\t\tobj[i].value = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n*/\n","import { h } from 'preact'\nimport style from './style.css'\nimport { useRef, useEffect, MutableRef } from 'preact/hooks'\nimport { EditorView, basicSetup } from 'codemirror'\nimport { keymap } from '@codemirror/view'\nimport { indentWithTab } from '@codemirror/commands'\nimport { StreamLanguage } from '@codemirror/language'\nimport { haskell } from '@codemirror/legacy-modes/mode/haskell'\nimport { oneDark } from '@codemirror/theme-one-dark'\nimport { vim } from '@replit/codemirror-vim'\nimport { Compartment, Extension, Text } from '@codemirror/state'\nimport { emacs } from '@replit/codemirror-emacs'\nimport { Signal, useSignal } from '@preact/signals'\n\n// Code\nexport type Code = Text\n\nexport const codeFromString = (str: string): Code =>\n  Text.of(str.split('\\n'))\n\nexport const codeToString = (code: Code): string =>\n  code.toString()\n\n// Theme\nexport type Theme = \"Light\" | \"Dark\"\n\nexport const themes: Theme[] = [\"Light\", \"Dark\"]\n\nconst theme = (t: Theme): Extension => {\n  switch (t) {\n    case \"Light\":\n      return []\n    case \"Dark\":\n      return oneDark\n  }\n}\n\n// Key bindings\nexport type KeyBinding = \"Default\" | \"Vim\" | \"Emacs\"\n\nexport const keyBindings: KeyBinding[] = [\"Default\", \"Vim\", \"Emacs\"]\n\nconst keyBinding = (kb: KeyBinding): Extension => {\n  switch (kb) {\n    case \"Vim\":\n      return vim()\n    case \"Emacs\":\n      return emacs()\n    case \"Default\":\n      return []\n  }\n}\n\nexport type Props = {\n  code?: Code,\n  theme: Theme,\n  keyBinding: KeyBinding,\n  onCodeEdit?: (code: Code) => void,\n}\n\ntype LocalState = {\n  view: EditorView,\n  keyBindingConfig: Compartment,\n  themeConfig: Compartment,\n}\n\nconst CodeEditor = (props: Props) => {\n  const ref = useRef() as MutableRef<HTMLDivElement>\n  const local = useSignal({}) as Signal<LocalState | undefined>\n\n  useEffect(() => {\n    const keyBindingConfig = new Compartment\n    const themeConfig = new Compartment\n    const view = new EditorView({\n      doc: props.code,\n      parent: ref.current,\n      extensions: [\n        keyBindingConfig.of(keyBinding(props.keyBinding)),\n        basicSetup,\n        keymap.of([indentWithTab]),\n        StreamLanguage.define(haskell),\n        themeConfig.of(theme(props.theme)),\n        EditorView.updateListener.of(e => {\n          if (!e.docChanged) return\n          props.onCodeEdit?.(e.state.doc)\n        }),\n      ],\n    })\n\n    local.value = { view, keyBindingConfig, themeConfig }\n  }, [])\n\n  useEffect(() => {\n    if (local.value === undefined) return\n    if (local.value.view.state.doc === props.code) return\n    local.value.view.dispatch(\n      local.value.view.state.update({\n        changes: {\n          from: 0,\n          to: local.value.view.state.doc.length,\n          insert: props.code\n        }\n      })\n    )\n  }, [props.code])\n\n  useEffect(() => {\n    if (local.value === undefined) return\n    local.value.view?.dispatch({\n      effects: local.value.themeConfig.reconfigure(\n        theme(props.theme)\n      )\n    })\n  }, [props.theme])\n\n  useEffect(() => {\n    if (local.value === undefined) return\n    local.value.view?.dispatch({\n      effects: local.value.keyBindingConfig.reconfigure(\n        keyBinding(props.keyBinding)\n      )\n    })\n  }, [props.keyBinding])\n\n  return <div class={style.code_editor}>\n    <div ref={ref} />\n  </div>\n}\n\nexport default CodeEditor\n","// extracted by mini-css-extract-plugin\nexport default {\"config_select\":\"config_select__NBGMv\",\"options\":\"options__1Vfgv\",\"selected\":\"selected__ev2uE\"};","import { ComponentChildren, h } from 'preact'\nimport style from './style.css'\n\nexport type Props<A> = {\n  name: string,\n  options: A[],\n  current: A,\n  select: (a: A) => void,\n}\n\ntype ConfigSelect = <A extends ComponentChildren>(props: Props<A>) => h.JSX.Element\n\nconst ConfigSelect: ConfigSelect = props =>\n  <div class={style.config_select}>\n    <p>{props.name}:</p>\n    <div class={style.options}>\n      {props.options.map((o, i) =>\n        <a\n          key={i}\n          class={o === props.current ? style.selected : undefined}\n          onClick={() => props.select(o)}>\n          {o}\n        </a>\n      )}\n    </div>\n  </div>\n\nexport default ConfigSelect\n","import { h } from 'preact'\nimport style from './style.css'\nimport { useState } from 'preact/hooks'\nimport CodeEditor, { KeyBinding, Theme, codeFromString, keyBindings, themes } from '../../components/code-editor'\nimport ConfigSelect from '../../components/config-select';\n\nconst initialCode = `module Main where\n\nimport Universum\n\nimport MyMonad\n\nmain :: IO ()\nmain = runMyMonad $ do\n  result <- stuff\n  case result of\n    Foo f -> throwError $ MyError f\n    Bar b -> do\n      moreStuff b\n      bye\n`\n\nconst Home = () => {\n  const [code, setCode] = useState(codeFromString(initialCode))\n  const [keyBinding, setKeyBinding] = useState(\"Default\" as KeyBinding)\n  const [theme, setTheme] = useState(\"Light\" as Theme)\n  return <div class={style.editor}>\n    <p> This is a <a href={\"https://codemirror.net\"} rel=\"noreferrer\" target={\"_blank\"}>CodeMirror</a> demo for\n      trying some configurations and customizations.\n    </p>\n    <p> From the documentation, its style can be customized with CSS <a href={\"https://codemirror.net/examples/styling/#old-fashioned-css\"} rel=\"noreferrer\" target={\"_blank\"}>in the traditional way</a>, taking\n      precedence over styles generated by code (e.g. themes). <a href={\"https://codemirror.net/examples/styling/#things-you-can-style\"} rel=\"noreferrer\" target={\"_blank\"}>Here</a> they\n      list the different CSS classes that you can extend (e.g. cursor, line, scroll, selection, etc) with the\n      usual CSS styling capabilities (e.g. sizes, fonts, colors, border, margins, etc).\n    </p>\n    <p> Besides that, you can also define your\n      own <a href={\"https://codemirror.net/examples/styling/#themes\"} rel=\"noreferrer\" target={\"_blank\"}>themes</a> and <a href={\"https://codemirror.net/examples/styling/#highlighting\"} rel=\"noreferrer\" target={\"_blank\"}> syntax highlighting</a>, and\n      even add more complex custom elements with some\n      provided <a href={\"https://codemirror.net/examples/decoration/\"} rel=\"noreferrer\" target={\"_blank\"}>techniques</a>.\n    </p>\n\n    <ConfigSelect\n      name={\"Builtin themes\"}\n      options={themes}\n      current={theme}\n      select={setTheme}\n    />\n\n    <ConfigSelect\n      name={\"Key bindings\"}\n      options={keyBindings}\n      current={keyBinding}\n      select={setKeyBinding}\n    />\n\n    <p> Code editor with basic setup, tab indentation handling,\n      Haskell syntax highlighting, and dynamic theme and key binding\n      configuration managed with the above buttons:\n    </p>\n\n    <CodeEditor\n      code={code}\n      onCodeEdit={setCode}\n      theme={theme}\n      keyBinding={keyBinding}\n    />\n  </div>\n}\n\nexport default Home\n","import { h } from 'preact'\nimport Home from '../routes/home'\n\nconst App = () =>\n  <div id=\"app\">\n    <Home/>\n  </div>\n\nexport default App\n","import './style/index.css'\nimport App from './components/app'\n\nexport default App\n"],"sourceRoot":""}